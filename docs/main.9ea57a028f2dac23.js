"use strict";(self.webpackChunkDiscuss=self.webpackChunkDiscuss||[]).push([[179],{2011:(mt,be,k)=>{k.d(be,{Dh:()=>ye,GT:()=>oe,cc:()=>Ee,hO:()=>Ue,on:()=>j,pX:()=>se,xv:()=>we});var h=k(4650),F=k(9260),G=k(3069);mt=k.hmd(mt);const ie=["ngOnDestroy"],se=(me,ve,Pe,Ie={})=>new Proxy(me,{get:(ge,De)=>Pe.runOutsideAngular(()=>{var Ve;if(me[De])return!(null===(Ve=Ie?.spy)||void 0===Ve)&&Ve.get&&Ie.spy.get(De,me[De]),me[De];if(ie.indexOf(De)>-1)return()=>{};const Me=ve.toPromise().then(U=>{const he=U&&U[De];return"function"==typeof he?he.bind(U):he&&he.then?he.then(Be=>Pe.run(()=>Be)):Pe.run(()=>he)});return new Proxy(()=>{},{get:(U,he)=>Me[he],apply:(U,he,Be)=>Me.then(Ge=>{var Tt;const Ye=Ge&&Ge(...Be);return!(null===(Tt=Ie?.spy)||void 0===Tt)&&Tt.apply&&Ie.spy.apply(De,Be,Ye),Ye})})})}),oe=(me,ve)=>{ve.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Ie=>{Object.defineProperty(me.prototype,Ie,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Ie))})})};class Re{constructor(ve){return ve}}const ye=new h.OlP("angularfire2.app.options"),we=new h.OlP("angularfire2.app.name");function j(me,ve,Pe){const ge="object"==typeof Pe&&Pe||{};ge.name=ge.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const Ve=F.Z.apps.filter(Me=>Me&&Me.name===ge.name)[0]||ve.runOutsideAngular(()=>F.Z.initializeApp(me,ge));try{JSON.stringify(me)!==JSON.stringify(Ve.options)&&$("error",`${Ve.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Re(Ve)}const $=(me,...ve)=>{(0,h.X6Q)()&&typeof console<"u"&&console[me](...ve)},K={provide:Re,useFactory:j,deps:[ye,h.R0b,[new h.FiY,we]]};let Ue=(()=>{class me{constructor(Pe){F.Z.registerVersion("angularfire",G.q4.full,"core"),F.Z.registerVersion("angularfire",G.q4.full,"app-compat"),F.Z.registerVersion("angular",h.q4F.full,Pe.toString())}static initializeApp(Pe,Ie){return{ngModule:me,providers:[{provide:ye,useValue:Pe},{provide:we,useValue:Ie}]}}}return me.\u0275fac=function(Pe){return new(Pe||me)(h.LFG(h.Lbi))},me.\u0275mod=h.oAB({type:me}),me.\u0275inj=h.cJS({providers:[K]}),me})();function Ee(me,ve,Pe,Ie,ge){const[,De,Ve]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===me)||[];if(De)return function He(me,ve){try{return me.toString()===ve.toString()}catch{return me===ve}}(ge,Ve)||(ue("error",`${ve} was already initialized on the ${Pe} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),ue("warn",{is:ge,was:Ve})),De;{const Me=Ie();return globalThis.\u0275AngularfireInstanceCache.push([me,Me,ge]),Me}}const it=!!mt.hot,ue=(me,...ve)=>{(0,h.X6Q)()&&typeof console<"u"&&console[me](...ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3069:(mt,be,k)=>{k.d(be,{q4:()=>fh,iC:()=>Ir,HU:()=>wc,vb:()=>yo,JM:()=>pu});var h=k(4650),F=k(259),G=k(5861),ie=k(9681),se=k(2090),oe=k(4859),Re=k(1877),ye=k(8766);const we="@firebase/installations",j="0.6.4",$=1e4,K=`w:${j}`,Ue="FIS_v2",Ee="https://firebaseinstallations.googleapis.com/v1",He=36e5,ve=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pe(D){return D instanceof se.ZR&&D.code.includes("request-failed")}function Ie({projectId:D}){return`${Ee}/projects/${D}/installations`}function ge(D){return{token:D.token,requestStatus:2,expiresIn:Ge(D.expiresIn),creationTime:Date.now()}}function De(D,b){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,G.Z)(function*(D,b){const O=(yield b.json()).error;return ve.create("request-failed",{requestName:D,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function Me({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function he(D){return Be.apply(this,arguments)}function Be(){return(Be=(0,G.Z)(function*(D){const b=yield D();return b.status>=500&&b.status<600?D():b})).apply(this,arguments)}function Ge(D){return Number(D.replace("s","000"))}function te(){return(te=(0,G.Z)(function*({appConfig:D,heartbeatServiceProvider:b},{fid:M}){const O=Ie(D),q=Me(D),Q=b.getImmediate({optional:!0});if(Q){const ut=yield Q.getHeartbeatsHeader();ut&&q.append("x-firebase-client",ut)}const Je={method:"POST",headers:q,body:JSON.stringify({fid:M,authVersion:Ue,appId:D.appId,sdkVersion:K})},lt=yield he(()=>fetch(O,Je));if(lt.ok){const ut=yield lt.json();return{fid:ut.fid||M,registrationStatus:2,refreshToken:ut.refreshToken,authToken:ge(ut.authToken)}}throw yield De("Create Installation",lt)})).apply(this,arguments)}function ae(D){return new Promise(b=>{setTimeout(b,D)})}const Ce=/^[cdef][\w-]{21}$/,Oe="";function $e(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const M=function tt(D){return function le(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Ce.test(M)?M:Oe}catch{return Oe}}function Ne(D){return`${D.appName}!${D.appId}`}const wt=new Map;function ft(D,b){const M=Ne(D);Gt(M,b),function Fn(D,b){const M=function Dn(){return!un&&"BroadcastChannel"in self&&(un=new BroadcastChannel("[Firebase] FID Change"),un.onmessage=D=>{Gt(D.data.key,D.data.fid)}),un}();M&&M.postMessage({key:D,fid:b}),function qn(){0===wt.size&&un&&(un.close(),un=null)}()}(M,b)}function Gt(D,b){const M=wt.get(D);if(M)for(const O of M)O(b)}let un=null;const ki="firebase-installations-database",us=1,ti="firebase-installations-store";let gi=null;function cs(){return gi||(gi=(0,ye.X3)(ki,us,{upgrade:(D,b)=>{0===b&&D.createObjectStore(ti)}})),gi}function _n(D,b){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,G.Z)(function*(D,b){const M=Ne(D),q=(yield cs()).transaction(ti,"readwrite"),Q=q.objectStore(ti),fe=yield Q.get(M);return yield Q.put(b,M),yield q.done,(!fe||fe.fid!==b.fid)&&ft(D,b.fid),b})).apply(this,arguments)}function yt(D){return ls.apply(this,arguments)}function ls(){return(ls=(0,G.Z)(function*(D){const b=Ne(D),O=(yield cs()).transaction(ti,"readwrite");yield O.objectStore(ti).delete(b),yield O.done})).apply(this,arguments)}function mi(D,b){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,G.Z)(function*(D,b){const M=Ne(D),q=(yield cs()).transaction(ti,"readwrite"),Q=q.objectStore(ti),fe=yield Q.get(M),Je=b(fe);return void 0===Je?yield Q.delete(M):yield Q.put(Je,M),yield q.done,Je&&(!fe||fe.fid!==Je.fid)&&ft(D,Je.fid),Je})).apply(this,arguments)}function Ln(D){return Rs.apply(this,arguments)}function Rs(){return Rs=(0,G.Z)(function*(D){let b;const M=yield mi(D.appConfig,O=>{const q=function It(D){return mr(D||{fid:$e(),registrationStatus:0})}(O),Q=function pt(D,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(ve.create("app-offline"))};const M={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},O=function At(D,b){return Ns.apply(this,arguments)}(D,M);return{installationEntry:M,registrationPromise:O}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:Jn(D)}:{installationEntry:b}}(D,q);return b=Q.registrationPromise,Q.installationEntry});return M.fid===Oe?{installationEntry:yield b}:{installationEntry:M,registrationPromise:b}}),Rs.apply(this,arguments)}function Ns(){return Ns=(0,G.Z)(function*(D,b){try{const M=yield function Ye(D,b){return te.apply(this,arguments)}(D,b);return _n(D.appConfig,M)}catch(M){throw Pe(M)&&409===M.customData.serverCode?yield yt(D.appConfig):yield _n(D.appConfig,{fid:b.fid,registrationStatus:0}),M}}),Ns.apply(this,arguments)}function Jn(D){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,G.Z)(function*(D){let b=yield hr(D.appConfig);for(;1===b.registrationStatus;)yield ae(100),b=yield hr(D.appConfig);if(0===b.registrationStatus){const{installationEntry:M,registrationPromise:O}=yield Ln(D);return O||M}return b})).apply(this,arguments)}function hr(D){return mi(D,b=>{if(!b)throw ve.create("installation-not-found");return mr(b)})}function mr(D){return function to(D){return 1===D.registrationStatus&&D.registrationTime+$<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Os(){return(Os=(0,G.Z)(function*({appConfig:D,heartbeatServiceProvider:b},M){const O=function Zt(D,{fid:b}){return`${Ie(D)}/${b}/authTokens:generate`}(D,M),q=function U(D,{refreshToken:b}){const M=Me(D);return M.append("Authorization",function Tt(D){return`${Ue} ${D}`}(b)),M}(D,M),Q=b.getImmediate({optional:!0});if(Q){const ut=yield Q.getHeartbeatsHeader();ut&&q.append("x-firebase-client",ut)}const Je={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:K,appId:D.appId}})},lt=yield he(()=>fetch(O,Je));if(lt.ok)return ge(yield lt.json());throw yield De("Generate Auth Token",lt)})).apply(this,arguments)}function xr(D){return Rr.apply(this,arguments)}function Rr(){return Rr=(0,G.Z)(function*(D,b=!1){let M;const O=yield mi(D.appConfig,Q=>{if(!jt(Q))throw ve.create("not-registered");const fe=Q.authToken;if(!b&&function Nn(D){return 2===D.requestStatus&&!function V(D){const b=Date.now();return b<D.creationTime||D.creationTime+D.expiresIn<b+He}(D)}(fe))return Q;if(1===fe.requestStatus)return M=function ke(D,b){return pe.apply(this,arguments)}(D,b),Q;{if(!navigator.onLine)throw ve.create("app-offline");const Je=function L(D){const b={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:b})}(Q);return M=function gt(D,b){return Bt.apply(this,arguments)}(D,Je),Je}});return M?yield M:O.authToken}),Rr.apply(this,arguments)}function pe(){return(pe=(0,G.Z)(function*(D,b){let M=yield nt(D.appConfig);for(;1===M.authToken.requestStatus;)yield ae(100),M=yield nt(D.appConfig);const O=M.authToken;return 0===O.requestStatus?xr(D,b):O})).apply(this,arguments)}function nt(D){return mi(D,b=>{if(!jt(b))throw ve.create("not-registered");return function W(D){return 1===D.requestStatus&&D.requestTime+$<Date.now()}(b.authToken)?Object.assign(Object.assign({},b),{authToken:{requestStatus:0}}):b})}function Bt(){return Bt=(0,G.Z)(function*(D,b){try{const M=yield function yn(D,b){return Os.apply(this,arguments)}(D,b),O=Object.assign(Object.assign({},b),{authToken:M});return yield _n(D.appConfig,O),M}catch(M){if(!Pe(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const O=Object.assign(Object.assign({},b),{authToken:{requestStatus:0}});yield _n(D.appConfig,O)}else yield yt(D.appConfig);throw M}}),Bt.apply(this,arguments)}function jt(D){return void 0!==D&&2===D.registrationStatus}function J(){return(J=(0,G.Z)(function*(D){const b=D,{installationEntry:M,registrationPromise:O}=yield Ln(b);return O?O.catch(console.error):xr(b).catch(console.error),M.fid})).apply(this,arguments)}function qe(){return qe=(0,G.Z)(function*(D,b=!1){const M=D;return yield function on(D){return Vn.apply(this,arguments)}(M),(yield xr(M,b)).token}),qe.apply(this,arguments)}function Vn(){return(Vn=(0,G.Z)(function*(D){const{registrationPromise:b}=yield Ln(D);b&&(yield b)})).apply(this,arguments)}function ko(D){return ve.create("missing-app-config-values",{valueName:D})}const Fo="installations",Lo=D=>{const b=D.getProvider("app").getImmediate(),M=function Gu(D){if(!D||!D.options)throw ko("App Configuration");if(!D.name)throw ko("App Name");const b=["projectId","apiKey","appId"];for(const M of b)if(!D.options[M])throw ko(M);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(b);return{app:b,appConfig:M,heartbeatServiceProvider:(0,ie._getProvider)(b,"heartbeat"),_delete:()=>Promise.resolve()}},qu=D=>{const b=D.getProvider("app").getImmediate(),M=(0,ie._getProvider)(b,Fo).getImmediate();return{getId:()=>function ce(D){return J.apply(this,arguments)}(M),getToken:q=>function Xe(D){return qe.apply(this,arguments)}(M,q)}};(function Wu(){(0,ie._registerComponent)(new oe.wA(Fo,Lo,"PUBLIC")),(0,ie._registerComponent)(new oe.wA("installations-internal",qu,"PRIVATE"))})(),(0,ie.registerVersion)(we,j),(0,ie.registerVersion)(we,j,"esm2017");const Jt="@firebase/remote-config",yr=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gs{constructor(b,M,O,q){this.client=b,this.storage=M,this.storageCache=O,this.logger=q}isCachedDataFresh(b,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-M,q=O<=b;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${b}. Is cache hit: ${q}.`),q}fetch(b){var M=this;return(0,G.Z)(function*(){const[O,q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(q&&M.isCachedDataFresh(b.cacheMaxAgeMillis,O))return q;b.eTag=q&&q.eTag;const Q=yield M.client.fetch(b),fe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Q.status&&fe.push(M.storage.setLastSuccessfulFetchResponse(Q)),yield Promise.all(fe),Q})()}}function Fs(D=navigator){return D.languages&&D.languages[0]||D.language}class _i{constructor(b,M,O,q,Q,fe){this.firebaseInstallations=b,this.sdkVersion=M,this.namespace=O,this.projectId=q,this.apiKey=Q,this.appId=fe}fetch(b){var M=this;return(0,G.Z)(function*(){const[O,q]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":b.eTag||"*"},lt={sdk_version:M.sdkVersion,app_instance_id:O,app_instance_id_token:q,app_id:M.appId,language_code:Fs()},ut={method:"POST",headers:Je,body:JSON.stringify(lt)},$t=fetch(fe,ut),Dt=new Promise((ui,Wr)=>{b.signal.addEventListener(()=>{const Ic=new Error("The operation was aborted.");Ic.name="AbortError",Wr(Ic)})});let fr;try{yield Promise.race([$t,Dt]),fr=yield $t}catch(ui){let Wr="fetch-client-network";throw"AbortError"===ui?.name&&(Wr="fetch-timeout"),yr.create(Wr,{originalErrorMessage:ui?.message})}let Kn=fr.status;const bs=fr.headers.get("ETag")||void 0;let ya,Xi;if(200===fr.status){let ui;try{ui=yield fr.json()}catch(Wr){throw yr.create("fetch-client-parse",{originalErrorMessage:Wr?.message})}ya=ui.entries,Xi=ui.state}if("INSTANCE_STATE_UNSPECIFIED"===Xi?Kn=500:"NO_CHANGE"===Xi?Kn=304:("NO_TEMPLATE"===Xi||"EMPTY_CONFIG"===Xi)&&(ya={}),304!==Kn&&200!==Kn)throw yr.create("fetch-status",{httpStatus:Kn});return{status:Kn,eTag:bs,config:ya}})()}}class zt{constructor(b,M){this.client=b,this.storage=M}fetch(b){var M=this;return(0,G.Z)(function*(){const O=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(b,O)})()}attemptFetch(b,{throttleEndTimeMillis:M,backoffCount:O}){var q=this;return(0,G.Z)(function*(){yield function Ls(D,b){return new Promise((M,O)=>{const q=Math.max(b-Date.now(),0),Q=setTimeout(M,q);D.addEventListener(()=>{clearTimeout(Q),O(yr.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(b.signal,M);try{const Q=yield q.client.fetch(b);return yield q.storage.deleteThrottleMetadata(),Q}catch(Q){if(!function Zu(D){if(!(D instanceof se.ZR&&D.customData))return!1;const b=Number(D.customData.httpStatus);return 429===b||500===b||503===b||504===b}(Q))throw Q;const fe={throttleEndTimeMillis:Date.now()+(0,se.$s)(O),backoffCount:O+1};return yield q.storage.setThrottleMetadata(fe),q.attemptFetch(b,fe)}})()}}class za{constructor(b,M,O,q,Q){this.app=b,this._client=M,this._storageCache=O,this._storage=q,this._logger=Q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zi(D,b){const M=D.target.error||void 0;return yr.create(b,{originalErrorMessage:M&&M?.message})}const ni="app_namespace_store";class _r{constructor(b,M,O,q=function np(){return new Promise((D,b)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=O=>{b(Zi(O,"storage-open"))},M.onsuccess=O=>{D(O.target.result)},M.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(ni,{keyPath:"compositeKey"})}}catch(M){b(yr.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=b,this.appName=M,this.namespace=O,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(b){return this.set("last_fetch_status",b)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(b){return this.set("last_successful_fetch_timestamp_millis",b)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(b){return this.set("last_successful_fetch_response",b)}getActiveConfig(){return this.get("active_config")}setActiveConfig(b){return this.set("active_config",b)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(b){return this.set("active_config_etag",b)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(b){return this.set("throttle_metadata",b)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(b){var M=this;return(0,G.Z)(function*(){const O=yield M.openDbPromise;return new Promise((q,Q)=>{const Je=O.transaction([ni],"readonly").objectStore(ni),lt=M.createCompositeKey(b);try{const ut=Je.get(lt);ut.onerror=$t=>{Q(Zi($t,"storage-get"))},ut.onsuccess=$t=>{const Dt=$t.target.result;q(Dt?Dt.value:void 0)}}catch(ut){Q(yr.create("storage-get",{originalErrorMessage:ut?.message}))}})})()}set(b,M){var O=this;return(0,G.Z)(function*(){const q=yield O.openDbPromise;return new Promise((Q,fe)=>{const lt=q.transaction([ni],"readwrite").objectStore(ni),ut=O.createCompositeKey(b);try{const $t=lt.put({compositeKey:ut,value:M});$t.onerror=Dt=>{fe(Zi(Dt,"storage-set"))},$t.onsuccess=()=>{Q()}}catch($t){fe(yr.create("storage-set",{originalErrorMessage:$t?.message}))}})})()}delete(b){var M=this;return(0,G.Z)(function*(){const O=yield M.openDbPromise;return new Promise((q,Q)=>{const Je=O.transaction([ni],"readwrite").objectStore(ni),lt=M.createCompositeKey(b);try{const ut=Je.delete(lt);ut.onerror=$t=>{Q(Zi($t,"storage-delete"))},ut.onsuccess=()=>{q()}}catch(ut){Q(yr.create("storage-delete",{originalErrorMessage:ut?.message}))}})})()}createCompositeKey(b){return[this.appId,this.appName,this.namespace,b].join()}}class Ei{constructor(b){this.storage=b}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var b=this;return(0,G.Z)(function*(){const M=b.storage.getLastFetchStatus(),O=b.storage.getLastSuccessfulFetchTimestampMillis(),q=b.storage.getActiveConfig(),Q=yield M;Q&&(b.lastFetchStatus=Q);const fe=yield O;fe&&(b.lastSuccessfulFetchTimestampMillis=fe);const Je=yield q;Je&&(b.activeConfig=Je)})()}setLastFetchStatus(b){return this.lastFetchStatus=b,this.storage.setLastFetchStatus(b)}setLastSuccessfulFetchTimestampMillis(b){return this.lastSuccessfulFetchTimestampMillis=b,this.storage.setLastSuccessfulFetchTimestampMillis(b)}setActiveConfig(b){return this.activeConfig=b,this.storage.setActiveConfig(b)}}function Gr(){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,G.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function Bo(){(0,ie._registerComponent)(new oe.wA("remote-config",function D(b,{instanceIdentifier:M}){const O=b.getProvider("app").getImmediate(),q=b.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yr.create("registration-window");if(!(0,se.hl)())throw yr.create("indexed-db-unavailable");const{projectId:Q,apiKey:fe,appId:Je}=O.options;if(!Q)throw yr.create("registration-project-id");if(!fe)throw yr.create("registration-api-key");if(!Je)throw yr.create("registration-app-id");const lt=new _r(Je,O.name,M=M||"firebase"),ut=new Ei(lt),$t=new Re.Yd(Jt);$t.logLevel=Re.in.ERROR;const Dt=new _i(q,ie.SDK_VERSION,M,Q,fe,Je),fr=new zt(Dt,lt),Kn=new gs(fr,lt,ut,$t),bs=new za(O,Kn,ut,lt,$t);return function fs(D){const b=(0,se.m9)(D);b._initializePromise||(b._initializePromise=b._storageCache.loadFromStorage().then(()=>{b._isInitializationComplete=!0}))}(bs),bs},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(Jt,"0.4.4"),(0,ie.registerVersion)(Jt,"0.4.4","esm2017")}();const Yi="/firebase-messaging-sw.js",th="/firebase-cloud-messaging-push-scope",qa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",rp="https://fcmregistrations.googleapis.com/v1",Wa="google.c.a.c_id",ip="google.c.a.c_l",vl="google.c.a.ts",sp="google.c.a.e";var Qi=(()=>{return(D=Qi||(Qi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Qi;var D})();function zr(D){const b=new Uint8Array(D);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zm(D){const M=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(M),q=new Uint8Array(O.length);for(let Q=0;Q<O.length;++Q)q[Q]=O.charCodeAt(Q);return q}const _l="fcm_token_details_db",jo=5,op="fcm_token_object_Store";function ri(){return ri=(0,G.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Q=>Q.name).includes(_l))return null;let b=null;return(yield(0,ye.X3)(_l,jo,{upgrade:(O=(0,G.Z)(function*(q,Q,fe,Je){var lt;if(Q<2||!q.objectStoreNames.contains(op))return;const ut=Je.objectStore(op),$t=yield ut.index("fcmSenderId").get(D);if(yield ut.clear(),$t)if(2===Q){const Dt=$t;if(!Dt.auth||!Dt.p256dh||!Dt.endpoint)return;b={token:Dt.fcmToken,createTime:null!==(lt=Dt.createTime)&&void 0!==lt?lt:Date.now(),subscriptionOptions:{auth:Dt.auth,p256dh:Dt.p256dh,endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:"string"==typeof Dt.vapidKey?Dt.vapidKey:zr(Dt.vapidKey)}}}else if(3===Q){const Dt=$t;b={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:zr(Dt.auth),p256dh:zr(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:zr(Dt.vapidKey)}}}else if(4===Q){const Dt=$t;b={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:zr(Dt.auth),p256dh:zr(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:zr(Dt.vapidKey)}}}}),function(Q,fe,Je,lt){return O.apply(this,arguments)})})).close(),yield(0,ye.Lj)(_l),yield(0,ye.Lj)("fcm_vapid_details_db"),yield(0,ye.Lj)("undefined"),function Za(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:b}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}(b)?b:null;var O}),ri.apply(this,arguments)}const Ya="firebase-messaging-database",qm=1,ii="firebase-messaging-store";let El=null;function $o(){return El||(El=(0,ye.X3)(Ya,qm,{upgrade:(D,b)=>{0===b&&D.createObjectStore(ii)}})),El}function ys(D){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,G.Z)(function*(D){const b=Wn(D),O=yield(yield $o()).transaction(ii).objectStore(ii).get(b);if(O)return O;{const q=yield function Ka(D){return ri.apply(this,arguments)}(D.appConfig.senderId);if(q)return yield io(D,q),q}}),Qa.apply(this,arguments)}function io(D,b){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,G.Z)(function*(D,b){const M=Wn(D),q=(yield $o()).transaction(ii,"readwrite");return yield q.objectStore(ii).put(b,M),yield q.done,b})).apply(this,arguments)}function Ja(){return(Ja=(0,G.Z)(function*(D){const b=Wn(D),O=(yield $o()).transaction(ii,"readwrite");yield O.objectStore(ii).delete(b),yield O.done})).apply(this,arguments)}function Wn({appConfig:D}){return D.appId}const rn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xa(D,b){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,G.Z)(function*(D,b){const M=yield Go(D),O=rr(b),q={method:"POST",headers:M,body:JSON.stringify(O)};let Q;try{Q=yield(yield fetch(Ho(D.appConfig),q)).json()}catch(fe){throw rn.create("token-subscribe-failed",{errorInfo:fe?.toString()})}if(Q.error)throw rn.create("token-subscribe-failed",{errorInfo:Q.error.message});if(!Q.token)throw rn.create("token-subscribe-no-token");return Q.token})).apply(this,arguments)}function eu(){return(eu=(0,G.Z)(function*(D,b){const M=yield Go(D),O=rr(b.subscriptionOptions),q={method:"PATCH",headers:M,body:JSON.stringify(O)};let Q;try{Q=yield(yield fetch(`${Ho(D.appConfig)}/${b.token}`,q)).json()}catch(fe){throw rn.create("token-update-failed",{errorInfo:fe?.toString()})}if(Q.error)throw rn.create("token-update-failed",{errorInfo:Q.error.message});if(!Q.token)throw rn.create("token-update-no-token");return Q.token})).apply(this,arguments)}function vs(D,b){return nr.apply(this,arguments)}function nr(){return(nr=(0,G.Z)(function*(D,b){const O={method:"DELETE",headers:yield Go(D)};try{const Q=yield(yield fetch(`${Ho(D.appConfig)}/${b}`,O)).json();if(Q.error)throw rn.create("token-unsubscribe-failed",{errorInfo:Q.error.message})}catch(q){throw rn.create("token-unsubscribe-failed",{errorInfo:q?.toString()})}})).apply(this,arguments)}function Ho({projectId:D}){return`${rp}/projects/${D}/registrations`}function Go(D){return wi.apply(this,arguments)}function wi(){return(wi=(0,G.Z)(function*({appConfig:D,installations:b}){const M=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function rr({p256dh:D,auth:b,endpoint:M,vapidKey:O}){const q={web:{endpoint:M,auth:b,p256dh:D}};return O!==qa&&(q.web.applicationPubKey=O),q}const wl=6048e5;function Ju(){return Ju=(0,G.Z)(function*(D){const b=yield function ec(D,b){return tc.apply(this,arguments)}(D.swRegistration,D.vapidKey),M={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:b.endpoint,auth:zr(b.getKey("auth")),p256dh:zr(b.getKey("p256dh"))},O=yield ys(D.firebaseDependencies);if(O){if(function nc(D,b){return b.vapidKey===D.vapidKey&&b.endpoint===D.endpoint&&b.auth===D.auth&&b.p256dh===D.p256dh}(O.subscriptionOptions,M))return Date.now()>=O.createTime+wl?function zo(D,b){return St.apply(this,arguments)}(D,{token:O.token,createTime:Date.now(),subscriptionOptions:M}):O.token;try{yield vs(D.firebaseDependencies,O.token)}catch(q){console.warn(q)}return tu(D.firebaseDependencies,M)}return tu(D.firebaseDependencies,M)}),Ju.apply(this,arguments)}function Us(){return Us=(0,G.Z)(function*(D){const b=yield ys(D.firebaseDependencies);b&&(yield vs(D.firebaseDependencies,b.token),yield function so(D){return Ja.apply(this,arguments)}(D.firebaseDependencies));const M=yield D.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Us.apply(this,arguments)}function St(){return St=(0,G.Z)(function*(D,b){try{const M=yield function Sn(D,b){return eu.apply(this,arguments)}(D.firebaseDependencies,b),O=Object.assign(Object.assign({},b),{token:M,createTime:Date.now()});return yield io(D.firebaseDependencies,O),M}catch(M){throw yield function Ii(D){return Us.apply(this,arguments)}(D),M}}),St.apply(this,arguments)}function tu(D,b){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,G.Z)(function*(D,b){const O={token:yield Xa(D,b),createTime:Date.now(),subscriptionOptions:b};return yield io(D,O),O.token})).apply(this,arguments)}function tc(){return(tc=(0,G.Z)(function*(D,b){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zm(b)})})).apply(this,arguments)}function Il(D){const b={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function rc(D,b){if(!b.notification)return;D.notification={};const M=b.notification.title;M&&(D.notification.title=M);const O=b.notification.body;O&&(D.notification.body=O);const q=b.notification.image;q&&(D.notification.image=q);const Q=b.notification.icon;Q&&(D.notification.icon=Q)}(b,D),function dn(D,b){b.data&&(D.data=b.data)}(b,D),function _e(D,b){var M,O,q,Q,fe;if(!(b.fcmOptions||null!==(M=b.notification)&&void 0!==M&&M.click_action))return;D.fcmOptions={};const Je=null!==(q=null===(O=b.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==q?q:null===(Q=b.notification)||void 0===Q?void 0:Q.click_action;Je&&(D.fcmOptions.link=Je);const lt=null===(fe=b.fcmOptions)||void 0===fe?void 0:fe.analytics_label;lt&&(D.fcmOptions.analyticsLabel=lt)}(b,D),b}function Bs(D,b){const M=[];for(let O=0;O<D.length;O++)M.push(D.charAt(O)),O<b.length&&M.push(b.charAt(O));return M.join("")}function Pn(D){return rn.create("missing-app-config-values",{valueName:D})}Bs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class sh{constructor(b,M,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function ih(D){if(!D||!D.options)throw Pn("App Configuration Object");if(!D.name)throw Pn("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:M}=D;for(const O of b)if(!M[O])throw Pn(O);return{appName:D.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:q,installations:M,analyticsProvider:O}}_delete(){return Promise.resolve()}}function _s(D){return Di.apply(this,arguments)}function Di(){return(Di=(0,G.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Yi,{scope:th}),D.swRegistration.update().catch(()=>{})}catch(b){throw rn.create("failed-service-worker-registration",{browserErrorMessage:b?.message})}})).apply(this,arguments)}function qo(){return(qo=(0,G.Z)(function*(D,b){if(!b&&!D.swRegistration&&(yield _s(D)),b||!D.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw rn.create("invalid-sw-registration");D.swRegistration=b}})).apply(this,arguments)}function Dl(){return(Dl=(0,G.Z)(function*(D,b){b?D.vapidKey=b:D.vapidKey||(D.vapidKey=qa)})).apply(this,arguments)}function Un(){return Un=(0,G.Z)(function*(D,b){if(!navigator)throw rn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rn.create("permission-blocked");return yield function ru(D,b){return Dl.apply(this,arguments)}(D,b?.vapidKey),yield function nu(D,b){return qo.apply(this,arguments)}(D,b?.serviceWorkerRegistration),function oo(D){return Ju.apply(this,arguments)}(D)}),Un.apply(this,arguments)}function ic(){return(ic=(0,G.Z)(function*(D,b,M){const O=function Ko(D){switch(D){case Qi.NOTIFICATION_CLICKED:return"notification_open";case Qi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(b);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:M[Wa],message_name:M[ip],message_time:M[vl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function iu(){return iu=(0,G.Z)(function*(D,b){const M=b.data;if(!M.isFirebaseMessaging)return;D.onMessageHandler&&M.messageType===Qi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Il(M)):D.onMessageHandler.next(Il(M)));const O=M.data;(function qt(D){return"object"==typeof D&&!!D&&Wa in D})(O)&&"1"===O[sp]&&(yield function Er(D,b,M){return ic.apply(this,arguments)}(D,M.messageType,O))}),iu.apply(this,arguments)}const Cl="@firebase/messaging",oh=D=>{const b=new sh(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function si(D,b){return iu.apply(this,arguments)}(b,M)),b},ao=D=>{const b=D.getProvider("messaging").getImmediate();return{getToken:O=>function Wo(D,b){return Un.apply(this,arguments)}(b,O)}};function su(){return ou.apply(this,arguments)}function ou(){return(ou=(0,G.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function bl(){(0,ie._registerComponent)(new oe.wA("messaging",oh,"PUBLIC")),(0,ie._registerComponent)(new oe.wA("messaging-internal",ao,"PRIVATE")),(0,ie.registerVersion)(Cl,"0.12.4"),(0,ie.registerVersion)(Cl,"0.12.4","esm2017")}();const uc="analytics",xl="firebase_id",ir="origin",uo=6e4,an="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cc="https://www.googletagmanager.com/gtag/js",sr=new Re.Yd("@firebase/analytics"),qr=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function cp(D){if(!D.startsWith(cc)){const b=qr.create("invalid-gtag-resource",{gtagURL:D});return sr.warn(b.message),""}return D}function ah(D){return Promise.all(D.map(b=>b.catch(M=>M)))}function Es(){return(Es=(0,G.Z)(function*(D,b,M,O,q,Q){const fe=O[q];try{if(fe)yield b[fe];else{const lt=(yield ah(M)).find(ut=>ut.measurementId===q);lt&&(yield b[lt.appId])}}catch(Je){sr.error(Je)}D("config",q,Q)})).apply(this,arguments)}function Ui(){return(Ui=(0,G.Z)(function*(D,b,M,O,q){try{let Q=[];if(q&&q.send_to){let fe=q.send_to;Array.isArray(fe)||(fe=[fe]);const Je=yield ah(M);for(const lt of fe){const ut=Je.find(Dt=>Dt.measurementId===lt),$t=ut&&b[ut.appId];if(!$t){Q=[];break}Q.push($t)}}0===Q.length&&(Q=Object.values(b)),yield Promise.all(Q),D("event",O,q||{})}catch(Q){sr.error(Q)}})).apply(this,arguments)}const Ji=30,Qo=new class ch{constructor(b={},M=1e3){this.throttleMetadata=b,this.intervalMillis=M}getThrottleMetadata(b){return this.throttleMetadata[b]}setThrottleMetadata(b,M){this.throttleMetadata[b]=M}deleteThrottleMetadata(b){delete this.throttleMetadata[b]}};function lc(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function co(){return(co=(0,G.Z)(function*(D){var b;const{appId:M,apiKey:O}=D,q={method:"GET",headers:lc(O)},Q=an.replace("{app-id}",M),fe=yield fetch(Q,q);if(200!==fe.status&&304!==fe.status){let Je="";try{const lt=yield fe.json();null!==(b=lt.error)&&void 0!==b&&b.message&&(Je=lt.error.message)}catch{}throw qr.create("config-fetch-failed",{httpStatus:fe.status,responseMessage:Je})}return fe.json()})).apply(this,arguments)}function ws(){return(ws=(0,G.Z)(function*(D,b=Qo,M){const{appId:O,apiKey:q,measurementId:Q}=D.options;if(!O)throw qr.create("no-app-id");if(!q){if(Q)return{measurementId:Q,appId:O};throw qr.create("no-api-key")}const fe=b.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new lh;return setTimeout((0,G.Z)(function*(){Je.abort()}),void 0!==M?M:uo),Bi({appId:O,apiKey:q,measurementId:Q},fe,Je,b)})).apply(this,arguments)}function Bi(D,b,M){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,G.Z)(function*(D,{throttleEndTimeMillis:b,backoffCount:M},O,q=Qo){var Q;const{appId:fe,measurementId:Je}=D;try{yield function ho(D,b){return new Promise((M,O)=>{const q=Math.max(b-Date.now(),0),Q=setTimeout(M,q);D.addEventListener(()=>{clearTimeout(Q),O(qr.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(O,b)}catch(lt){if(Je)return sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${lt?.message}]`),{appId:fe,measurementId:Je};throw lt}try{const lt=yield function dp(D){return co.apply(this,arguments)}(D);return q.deleteThrottleMetadata(fe),lt}catch(lt){const ut=lt;if(!function Xo(D){if(!(D instanceof se.ZR&&D.customData))return!1;const b=Number(D.customData.httpStatus);return 429===b||500===b||503===b||504===b}(ut)){if(q.deleteThrottleMetadata(fe),Je)return sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:fe,measurementId:Je};throw lt}const $t=503===Number(null===(Q=ut?.customData)||void 0===Q?void 0:Q.httpStatus)?(0,se.$s)(M,q.intervalMillis,Ji):(0,se.$s)(M,q.intervalMillis),Dt={throttleEndTimeMillis:Date.now()+$t,backoffCount:M+1};return q.setThrottleMetadata(fe,Dt),sr.debug(`Calling attemptFetch again in ${$t} millis`),Bi(D,Dt,O,q)}}),Jo.apply(this,arguments)}class lh{constructor(){this.listeners=[]}addEventListener(b){this.listeners.push(b)}abort(){this.listeners.forEach(b=>b())}}let fo,du;function ea(){return(ea=(0,G.Z)(function*(D,b,M,O,q){if(q&&q.global)D("event",M,O);else{const Q=yield b;D("event",M,Object.assign(Object.assign({},O),{send_to:Q}))}})).apply(this,arguments)}function sa(){return(sa=(0,G.Z)(function*(){if(!(0,se.hl)())return sr.warn(qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(D){return sr.warn(qr.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function oa(){return oa=(0,G.Z)(function*(D,b,M,O,q,Q,fe){var Je;const lt=function lo(D){return ws.apply(this,arguments)}(D);lt.then(Kn=>{M[Kn.measurementId]=Kn.appId,D.options.measurementId&&Kn.measurementId!==D.options.measurementId&&sr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Kn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Kn=>sr.error(Kn)),b.push(lt);const ut=function dc(){return sa.apply(this,arguments)}().then(Kn=>{if(Kn)return O.getId()}),[$t,Dt]=yield Promise.all([lt,ut]);(function Ol(D){const b=window.document.getElementsByTagName("script");for(const M of Object.values(b))if(M.src&&M.src.includes(cc)&&M.src.includes(D))return M;return null})(Q)||function Nl(D,b){const M=function Rl(D,b){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(D,b)),M}("firebase-js-sdk-policy",{createScriptURL:cp}),O=document.createElement("script"),q=`${cc}?l=${D}&id=${b}`;O.src=M?M?.createScriptURL(q):q,O.async=!0,document.head.appendChild(O)}(Q,$t.measurementId),du&&(q("consent","default",du),function Is(D){du=D}(void 0)),q("js",new Date);const fr=null!==(Je=fe?.config)&&void 0!==Je?Je:{};return fr[ir]="firebase",fr.update=!0,null!=Dt&&(fr[xl]=Dt),q("config",$t.measurementId,fr),fo&&(q("set",fo),function ia(D){fo=D}(void 0)),$t.measurementId}),oa.apply(this,arguments)}class Fl{constructor(b){this.app=b}_delete(){return delete Pr[this.app.options.appId],Promise.resolve()}}let Pr={},aa=[];const Ci={};let ua,wr,Ds="dataLayer",Ll="gtag",ca=!1;function hc(D,b,M){!function la(){const D=[];if((0,se.ru)()&&D.push("This is a browser extension environment."),(0,se.zI)()||D.push("Cookies are not available."),D.length>0){const b=D.map((O,q)=>`(${q+1}) ${O}`).join(" "),M=qr.create("invalid-analytics-context",{errorInfo:b});sr.warn(M.message)}}();const O=D.options.appId;if(!O)throw qr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw qr.create("no-api-key");sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pr[O])throw qr.create("already-exists",{id:O});if(!ca){!function uu(D){let b=[];Array.isArray(window[D])?b=window[D]:window[D]=b}(Ds);const{wrappedGtag:Q,gtagCore:fe}=function uh(D,b,M,O,q){let Q=function(...fe){window[O].push(arguments)};return window[q]&&"function"==typeof window[q]&&(Q=window[q]),window[q]=function Yo(D,b,M,O){function Q(){return Q=(0,G.Z)(function*(fe,Je,lt){try{"event"===fe?yield function lp(D,b,M,O,q){return Ui.apply(this,arguments)}(D,b,M,Je,lt):"config"===fe?yield function Zo(D,b,M,O,q,Q){return Es.apply(this,arguments)}(D,b,M,O,Je,lt):"consent"===fe?D("consent","update",lt):D("set",Je)}catch(ut){sr.error(ut)}}),Q.apply(this,arguments)}return function q(fe,Je,lt){return Q.apply(this,arguments)}}(Q,D,b,M),{gtagCore:Q,wrappedGtag:window[q]}}(Pr,aa,Ci,Ds,Ll);wr=Q,ua=fe,ca=!0}return Pr[O]=function kl(D,b,M,O,q,Q,fe){return oa.apply(this,arguments)}(D,aa,Ci,b,ua,Ds,M),new Fl(D)}function da(){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,G.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const hh="@firebase/analytics";!function pc(){(0,ie._registerComponent)(new oe.wA(uc,(b,{options:M})=>hc(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ie._registerComponent)(new oe.wA("analytics-internal",function D(b){try{const M=b.getProvider(uc).getImmediate();return{logEvent:(O,q,Q)=>function bi(D,b,M,O){D=(0,se.m9)(D),function cu(D,b,M,O,q){return ea.apply(this,arguments)}(wr,Pr[D.app.options.appId],b,M,O).catch(q=>sr.error(q))}(M,O,q,Q)}}catch(M){throw qr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ie.registerVersion)(hh,"0.9.5"),(0,ie.registerVersion)(hh,"0.9.5","esm2017")}();var Wm=k(727);class Km extends Wm.w0{constructor(b,M){super()}schedule(b,M=0){return this}}const jl={setInterval(D,b,...M){const{delegate:O}=jl;return O?.setInterval?O.setInterval(D,b,...M):setInterval(D,b,...M)},clearInterval(D){const{delegate:b}=jl;return(b?.clearInterval||clearInterval)(D)},delegate:void 0};var pp=k(8737);class fa extends Km{constructor(b,M){super(b,M),this.scheduler=b,this.work=M,this.pending=!1}schedule(b,M=0){var O;if(this.closed)return this;this.state=b;const q=this.id,Q=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(Q,q,M)),this.pending=!0,this.delay=M,this.id=null!==(O=this.id)&&void 0!==O?O:this.requestAsyncId(Q,this.id,M),this}requestAsyncId(b,M,O=0){return jl.setInterval(b.flush.bind(b,this),O)}recycleAsyncId(b,M,O=0){if(null!=O&&this.delay===O&&!1===this.pending)return M;null!=M&&jl.clearInterval(M)}execute(b,M){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const O=this._execute(b,M);if(O)return O;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(b,M){let q,O=!1;try{this.work(b)}catch(Q){O=!0,q=Q||new Error("Scheduled action threw falsy error")}if(O)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:b,scheduler:M}=this,{actions:O}=M;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pp.P)(O,this),null!=b&&(this.id=this.recycleAsyncId(M,b,null)),this.delay=null,super.unsubscribe()}}}var Zm=k(6063);class wn{constructor(b,M=wn.now){this.schedulerActionCtor=b,this.now=M}schedule(b,M=0,O){return new this.schedulerActionCtor(this,b).schedule(O,M)}}wn.now=Zm.l.now;class gc extends wn{constructor(b,M=wn.now){super(b,M),this.actions=[],this._active=!1}flush(b){const{actions:M}=this;if(this._active)return void M.push(b);let O;this._active=!0;do{if(O=b.execute(b.state,b.delay))break}while(b=M.shift());if(this._active=!1,O){for(;b=M.shift();)b.unsubscribe();throw O}}}const mp=new class $s extends gc{}(class gp extends fa{constructor(b,M){super(b,M),this.scheduler=b,this.work=M}schedule(b,M=0){return M>0?super.schedule(b,M):(this.delay=M,this.state=b,this.scheduler.flush(this),this)}execute(b,M){return M>0||this.closed?super.execute(b,M):this._execute(b,M)}requestAsyncId(b,M,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(b,M,O):(b.flush(this),0)}}),go=new gc(fa);var mc=k(8505),mo=k(9468),yc=k(5363);const fh=new h.GfV("7.5.0"),vc="__angularfire_symbol__analyticsIsSupportedValue",_c="__angularfire_symbol__analyticsIsSupported",Wt="__angularfire_symbol__remoteConfigIsSupportedValue",Bn="__angularfire_symbol__remoteConfigIsSupported",ji="__angularfire_symbol__messagingIsSupportedValue",Hl="__angularfire_symbol__messagingIsSupported";function pu(D,b,M){if(b){if(1===b.length)return b[0];const Q=b.filter(fe=>fe.app===M);if(1===Q.length)return Q[0]}return M.container.getProvider(D).getImmediate({optional:!0})}globalThis[_c]||(globalThis[_c]=da().then(D=>globalThis[vc]=D).catch(()=>globalThis[vc]=!1)),globalThis[Hl]||(globalThis[Hl]=su().then(D=>globalThis[ji]=D).catch(()=>globalThis[ji]=!1)),globalThis[Bn]||(globalThis[Bn]=Gr().then(D=>globalThis[Wt]=D).catch(()=>globalThis[Wt]=!1));const yo=(D,b)=>{const M=b?[b]:(0,F.C6)(),O=[];return M.forEach(q=>{q.container.getProvider(D).instances.forEach(fe=>{O.includes(fe)||O.push(fe)})}),O};function An(){}class xt{constructor(b,M=mp){this.zone=b,this.delegate=M}now(){return this.delegate.now()}schedule(b,M,O){const q=this.zone;return this.delegate.schedule(function(fe){q.runGuarded(()=>{b.apply(this,[fe])})},M,O)}}class vo{constructor(b){this.zone=b,this.task=null}call(b,M){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",An,{},An,An)),M.pipe((0,mc.b)({next:O,complete:O,error:O})).subscribe(b).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wc=(()=>{class D{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new xt(Zone.current)),this.insideAngular=M.run(()=>new xt(Zone.current,go)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(M){return new(M||D)(h.LFG(h.R0b))},D.\u0275prov=h.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function kr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ir(D){return kr(),function _o(D){return function(M){return(M=M.lift(new vo(D.ngZone))).pipe((0,mo.R)(D.outsideAngular),(0,yc.Q)(D.insideAngular))}}(kr())(D)}},8277:(mt,be,k)=>{k.d(be,{$:()=>Us,A:()=>$,B:()=>Yo,D:()=>Ee,I:()=>On,J:()=>Mt,L:()=>Yi,N:()=>jt,P:()=>Wt,Q:()=>Ka,R:()=>wn,U:()=>qm,V:()=>ii,W:()=>El,X:()=>Ya,Y:()=>io,Z:()=>Qu,_:()=>rn,a:()=>ta,a0:()=>St,a1:()=>Xu,a2:()=>Il,a3:()=>ih,a4:()=>sh,a5:()=>Di,a6:()=>qo,a7:()=>Dl,a8:()=>Un,a9:()=>ic,aA:()=>U,aB:()=>Dc,aC:()=>gt,aD:()=>Nn,aE:()=>ya,aF:()=>b,aG:()=>D,aH:()=>ot,aL:()=>js,aO:()=>ys,aa:()=>Ko,ab:()=>iu,ac:()=>Cl,ad:()=>bl,ae:()=>ou,af:()=>oc,ai:()=>ac,aj:()=>Ml,ak:()=>uc,an:()=>vs,ao:()=>ah,aq:()=>ch,ar:()=>Jo,as:()=>Be,at:()=>vn,au:()=>qe,av:()=>Ie,aw:()=>Ap,ax:()=>Ep,ay:()=>Xn,az:()=>ge,b:()=>dh,c:()=>yo,d:()=>wc,e:()=>xt,f:()=>q,g:()=>$t,h:()=>Je,i:()=>Cs,j:()=>Kn,k:()=>Eh,l:()=>go,m:()=>mu,o:()=>ny,p:()=>ye,r:()=>mc,s:()=>mp,u:()=>vc,x:()=>Es});var h=k(5861),F=k(2090),G=k(9681),ie=k(655),se=k(1877),oe=k(4859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ee=function K(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},He=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),me=new se.Yd("@firebase/auth");function Pe(v,...f){me.logLevel<=se.in.ERROR&&me.error(`Auth (${G.SDK_VERSION}): ${v}`,...f)}function Ie(v,...f){throw Me(v,...f)}function ge(v,...f){return Me(v,...f)}function De(v,f,g){const E=Object.assign(Object.assign({},He()),{[f]:g});return new F.LL("auth","Firebase",E).create(f,{appName:v.name})}function Ve(v,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ie(v,"argument-error"),De(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Me(v,...f){if("string"!=typeof v){const g=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(g,...E)}return it.create(v,...f)}function U(v,f,...g){if(!v)throw Me(f,...g)}function he(v){const f="INTERNAL ASSERTION FAILED: "+v;throw Pe(f),new Error(f)}function Be(v,f){v||he(f)}function Ge(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Tt(){return"http:"===Ye()||"https:"===Ye()}function Ye(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class le{constructor(f,g){this.shortDelay=f,this.longDelay=g,Be(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function te(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Tt()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ce(v,f){Be(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Oe{static initialize(f,g,E){this.fetchImpl=f,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},tt=new le(3e4,6e4);function Ne(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function wt(v,f,g,E){return ft.apply(this,arguments)}function ft(){return(ft=(0,h.Z)(function*(v,f,g,E,A={}){return Kt(v,A,(0,h.Z)(function*(){let R={},z={};E&&("GET"===f?z=E:R={body:JSON.stringify(E)});const ee=(0,F.xO)(Object.assign({key:v.config.apiKey},z)).slice(1),Fe=yield v._getAdditionalHeaders();return Fe["Content-Type"]="application/json",v.languageCode&&(Fe["X-Firebase-Locale"]=v.languageCode),Oe.fetch()(un(v,v.config.apiHost,g,ee),Object.assign({method:f,headers:Fe,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Kt(v,f,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,h.Z)(function*(v,f,g){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},$e),f);try{const A=new Dn(v),R=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const z=yield R.json();if("needConfirmation"in z)throw qn(v,"account-exists-with-different-credential",z);if(R.ok&&!("errorMessage"in z))return z;{const ee=R.ok?z.errorMessage:z.error.message,[Fe,ze]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw qn(v,"credential-already-in-use",z);if("EMAIL_EXISTS"===Fe)throw qn(v,"email-already-in-use",z);if("USER_DISABLED"===Fe)throw qn(v,"user-disabled",z);const ct=E[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw De(v,ct,ze);Ie(v,ct)}}catch(A){if(A instanceof F.ZR)throw A;Ie(v,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function Gt(v,f,g,E){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,h.Z)(function*(v,f,g,E,A={}){const R=yield wt(v,f,g,E,A);return"mfaPendingCredential"in R&&Ie(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function un(v,f,g,E){const A=`${f}${g}?${E}`;return v.config.emulator?Ce(v.config,A):`${v.config.apiScheme}://${A}`}class Dn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(ge(this.auth,"network-request-failed")),tt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(v,f,g){const E={appName:v.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const A=ge(v,f,E);return A.customData._tokenResponse=g,A}function us(){return(us=(0,h.Z)(function*(v,f){return wt(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function gi(){return(gi=(0,h.Z)(function*(v,f){return wt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function _n(){return(_n=(0,h.Z)(function*(v,f){return wt(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Qn(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function mi(){return(mi=(0,h.Z)(function*(v,f=!1){const g=(0,F.m9)(v),E=yield g.getIdToken(f),A=Ln(E);U(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,z=R?.sign_in_provider;return{claims:A,token:E,authTime:Qn(Rn(A.auth_time)),issuedAtTime:Qn(Rn(A.iat)),expirationTime:Qn(Rn(A.exp)),signInProvider:z||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function Rn(v){return 1e3*Number(v)}function Ln(v){const[f,g,E]=v.split(".");if(void 0===f||void 0===g||void 0===E)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,F.tV)(g);return A?JSON.parse(A):(Pe("Failed to decode base64 JWT payload"),null)}catch(A){return Pe("Caught error parsing JWT payload as JSON",A?.toString()),null}}function It(v,f){return pt.apply(this,arguments)}function pt(){return(pt=(0,h.Z)(function*(v,f,g=!1){if(g)return f;try{return yield f}catch(E){throw E instanceof F.ZR&&function At({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}class Ns{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),E)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class Jn{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qn(this.lastLoginAt),this.creationTime=Qn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cn(v){return hr.apply(this,arguments)}function hr(){return hr=(0,h.Z)(function*(v){var f;const g=v.auth,E=yield v.getIdToken(),A=yield It(v,function cs(v,f){return _n.apply(this,arguments)}(g,{idToken:E}));U(A?.users.length,g,"internal-error");const R=A.users[0];v._notifyReloadListener(R);const z=null!==(f=R.providerUserInfo)&&void 0!==f&&f.length?function Os(v){return v.map(f=>{var{providerId:g}=f,E=(0,ie._T)(f,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(R.providerUserInfo):[],ee=function yn(v,f){return[...v.filter(E=>!f.some(A=>A.providerId===E.providerId)),...f]}(v.providerData,z),ct=!!v.isAnonymous&&!(v.email&&R.passwordHash||ee?.length),Pt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ee,metadata:new Jn(R.createdAt,R.lastLoginAt),isAnonymous:ct};Object.assign(v,Pt)}),hr.apply(this,arguments)}function to(){return(to=(0,h.Z)(function*(v){const f=(0,F.m9)(v);yield Cn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function xr(){return(xr=(0,h.Z)(function*(v,f){const g=yield Kt(v,{},(0,h.Z)(function*(){const E=(0,F.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:R}=v.config,z=un(v,A,"/v1/token",`key=${R}`),ee=yield v._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",Oe.fetch()(z,{method:"POST",headers:ee,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Rr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){U(f.idToken,"internal-error"),U(typeof f.idToken<"u","internal-error"),U(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Rs(v){const f=Ln(v);return U(f,"internal-error"),U(typeof f.exp<"u","internal-error"),U(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var E=this;return(0,h.Z)(function*(){return U(!E.accessToken||E.refreshToken,f,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var E=this;return(0,h.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:z}=yield function Zt(v,f){return xr.apply(this,arguments)}(f,g);E.updateTokensAndExpiration(A,R,Number(z))})()}updateTokensAndExpiration(f,g,E){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,g){const{refreshToken:E,accessToken:A,expirationTime:R}=g,z=new Rr;return E&&(U("string"==typeof E,"internal-error",{appName:f}),z.refreshToken=E),A&&(U("string"==typeof A,"internal-error",{appName:f}),z.accessToken=A),R&&(U("number"==typeof R,"internal-error",{appName:f}),z.expirationTime=R),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Rr,this.toJSON())}_performRefresh(){return he("not implemented")}}function ke(v,f){U("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class pe{constructor(f){var{uid:g,auth:E,stsTokenManager:A}=f,R=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ns(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Jn(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,h.Z)(function*(){const E=yield It(g,g.stsTokenManager.getToken(g.auth,f));return U(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(f){return function ls(v){return mi.apply(this,arguments)}(this,f)}reload(){return function mr(v){return to.apply(this,arguments)}(this)}_assign(f){this!==f&&(U(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new pe(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var E=this;return(0,h.Z)(function*(){let A=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),A=!0),g&&(yield Cn(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,h.Z)(function*(){const g=yield f.getIdToken();return yield It(f,function ki(v,f){return us.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var E,A,R,z,ee,Fe,ze,ct;const Pt=null!==(E=g.displayName)&&void 0!==E?E:void 0,Lr=null!==(A=g.email)&&void 0!==A?A:void 0,ci=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,vu=null!==(z=g.photoURL)&&void 0!==z?z:void 0,Dh=null!==(ee=g.tenantId)&&void 0!==ee?ee:void 0,Rp=null!==(Fe=g._redirectEventId)&&void 0!==Fe?Fe:void 0,ry=null!==(ze=g.createdAt)&&void 0!==ze?ze:void 0,Ia=null!==(ct=g.lastLoginAt)&&void 0!==ct?ct:void 0,{uid:Np,emailVerified:Op,isAnonymous:Sc,providerData:rd,stsTokenManager:Ac}=g;U(Np&&Ac,f,"internal-error");const id=Rr.fromJSON(this.name,Ac);U("string"==typeof Np,f,"internal-error"),ke(Pt,f.name),ke(Lr,f.name),U("boolean"==typeof Op,f,"internal-error"),U("boolean"==typeof Sc,f,"internal-error"),ke(ci,f.name),ke(vu,f.name),ke(Dh,f.name),ke(Rp,f.name),ke(ry,f.name),ke(Ia,f.name);const _u=new pe({uid:Np,auth:f,email:Lr,emailVerified:Op,displayName:Pt,isAnonymous:Sc,photoURL:vu,phoneNumber:ci,tenantId:Dh,stsTokenManager:id,createdAt:ry,lastLoginAt:Ia});return rd&&Array.isArray(rd)&&(_u.providerData=rd.map(Ch=>Object.assign({},Ch))),Rp&&(_u._redirectEventId=Rp),_u}static _fromIdTokenResponse(f,g,E=!1){return(0,h.Z)(function*(){const A=new Rr;A.updateFromServerResponse(g);const R=new pe({uid:g.localId,auth:f,stsTokenManager:A,isAnonymous:E});return yield Cn(R),R})()}}const nt=new Map;function gt(v){Be(v instanceof Function,"Expected a class definition");let f=nt.get(v);return f?(Be(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,nt.set(v,f),f)}const jt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,E){var A=this;return(0,h.Z)(function*(){A.storage[g]=E})()}_get(g){var E=this;return(0,h.Z)(function*(){const A=E.storage[g];return void 0===A?null:A})()}_remove(g){var E=this;return(0,h.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return v.type="NONE",v})();function Nn(v,f,g){return`firebase:${v}:${f}:${g}`}class V{constructor(f,g,E){this.persistence=f,this.auth=g,this.userKey=E;const{config:A,name:R}=this.auth;this.fullUserKey=Nn(this.userKey,A.apiKey,R),this.fullPersistenceKey=Nn("persistence",A.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?pe._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,h.Z)(function*(){if(g.persistence===f)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,E="authUser"){return(0,h.Z)(function*(){if(!g.length)return new V(gt(jt),f,E);const A=(yield Promise.all(g.map(function(){var ze=(0,h.Z)(function*(ct){if(yield ct._isAvailable())return ct});return function(ct){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let R=A[0]||gt(jt);const z=Nn(E,f.config.apiKey,f.name);let ee=null;for(const ze of g)try{const ct=yield ze._get(z);if(ct){const Pt=pe._fromJSON(f,ct);ze!==R&&(ee=Pt),R=ze;break}}catch{}const Fe=A.filter(ze=>ze._shouldAllowMigration);return R._shouldAllowMigration&&Fe.length?(R=Fe[0],ee&&(yield R._set(z,ee.toJSON())),yield Promise.all(g.map(function(){var ze=(0,h.Z)(function*(ct){if(ct!==R)try{yield ct._remove(z)}catch{}});return function(ct){return ze.apply(this,arguments)}}())),new V(R,f,E)):new V(R,f,E)})()}}function L(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Xe(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(W(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(on(f))return"Blackberry";if(Vn(f))return"Webos";if(ce(f))return"Safari";if((f.includes("chrome/")||J(f))&&!f.includes("edge/"))return"Chrome";if(qe(f))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function W(v=(0,F.z$)()){return/firefox\//i.test(v)}function ce(v=(0,F.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function J(v=(0,F.z$)()){return/crios\//i.test(v)}function Xe(v=(0,F.z$)()){return/iemobile/i.test(v)}function qe(v=(0,F.z$)()){return/android/i.test(v)}function on(v=(0,F.z$)()){return/blackberry/i.test(v)}function Vn(v=(0,F.z$)()){return/webos/i.test(v)}function vn(v=(0,F.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Xn(v=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function yi(v=(0,F.z$)()){return vn(v)||qe(v)||Vn(v)||on(v)||/windows phone/i.test(v)||Xe(v)}function eh(v,f=[]){let g;switch(v){case"Browser":g=L((0,F.z$)());break;case"Worker":g=`${L((0,F.z$)())}-${v}`;break;default:g=v}const E=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${G.SDK_VERSION}/${E}`}function ko(){return(ko=(0,h.Z)(function*(v){return(yield wt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fo(v,f){return zu.apply(this,arguments)}function zu(){return(zu=(0,h.Z)(function*(v,f){return wt(v,"GET","/v2/recaptchaConfig",Ne(v,f))})).apply(this,arguments)}function Lo(v){return void 0!==v&&void 0!==v.getResponse}function qu(v){return void 0!==v&&void 0!==v.enterprise}class Wu{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function bn(v){return new Promise((f,g)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=f,E.onerror=A=>{const R=ge("internal-error");R.customData=A,g(R)},E.type="text/javascript",E.charset="UTF-8",function Jt(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(E)})}function er(v){return`__${v}${Math.floor(1e6*Math.random())}`}class yr{constructor(f){this.type="recaptcha-enterprise",this.auth=ot(f)}verify(f="verify",g=!1){var E=this;return(0,h.Z)(function*(){function R(){return R=(0,h.Z)(function*(ee){if(!g){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var Fe=(0,h.Z)(function*(ze,ct){Fo(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Pt=>{if(void 0!==Pt.recaptchaKey){const Lr=new Wu(Pt);return null==ee.tenantId?ee._agentRecaptchaConfig=Lr:ee._tenantRecaptchaConfigs[ee.tenantId]=Lr,ze(Lr.siteKey)}ct(new Error("recaptcha Enterprise site key undefined"))}).catch(Pt=>{ct(Pt)})});return function(ze,ct){return Fe.apply(this,arguments)}}())}),R.apply(this,arguments)}function z(ee,Fe,ze){const ct=window.grecaptcha;qu(ct)?ct.enterprise.ready(()=>{try{ct.enterprise.execute(ee,{action:f}).then(Pt=>{Fe(Pt)}).catch(Pt=>{ze(Pt)})}catch(Pt){ze(Pt)}}):ze(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,Fe)=>{(function A(ee){return R.apply(this,arguments)})(E.auth).then(ze=>{if(!g&&qu(window.grecaptcha))z(ze,ee,Fe);else{if(typeof window>"u")return void Fe(new Error("RecaptchaVerifier is only supported in browser"));bn("https://www.google.com/recaptcha/enterprise.js?render="+ze).then(()=>{z(ze,ee,Fe)}).catch(ct=>{Fe(ct)})}}).catch(ze=>{Fe(ze)})})})()}}function Fi(v,f,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,h.Z)(function*(v,f,g,E=!1){const A=new yr(v);let R;try{R=yield A.verify(g)}catch{R=yield A.verify(g,!0)}const z=Object.assign({},f);return Object.assign(z,E?{captchaResp:R}:{captchaResponse:R}),Object.assign(z,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(z,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),z})).apply(this,arguments)}class Li{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const E=R=>new Promise((z,ee)=>{try{z(f(R))}catch(Fe){ee(Fe)}});E.onAbort=g,this.queue.push(E);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,h.Z)(function*(){if(g.auth.currentUser===f)return;const E=[];try{for(const A of g.queue)yield A(f),A.onAbort&&E.push(A.onAbort)}catch(A){E.reverse();for(const R of E)try{R()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class Qe{constructor(f,g,E,A){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=E,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cn(this),this.idTokenSubscription=new cn(this),this.beforeStateQueue=new Li(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(f,g){var E=this;return g&&(this._popupRedirectResolver=gt(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var A,R;if(!E._deleted&&(E.persistenceManager=yield V.create(E,f),!E._deleted)){if(null!==(A=E._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(R=E.currentUser)||void 0===R?void 0:R.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,h.Z)(function*(){var E;const A=yield g.assertedPersistence.getCurrentUser();let R=A,z=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ee=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,Fe=R?._redirectEventId,ze=yield g.tryRedirectSignIn(f);(!ee||ee===Fe)&&ze?.user&&(R=ze.user,z=!0)}if(!R)return g.directlySetCurrentUser(null);if(!R._redirectEventId){if(z)try{yield g.beforeStateQueue.runMiddleware(R)}catch(ee){R=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ee))}return R?g.reloadAndSetCurrentUserOrClear(R):g.directlySetCurrentUser(null)}return U(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===R._redirectEventId?g.directlySetCurrentUser(R):g.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(f){var g=this;return(0,h.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,h.Z)(function*(){try{yield Cn(f)}catch(E){if("auth/network-request-failed"!==E?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ae(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,h.Z)(function*(){const E=f?(0,F.m9)(f):null;return E&&U(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(f,g=!1){var E=this;return(0,h.Z)(function*(){if(!E._deleted)return f&&U(E.tenantId===f.tenantId,E,"tenant-id-mismatch"),g||(yield E.beforeStateQueue.runMiddleware(f)),E.queue((0,h.Z)(function*(){yield E.directlySetCurrentUser(f),E.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(gt(f))}))}initializeRecaptchaConfig(){var f=this;return(0,h.Z)(function*(){const g=yield Fo(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new Wu(g);null==f.tenantId?f._agentRecaptchaConfig=E:f._tenantRecaptchaConfigs[f.tenantId]=E,E.emailPasswordEnabled&&new yr(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new F.LL("auth","Firebase",f())}onAuthStateChanged(f,g,E){return this.registerStateListener(this.authStateSubscription,f,g,E)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,E){return this.registerStateListener(this.idTokenSubscription,f,g,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var E=this;return(0,h.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(g);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const E=f&&gt(f)||g._popupRedirectResolver;U(E,g,"argument-error"),g.redirectPersistenceManager=yield V.create(g,[gt(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,h.Z)(function*(){var E,A;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===f?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,h.Z)(function*(){if(f===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,E,A){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),z=this._isInitialized?Promise.resolve():this._initializationPromise;return U(z,this,"internal-error"),z.then(()=>R(this.currentUser)),"function"==typeof g?f.addObserver(g,E,A):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=eh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var g;const E={"X-Client-Version":f.clientVersion};f.app.options.appId&&(E["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();A&&(E["X-Firebase-Client"]=A);const R=yield f._getAppCheckToken();return R&&(E["X-Firebase-AppCheck"]=R),E})()}_getAppCheckToken(){var f=this;return(0,h.Z)(function*(){var g;const E=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return E?.error&&function ve(v,...f){me.logLevel<=se.in.WARN&&me.warn(`Auth (${G.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function ot(v){return(0,F.m9)(v)}class cn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function On(v,f,g){const E=ot(v);U(E._canInitEmulator,E,"emulator-config-failed"),U(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const A=!!g?.disableWarnings,R=fs(f),{host:z,port:ee}=function Tn(v){const f=fs(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const R=A[1];return{host:R,port:Vi(E.substr(R.length+1))}}{const[R,z]=E.split(":");return{host:R,port:Vi(z)}}}(f);E.config.emulator={url:`${R}//${z}${null===ee?"":`:${ee}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:z,port:ee,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Ku(){function v(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function fs(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Vi(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class Mt{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return he("not implemented")}_getIdTokenResponse(f){return he("not implemented")}_linkToIdToken(f,g){return he("not implemented")}_getReauthenticationResolver(f){return he("not implemented")}}function Vo(v,f){return ps.apply(this,arguments)}function ps(){return(ps=(0,h.Z)(function*(v,f){return wt(v,"POST","/v1/accounts:resetPassword",Ne(v,f))})).apply(this,arguments)}function no(v,f){return ks.apply(this,arguments)}function ks(){return(ks=(0,h.Z)(function*(v,f){return wt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function gs(){return(gs=(0,h.Z)(function*(v,f){return wt(v,"POST","/v1/accounts:update",Ne(v,f))})).apply(this,arguments)}function Fs(v,f){return _i.apply(this,arguments)}function _i(){return(_i=(0,h.Z)(function*(v,f){return Gt(v,"POST","/v1/accounts:signInWithPassword",Ne(v,f))})).apply(this,arguments)}function Ls(v,f){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,h.Z)(function*(v,f){return wt(v,"POST","/v1/accounts:sendOobCode",Ne(v,f))})).apply(this,arguments)}function yl(){return(yl=(0,h.Z)(function*(v,f){return Ls(v,f)})).apply(this,arguments)}function Uo(v,f){return za.apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(v,f){return Ls(v,f)})).apply(this,arguments)}function Zi(v,f){return ni.apply(this,arguments)}function ni(){return(ni=(0,h.Z)(function*(v,f){return Ls(v,f)})).apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(v,f){return Ls(v,f)})).apply(this,arguments)}function _r(){return(_r=(0,h.Z)(function*(v,f){return Gt(v,"POST","/v1/accounts:signInWithEmailLink",Ne(v,f))})).apply(this,arguments)}function Bo(){return(Bo=(0,h.Z)(function*(v,f){return Gt(v,"POST","/v1/accounts:signInWithEmailLink",Ne(v,f))})).apply(this,arguments)}class ms extends Mt{constructor(f,g,E,A=null){super("password",E),this._email=f,this._password=g,this._tenantId=A}static _fromEmailAndPassword(f,g){return new ms(f,g,"password")}static _fromEmailAndCode(f,g,E=null){return new ms(f,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,h.Z)(function*(){var E;switch(g.signInMethod){case"password":const A={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=f._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const R=yield Fi(f,A,"signInWithPassword");return Fs(f,R)}return Fs(f,A).catch(function(){var R=(0,h.Z)(function*(z){if("auth/missing-recaptcha-token"===z.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield Fi(f,A,"signInWithPassword");return Fs(f,ee)}return Promise.reject(z)});return function(z){return R.apply(this,arguments)}}());case"emailLink":return function np(v,f){return _r.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ie(f,"internal-error")}})()}_linkToIdToken(f,g){var E=this;return(0,h.Z)(function*(){switch(E.signInMethod){case"password":return no(f,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ei(v,f){return Bo.apply(this,arguments)}(f,{idToken:g,email:E._email,oobCode:E._password});default:Ie(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Or(v,f){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,h.Z)(function*(v,f){return Gt(v,"POST","/v1/accounts:signInWithIdp",Ne(v,f))})).apply(this,arguments)}class Yi extends Mt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Yi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ie("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A}=g,R=(0,ie._T)(g,["providerId","signInMethod"]);if(!E||!A)return null;const z=new Yi(E,A);return z.idToken=R.idToken||void 0,z.accessToken=R.accessToken||void 0,z.secret=R.secret,z.nonce=R.nonce,z.pendingToken=R.pendingToken||null,z}_getIdTokenResponse(f){return Or(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,Or(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Or(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,F.xO)(g)}return f}}function qa(){return(qa=(0,h.Z)(function*(v,f){return wt(v,"POST","/v1/accounts:sendVerificationCode",Ne(v,f))})).apply(this,arguments)}function Wa(){return(Wa=(0,h.Z)(function*(v,f){return Gt(v,"POST","/v1/accounts:signInWithPhoneNumber",Ne(v,f))})).apply(this,arguments)}function vl(){return(vl=(0,h.Z)(function*(v,f){const g=yield Gt(v,"POST","/v1/accounts:signInWithPhoneNumber",Ne(v,f));if(g.temporaryProof)throw qn(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const sp={USER_NOT_FOUND:"user-not-found"};function Qi(){return(Qi=(0,h.Z)(function*(v,f){return Gt(v,"POST","/v1/accounts:signInWithPhoneNumber",Ne(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),sp)})).apply(this,arguments)}class zr extends Mt{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new zr({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new zr({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function rp(v,f){return Wa.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function ip(v,f){return vl.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function nh(v,f){return Qi.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:E,verificationCode:A}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:E,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:E,phoneNumber:A,temporaryProof:R}=f;return E||g||A||R?new zr({verificationId:g,verificationCode:E,phoneNumber:A,temporaryProof:R}):null}}class jo{constructor(f){var g,E,A,R,z,ee;const Fe=(0,F.zd)((0,F.pd)(f)),ze=null!==(g=Fe.apiKey)&&void 0!==g?g:null,ct=null!==(E=Fe.oobCode)&&void 0!==E?E:null,Pt=function zm(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Fe.mode)&&void 0!==A?A:null);U(ze&&ct&&Pt,"argument-error"),this.apiKey=ze,this.operation=Pt,this.code=ct,this.continueUrl=null!==(R=Fe.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(z=Fe.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(ee=Fe.tenantId)&&void 0!==ee?ee:null}static parseLink(f){const g=function _l(v){const f=(0,F.zd)((0,F.pd)(v)).link,g=f?(0,F.zd)((0,F.pd)(f)).deep_link_id:null,E=(0,F.zd)((0,F.pd)(v)).deep_link_id;return(E?(0,F.zd)((0,F.pd)(E)).link:null)||E||g||f||v}(f);try{return new jo(g)}catch{return null}}}let Ka=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,E){return ms._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const A=jo.parseLink(E);return U(A,"argument-error"),ms._fromEmailAndCode(g,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ri{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Za extends ri{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ya extends Za{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return U("providerId"in g&&"signInMethod"in g,"argument-error"),Yi._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return U(f.idToken||f.accessToken,"argument-error"),Yi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ya.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ya.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:R,nonce:z,providerId:ee}=f;if(!E&&!A&&!g&&!R||!ee)return null;try{return new Ya(ee)._credential({idToken:g,accessToken:E,nonce:z,pendingToken:R})}catch{return null}}}let qm=(()=>{class v extends Za{constructor(){super("facebook.com")}static credential(g){return Yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),ii=(()=>{class v extends Za{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return Yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:A}=g;if(!E&&!A)return null;try{return v.credential(E,A)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),El=(()=>{class v extends Za{constructor(){super("github.com")}static credential(g){return Yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ys extends Mt{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Or(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,Or(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Or(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A,pendingToken:R}=g;return E&&A&&R&&E===A?new ys(E,R):null}static _create(f,g){return new ys(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class io extends ri{constructor(f){U(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return io.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return io.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=ys.fromJSON(f);return U(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:E}=f;if(!g||!E)return null;try{return ys._create(E,g)}catch{return null}}}let Qu=(()=>{class v extends Za{constructor(){super("twitter.com")}static credential(g,E){return Yi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=g;if(!E||!A)return null;try{return v.credential(E,A)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function so(v,f){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,h.Z)(function*(v,f){return Gt(v,"POST","/v1/accounts:signUp",Ne(v,f))})).apply(this,arguments)}class Wn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,E,A=!1){return(0,h.Z)(function*(){const R=yield pe._fromIdTokenResponse(f,E,A),z=rh(E);return new Wn({user:R,providerId:z,_tokenResponse:E,operationType:g})})()}static _forOperation(f,g,E){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const A=rh(E);return new Wn({user:f,providerId:A,_tokenResponse:E,operationType:g})})()}}function rh(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function rn(v){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,h.Z)(function*(v){var f;const g=ot(v);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Wn({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield so(g,{returnSecureToken:!0}),A=yield Wn._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Vs extends F.ZR{constructor(f,g,E,A){var R;super(g.code,g.message),this.operationType=E,this.user=A,Object.setPrototypeOf(this,Vs.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,g,E,A){return new Vs(f,g,E,A)}}function Sn(v,f,g,E){return("reauthenticate"===f?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Vs._fromErrorAndOperation(v,R,f,E):R})}function eu(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function vs(v,f){return nr.apply(this,arguments)}function nr(){return nr=(0,h.Z)(function*(v,f){const g=(0,F.m9)(v);yield wi(!0,g,f);const{providerUserInfo:E}=yield function ti(v,f){return gi.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),A=eu(E||[]);return g.providerData=g.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),nr.apply(this,arguments)}function Ho(v,f){return Go.apply(this,arguments)}function Go(){return(Go=(0,h.Z)(function*(v,f,g=!1){const E=yield It(v,f._linkToIdToken(v.auth,yield v.getIdToken()),g);return Wn._forOperation(v,"link",E)})).apply(this,arguments)}function wi(v,f,g){return rr.apply(this,arguments)}function rr(){return(rr=(0,h.Z)(function*(v,f,g){yield Cn(f);const A=!1===v?"provider-already-linked":"no-such-provider";U(eu(f.providerData).has(g)===v,f.auth,A)})).apply(this,arguments)}function wl(v,f){return oo.apply(this,arguments)}function oo(){return(oo=(0,h.Z)(function*(v,f,g=!1){const{auth:E}=v,A="reauthenticate";try{const R=yield It(v,Sn(E,A,f,v),g);U(R.idToken,E,"internal-error");const z=Ln(R.idToken);U(z,E,"internal-error");const{sub:ee}=z;return U(v.uid===ee,E,"user-mismatch"),Wn._forOperation(v,A,R)}catch(R){throw"auth/user-not-found"===R?.code&&Ie(E,"user-mismatch"),R}})).apply(this,arguments)}function Ju(v,f){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,h.Z)(function*(v,f,g=!1){const E="signIn",A=yield Sn(v,E,f),R=yield Wn._fromIdTokenResponse(v,E,A);return g||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Us(v,f){return zo.apply(this,arguments)}function zo(){return(zo=(0,h.Z)(function*(v,f){return Ju(ot(v),f)})).apply(this,arguments)}function St(v,f){return tu.apply(this,arguments)}function tu(){return(tu=(0,h.Z)(function*(v,f){const g=(0,F.m9)(v);return yield wi(!1,g,f.providerId),Ho(g,f)})).apply(this,arguments)}function Xu(v,f){return ec.apply(this,arguments)}function ec(){return(ec=(0,h.Z)(function*(v,f){return wl((0,F.m9)(v),f)})).apply(this,arguments)}function nc(){return(nc=(0,h.Z)(function*(v,f){return Gt(v,"POST","/v1/accounts:signInWithCustomToken",Ne(v,f))})).apply(this,arguments)}function Il(v,f){return rc.apply(this,arguments)}function rc(){return rc=(0,h.Z)(function*(v,f){const g=ot(v),E=yield function tc(v,f){return nc.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),A=yield Wn._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(A.user),A}),rc.apply(this,arguments)}class dn{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?_e._fromServerResponse(f,g):"totpInfo"in g?qt._fromServerResponse(f,g):Ie(f,"internal-error")}}class _e extends dn{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new _e(g)}}class qt extends dn{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new qt(g)}}function Bs(v,f,g){var E;U((null===(E=g.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),U(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(U(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(U(g.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ih(v,f,g){return Pn.apply(this,arguments)}function Pn(){return Pn=(0,h.Z)(function*(v,f,g){var E;const A=ot(v),R={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=A._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const z=yield Fi(A,R,"getOobCode",!0);g&&Bs(A,z,g),yield Uo(A,z)}else g&&Bs(A,R,g),yield Uo(A,R).catch(function(){var z=(0,h.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Fe=yield Fi(A,R,"getOobCode",!0);g&&Bs(A,Fe,g),yield Uo(A,Fe)}});return function(ee){return z.apply(this,arguments)}}())}),Pn.apply(this,arguments)}function sh(v,f,g){return _s.apply(this,arguments)}function _s(){return(_s=(0,h.Z)(function*(v,f,g){yield Vo((0,F.m9)(v),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Di(v,f){return nu.apply(this,arguments)}function nu(){return nu=(0,h.Z)(function*(v,f){yield function vr(v,f){return gs.apply(this,arguments)}((0,F.m9)(v),{oobCode:f})}),nu.apply(this,arguments)}function qo(v,f){return ru.apply(this,arguments)}function ru(){return(ru=(0,h.Z)(function*(v,f){const g=(0,F.m9)(v),E=yield Vo(g,{oobCode:f}),A=E.requestType;switch(U(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(E.mfaInfo,g,"internal-error");default:U(E.email,g,"internal-error")}let R=null;return E.mfaInfo&&(R=dn._fromServerResponse(ot(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function Dl(v,f){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,h.Z)(function*(v,f){const{data:g}=yield qo((0,F.m9)(v),f);return g.email})).apply(this,arguments)}function Un(v,f,g){return Er.apply(this,arguments)}function Er(){return Er=(0,h.Z)(function*(v,f,g){var E;const A=ot(v),R={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let z;if(null!==(E=A._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ze=yield Fi(A,R,"signUpPassword");z=so(A,ze)}else z=so(A,R).catch(function(){var ze=(0,h.Z)(function*(ct){if("auth/missing-recaptcha-token"===ct.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Pt=yield Fi(A,R,"signUpPassword");return so(A,Pt)}return Promise.reject(ct)});return function(ct){return ze.apply(this,arguments)}}());const ee=yield z.catch(ze=>Promise.reject(ze)),Fe=yield Wn._fromIdTokenResponse(A,"signIn",ee);return yield A._updateCurrentUser(Fe.user),Fe}),Er.apply(this,arguments)}function ic(v,f,g){return Us((0,F.m9)(v),Ka.credential(f,g))}function Ko(v,f,g){return si.apply(this,arguments)}function si(){return si=(0,h.Z)(function*(v,f,g){var E;const A=ot(v),R={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function z(ee,Fe){U(Fe.handleCodeInApp,A,"argument-error"),Fe&&Bs(A,ee,Fe)}if(null!==(E=A._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ee=yield Fi(A,R,"getOobCode",!0);z(ee,g),yield Zi(A,ee)}else z(R,g),yield Zi(A,R).catch(function(){var ee=(0,h.Z)(function*(Fe){if("auth/missing-recaptcha-token"!==Fe.code)return Promise.reject(Fe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ze=yield Fi(A,R,"getOobCode",!0);z(ze,g),yield Zi(A,ze)}});return function(Fe){return ee.apply(this,arguments)}}())}),si.apply(this,arguments)}function iu(v,f){return"EMAIL_SIGNIN"===jo.parseLink(f)?.operation}function Cl(v,f,g){return sc.apply(this,arguments)}function sc(){return(sc=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v),A=Ka.credentialWithLink(f,g||Ge());return U(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Us(E,A)})).apply(this,arguments)}function ao(){return(ao=(0,h.Z)(function*(v,f){return wt(v,"POST","/v1/accounts:createAuthUri",Ne(v,f))})).apply(this,arguments)}function bl(v,f){return su.apply(this,arguments)}function su(){return su=(0,h.Z)(function*(v,f){const E={identifier:f,continueUri:Tt()?Ge():"http://localhost"},{signinMethods:A}=yield function oh(v,f){return ao.apply(this,arguments)}((0,F.m9)(v),E);return A||[]}),su.apply(this,arguments)}function ou(v,f){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,h.Z)(function*(v,f){const g=(0,F.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&Bs(g.auth,A,f);const{email:R}=yield function zt(v,f){return yl.apply(this,arguments)}(g.auth,A);R!==v.email&&(yield v.reload())}),Tl.apply(this,arguments)}function oc(v,f,g){return au.apply(this,arguments)}function au(){return au=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};g&&Bs(E.auth,R,g);const{email:z}=yield function ro(v,f){return tr.apply(this,arguments)}(E.auth,R);z!==v.email&&(yield v.reload())}),au.apply(this,arguments)}function Sl(){return(Sl=(0,h.Z)(function*(v,f){return wt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ac(v,f){return Al.apply(this,arguments)}function Al(){return Al=(0,h.Z)(function*(v,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const E=(0,F.m9)(v),R={idToken:yield E.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},z=yield It(E,function ap(v,f){return Sl.apply(this,arguments)}(E.auth,R));E.displayName=z.displayName||null,E.photoURL=z.photoUrl||null;const ee=E.providerData.find(({providerId:Fe})=>"password"===Fe);ee&&(ee.displayName=E.displayName,ee.photoURL=E.photoURL),yield E._updateTokensIfNecessary(z)}),Al.apply(this,arguments)}function Ml(v,f){return xl((0,F.m9)(v),f,null)}function uc(v,f){return xl((0,F.m9)(v),null,f)}function xl(v,f,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,h.Z)(function*(v,f,g){const{auth:E}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(R.email=f),g&&(R.password=g);const z=yield It(v,no(E,R));yield v._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class an{constructor(f,g,E={}){this.isNewUser=f,this.providerId=g,this.profile=E}}class cc extends an{constructor(f,g,E,A){super(f,g,E),this.username=A}}class sr extends an{constructor(f,g){super(f,"facebook.com",g)}}class up extends cc{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class qr extends an{constructor(f,g){super(f,"google.com",g)}}class cp extends cc{constructor(f,g,E){super(f,"twitter.com",g,E)}}function ah(v){const{user:f,_tokenResponse:g}=v;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function uo(v){var f,g;if(!v)return null;const{providerId:E}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&v?.idToken){const z=null===(g=null===(f=Ln(v.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(z)return new an(R,"anonymous"!==z&&"custom"!==z?z:null)}if(!E)return null;switch(E){case"facebook.com":return new sr(R,A);case"github.com":return new up(R,A);case"google.com":return new qr(R,A);case"twitter.com":return new cp(R,A,v.screenName||null);case"custom":case"anonymous":return new an(R,null);default:return new an(R,E,A)}}(g)}function Es(v,f,g,E){return(0,F.m9)(v).onAuthStateChanged(f,g,E)}function Yo(v){return(0,F.m9)(v).signOut()}class Ji{constructor(f,g,E){this.type=f,this.credential=g,this.auth=E}static _fromIdtoken(f,g){return new Ji("enroll",f,g)}static _fromMfaPendingCredential(f){return new Ji("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,E;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ji._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(E=f.multiFactorSession)&&void 0!==E&&E.idToken)return Ji._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Pl{constructor(f,g,E){this.session=f,this.hints=g,this.signInResolver=E}static _fromError(f,g){const E=ot(f),A=g.customData._serverResponse,R=(A.mfaInfo||[]).map(ee=>dn._fromServerResponse(E,ee));U(A.mfaPendingCredential,E,"internal-error");const z=Ji._fromMfaPendingCredential(A.mfaPendingCredential);return new Pl(z,R,function(){var ee=(0,h.Z)(function*(Fe){const ze=yield Fe._process(E,z);delete A.mfaInfo,delete A.mfaPendingCredential;const ct=Object.assign(Object.assign({},A),{idToken:ze.idToken,refreshToken:ze.refreshToken});switch(g.operationType){case"signIn":const Pt=yield Wn._fromIdTokenResponse(E,g.operationType,ct);return yield E._updateCurrentUser(Pt.user),Pt;case"reauthenticate":return U(g.user,E,"internal-error"),Wn._forOperation(g.user,g.operationType,ct);default:Ie(E,"internal-error")}});return function(Fe){return ee.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,h.Z)(function*(){return g.signInResolver(f)})()}}function ch(v,f){var g;const E=(0,F.m9)(v),A=f;return U(f.customData.operationType,E,"argument-error"),U(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Pl._fromError(E,A)}class ws{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>dn._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new ws(f)}getSession(){var f=this;return(0,h.Z)(function*(){return Ji._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var E=this;return(0,h.Z)(function*(){const A=f,R=yield E.getSession(),z=yield It(E.user,A._process(E.user.auth,R,g));return yield E.user._updateTokensIfNecessary(z),E.user.reload()})()}unenroll(f){var g=this;return(0,h.Z)(function*(){const E="string"==typeof f?f:f.uid,A=yield g.user.getIdToken();try{const R=yield It(g.user,function lo(v,f){return wt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ne(v,f))}(g.user.auth,{idToken:A,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:z})=>z!==E),yield g.user._updateTokensIfNecessary(R),yield g.user.reload()}catch(R){throw R}})()}}const Bi=new WeakMap;function Jo(v){const f=(0,F.m9)(v);return Bi.has(f)||Bi.set(f,ws._fromUser(f)),Bi.get(f)}const ho="__sak";class Xo{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ho,"1"),this.storage.removeItem(ho),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const dh=(()=>{class v extends Xo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function lh(){const v=(0,F.z$)();return ce(v)||vn(v)}()&&function Ga(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=yi(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),R=this.localCache[E];A!==R&&g(E,R,A)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((ee,Fe,ze)=>{this.notifyListeners(ee,ze)});const A=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(A);if(g.newValue!==ee)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!E)return}const R=()=>{const ee=this.storage.getItem(A);!E&&this.localCache[A]===ee||this.notifyListeners(A,ee)},z=this.storage.getItem(A);!function Nr(){return(0,F.w1)()&&10===document.documentMode}()||z===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,E){this.localCache[g]=E;const A=this.listeners[g];if(A)for(const R of Array.from(A))R(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var A=()=>super._set,R=this;return(0,h.Z)(function*(){yield A().call(R,g,E),R.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,A=this;return(0,h.Z)(function*(){const R=yield E().call(A,g);return A.localCache[g]=JSON.stringify(R),R})()}_remove(g){var E=()=>super._remove,A=this;return(0,h.Z)(function*(){yield E().call(A,g),delete A.localCache[g]})()}}return v.type="LOCAL",v})(),ta=(()=>{class v extends Xo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return v.type="SESSION",v})();let oi=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(R=>R.isListeningto(g));if(E)return E;const A=new v(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,h.Z)(function*(){const A=g,{eventId:R,eventType:z,data:ee}=A.data,Fe=E.handlersMap[z];if(!Fe?.size)return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:z});const ze=Array.from(Fe).map(function(){var Pt=(0,h.Z)(function*(Lr){return Lr(A.origin,ee)});return function(Lr){return Pt.apply(this,arguments)}}()),ct=yield function na(v){return Promise.all(v.map(function(){var f=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return f.apply(this,arguments)}}()))}(ze);A.ports[0].postMessage({status:"done",eventId:R,eventType:z,response:ct})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function js(v="",f=10){let g="";for(let E=0;E<f;E++)g+=Math.floor(10*Math.random());return v+g}class ra{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,E=50){var A=this;return(0,h.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let z,ee;return new Promise((Fe,ze)=>{const ct=js("",20);R.port1.start();const Pt=setTimeout(()=>{ze(new Error("unsupported_event"))},E);ee={messageChannel:R,onMessage(Lr){const ci=Lr;if(ci.data.eventId===ct)switch(ci.data.status){case"ack":clearTimeout(Pt),z=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Fe(ci.data.response);break;default:clearTimeout(Pt),clearTimeout(z),ze(new Error("invalid_response"))}}},A.handlers.add(ee),R.port1.addEventListener("message",ee.onMessage),A.target.postMessage({eventType:f,eventId:ct,data:g},[R.port2])}).finally(()=>{ee&&A.removeMessageHandler(ee)})})()}}function hn(){return window}function Is(){return typeof hn().WorkerGlobalScope<"u"&&"function"==typeof hn().importScripts}function dc(){return(dc=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const oa="firebaseLocalStorageDb",Fl=1,Pr="firebaseLocalStorage",aa="fbase_key";class Ci{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ds(v,f){return v.transaction([Pr],f?"readwrite":"readonly").objectStore(Pr)}function ua(){const v=indexedDB.open(oa,Fl);return new Promise((f,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Pr,{keyPath:aa})}catch(A){g(A)}}),v.addEventListener("success",(0,h.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Pr)?f(E):(E.close(),yield function Ll(){const v=indexedDB.deleteDatabase(oa);return new Ci(v).toPromise()}(),f(yield ua()))}))})}function wr(v,f,g){return ca.apply(this,arguments)}function ca(){return(ca=(0,h.Z)(function*(v,f,g){const E=Ds(v,!0).put({[aa]:f,value:g});return new Ci(E).toPromise()})).apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(v,f){const g=Ds(v,!1).get(f),E=yield new Ci(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function hc(v,f){const g=Ds(v,!0).delete(f);return new Ci(g).toPromise()}const Cs=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield ua()),g.db})()}_withRetries(g){var E=this;return(0,h.Z)(function*(){let A=0;for(;;)try{const R=yield E._openDb();return yield g(R)}catch(R){if(A++>3)throw R;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return Is()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=oi._getInstance(function kl(){return Is()?self:null}()),g.receiver._subscribe("keyChanged",function(){var E=(0,h.Z)(function*(A,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(A,R){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,h.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var E,A;if(g.activeServiceWorker=yield function ia(){return dc.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ra(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);R&&null!==(E=R[0])&&void 0!==E&&E.fulfilled&&null!==(A=R[0])&&void 0!==A&&A.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,h.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function sa(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ua();return yield wr(g,ho,"1"),yield hc(g,ho),!0}catch{}return!1})()}_withPendingWrite(g){var E=this;return(0,h.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var A=this;return(0,h.Z)(function*(){return A._withPendingWrite((0,h.Z)(function*(){return yield A._withRetries(R=>wr(R,g,E)),A.localCache[g]=E,A.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,h.Z)(function*(){const A=yield E._withRetries(R=>function Vl(v,f){return la.apply(this,arguments)}(R,g));return E.localCache[g]=A,A})()}_remove(g){var E=this;return(0,h.Z)(function*(){return E._withPendingWrite((0,h.Z)(function*(){return yield E._withRetries(A=>hc(A,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const E=yield g._withRetries(z=>{const ee=Ds(z,!1).getAll();return new Ci(ee).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:z,value:ee}of E)R.add(z),JSON.stringify(g.localCache[z])!==JSON.stringify(ee)&&(g.notifyListeners(z,ee),A.push(z));for(const z of Object.keys(g.localCache))g.localCache[z]&&!R.has(z)&&(g.notifyListeners(z,null),A.push(z));return A})()}notifyListeners(g,E){this.localCache[g]=E;const A=this.listeners[g];if(A)for(const R of Array.from(A))R(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),bi=1e12;class fn{constructor(f){this.auth=f,this.counter=bi,this._widgets=new Map}render(f,g){const E=this.counter;return this._widgets.set(E,new hh(f,this.auth.name,g||{})),this.counter++,E}reset(f){var g;const E=f||bi;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(f){var g;return(null===(g=this._widgets.get(f||bi))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,h.Z)(function*(){var E;return null===(E=g._widgets.get(f||bi))||void 0===E||E.execute(),""})()}}class hh{constructor(f,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;U(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function fc(v){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pc=er("rcb"),Wm=new le(3e4,6e4);class jl{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=hn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return U(function pp(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Lo(hn().grecaptcha)?Promise.resolve(hn().grecaptcha):new Promise((E,A)=>{const R=hn().setTimeout(()=>{A(ge(f,"network-request-failed"))},Wm.get());hn()[pc]=()=>{hn().clearTimeout(R),delete hn()[pc];const ee=hn().grecaptcha;if(!ee||!Lo(ee))return void A(ge(f,"internal-error"));const Fe=ee.render;ee.render=(ze,ct)=>{const Pt=Fe(ze,ct);return this.counter++,Pt},this.hostLanguage=g,E(ee)},bn(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:pc,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),A(ge(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=hn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fa{load(f){return(0,h.Z)(function*(){return new fn(f)})()}clearedOneInstance(){}}const gp="recaptcha",Zm={theme:"light",type:"image"};class wn{constructor(f,g=Object.assign({},Zm),E){this.parameters=g,this.type=gp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ot(E),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;U(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fa:new jl,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(g)||new Promise(R=>{const z=ee=>{ee&&(f.tokenChangeListeners.delete(z),R(ee))};f.tokenChangeListeners.add(z),f.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof f)f(g);else if("string"==typeof f){const E=hn()[f];"function"==typeof E&&E(g)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){U(Tt()&&!Is(),f.auth,"internal-error"),yield function gc(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Gu(v){return ko.apply(this,arguments)}(f.auth);U(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $s{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=zr._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function mp(v,f,g){return ai.apply(this,arguments)}function ai(){return(ai=(0,h.Z)(function*(v,f,g){const E=ot(v),A=yield yc(E,f,(0,F.m9)(g));return new $s(A,R=>Us(E,R))})).apply(this,arguments)}function go(v,f,g){return $l.apply(this,arguments)}function $l(){return($l=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v);yield wi(!1,E,"phone");const A=yield yc(E.auth,f,(0,F.m9)(g));return new $s(A,R=>St(E,R))})).apply(this,arguments)}function mc(v,f,g){return mo.apply(this,arguments)}function mo(){return(mo=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v),A=yield yc(E.auth,f,(0,F.m9)(g));return new $s(A,R=>Xu(E,R))})).apply(this,arguments)}function yc(v,f,g){return fh.apply(this,arguments)}function fh(){return fh=(0,h.Z)(function*(v,f,g){var E;const A=yield g.verify();try{let R;if(U("string"==typeof A,v,"argument-error"),U(g.type===gp,v,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const z=R.session;if("phoneNumber"in R)return U("enroll"===z.type,v,"internal-error"),(yield function Qo(v,f){return wt(v,"POST","/v2/accounts/mfaEnrollment:start",Ne(v,f))}(v,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{U("signin"===z.type,v,"internal-error");const ee=(null===(E=R.multiFactorHint)||void 0===E?void 0:E.uid)||R.multiFactorUid;return U(ee,v,"missing-multi-factor-info"),(yield function ha(v,f){return wt(v,"POST","/v2/accounts/mfaSignIn:start",Ne(v,f))}(v,{mfaPendingCredential:z.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield function th(v,f){return qa.apply(this,arguments)}(v,{phoneNumber:R.phoneNumber,recaptchaToken:A});return z}}finally{g._reset()}}),fh.apply(this,arguments)}function vc(v,f){return _c.apply(this,arguments)}function _c(){return(_c=(0,h.Z)(function*(v,f){yield Ho((0,F.m9)(v),f)})).apply(this,arguments)}let Wt=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=ot(g)}verifyPhoneNumber(g,E){return yc(this.auth,g,(0,F.m9)(E))}static credential(g,E){return zr._fromVerification(g,E)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:A}=g;return E&&A?zr._fromTokenResponse(E,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Bn(v,f){return f?gt(f):(U(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class ji extends Mt{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Or(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Or(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Or(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Hl(v){return Ju(v.auth,new ji(v),v.bypassAuthState)}function fu(v){const{auth:f,user:g}=v;return U(g,f,"internal-error"),wl(g,new ji(v),v.bypassAuthState)}function yp(v){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,h.Z)(function*(v){const{auth:f,user:g}=v;return U(g,f,"internal-error"),Ho(g,new ji(v),v.bypassAuthState)})).apply(this,arguments)}class ph{constructor(f,g,E,A,R=!1){this.auth=f,this.resolver=E,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,h.Z)(function*(E,A){f.pendingPromise={resolve:E,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(E,A){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,h.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:R,tenantId:z,error:ee,type:Fe}=f;if(ee)return void g.reject(ee);const ze={auth:g.auth,requestUri:E,sessionId:A,tenantId:z||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Fe)(ze))}catch(ct){g.reject(ct)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Hl;case"linkViaPopup":case"linkViaRedirect":return yp;case"reauthViaPopup":case"reauthViaRedirect":return fu;default:Ie(this.auth,"internal-error")}}resolve(f){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pu=new le(2e3,1e4);function yo(v,f,g){return An.apply(this,arguments)}function An(){return(An=(0,h.Z)(function*(v,f,g){const E=ot(v);Ve(v,f,ri);const A=Bn(E,g);return new pa(E,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function xt(v,f,g){return vo.apply(this,arguments)}function vo(){return(vo=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v);Ve(E.auth,f,ri);const A=Bn(E.auth,g);return new pa(E.auth,"reauthViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}function wc(v,f,g){return kr.apply(this,arguments)}function kr(){return(kr=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v);Ve(E.auth,f,ri);const A=Bn(E.auth,g);return new pa(E.auth,"linkViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}let pa=(()=>{class v extends ph{constructor(g,E,A,R,z){super(g,E,R,z),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const E=yield g.execute();return U(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,h.Z)(function*(){Be(1===g.filter.length,"Popup operations only handle one event");const E=js();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(ge(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,A;this.pollId=null!==(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,pu.get())};g()}}return v.currentPopupAction=null,v})();const Ti="pendingRedirect",ga=new Map;class Hs extends ph{constructor(f,g,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,h.Z)(function*(){let E=ga.get(g.auth._key());if(!E){try{const R=(yield function Ir(v,f){return _o.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;E=()=>Promise.resolve(R)}catch(A){E=()=>Promise.reject(A)}ga.set(g.auth._key(),E)}return g.bypassAuthState||ga.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,E=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(E,f);if("unknown"!==f.type){if(f.eventId){const A=yield E.auth._redirectUserForId(f.eventId);if(A)return E.user=A,g().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function _o(){return(_o=(0,h.Z)(function*(v,f){const g=O(f),E=M(v);if(!(yield E._isAvailable()))return!1;const A="true"===(yield E._get(g));return yield E._remove(g),A})).apply(this,arguments)}function ma(v,f){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,h.Z)(function*(v,f){return M(v)._set(O(f),"true")})).apply(this,arguments)}function D(){ga.clear()}function b(v,f){ga.set(v._key(),f)}function M(v){return gt(v._redirectPersistence)}function O(v){return Nn(Ti,v.config.apiKey,v.name)}function q(v,f,g){return function Q(v,f,g){return fe.apply(this,arguments)}(v,f,g)}function fe(){return(fe=(0,h.Z)(function*(v,f,g){const E=ot(v);Ve(v,f,ri),yield E._initializationPromise;const A=Bn(E,g);return yield ma(A,E),A._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function Je(v,f,g){return function lt(v,f,g){return ut.apply(this,arguments)}(v,f,g)}function ut(){return(ut=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v);Ve(E.auth,f,ri),yield E.auth._initializationPromise;const A=Bn(E.auth,g);yield ma(A,E.auth);const R=yield ui(E);return A._openRedirect(E.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function $t(v,f,g){return function Dt(v,f,g){return fr.apply(this,arguments)}(v,f,g)}function fr(){return(fr=(0,h.Z)(function*(v,f,g){const E=(0,F.m9)(v);Ve(E.auth,f,ri),yield E.auth._initializationPromise;const A=Bn(E.auth,g);yield wi(!1,E,f.providerId),yield ma(A,E.auth);const R=yield ui(E);return A._openRedirect(E.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function Kn(v,f){return bs.apply(this,arguments)}function bs(){return(bs=(0,h.Z)(function*(v,f){return yield ot(v)._initializationPromise,ya(v,f,!1)})).apply(this,arguments)}function ya(v,f){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,h.Z)(function*(v,f,g=!1){const E=ot(v),A=Bn(E,f),z=yield new Hs(E,A,g).execute();return z&&!g&&(delete z.user._redirectEventId,yield E._persistUserIfCurrent(z.user),yield E._setRedirectUser(null,f)),z})).apply(this,arguments)}function ui(v){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,h.Z)(function*(v){const f=js(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class Dc{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(g=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function gh(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _p(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var E;if(f.error&&!_p(f)){const A=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(ge(this.auth,A))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const E=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vp(f))}saveEventToCache(f){this.cachedEventUids.add(vp(f)),this.lastProcessedEventTime=Date.now()}}function vp(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function _p({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function Ep(v){return mh.apply(this,arguments)}function mh(){return(mh=(0,h.Z)(function*(v,f={}){return wt(v,"GET","/v1/projects",f)})).apply(this,arguments)}const wp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ym=/^https?/;function zl(){return(zl=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield Ep(v);for(const g of f)try{if(yh(g))return}catch{}Ie(v,"unauthorized-domain")})).apply(this,arguments)}function yh(v){const f=Ge(),{protocol:g,hostname:E}=new URL(f);if(v.startsWith("chrome-extension://")){const z=new URL(v);return""===z.hostname&&""===E?"chrome-extension:"===g&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&z.hostname===E}if(!Ym.test(g))return!1;if(wp.test(v))return E===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const ql=new le(3e4,6e4);function Cc(){const v=hn().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let gu=null;const Dp=new le(5e3,15e3),Kr="__/auth/iframe",Eo="emulator/auth/iframe",vh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tE(v){const f=v.config;U(f.authDomain,v,"auth-domain-config-required");const g=f.emulator?Ce(f,Eo):`https://${v.config.authDomain}/${Kr}`,E={apiKey:f.apiKey,appName:v.name,v:G.SDK_VERSION},A=Cp.get(v.config.apiHost);A&&(E.eid=A);const R=v._getFrameworks();return R.length&&(E.fw=R.join(",")),`${g}?${(0,F.xO)(E).slice(1)}`}function Wl(){return Wl=(0,h.Z)(function*(v){const f=yield function es(v){return gu=gu||function bc(v){return new Promise((f,g)=>{var E,A,R;function z(){Cc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Cc(),g(ge(v,"network-request-failed"))},timeout:ql.get()})}if(null!==(A=null===(E=hn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==A&&A.Iframe)f(gapi.iframes.getContext());else{if(null===(R=hn().gapi)||void 0===R||!R.load){const ee=er("iframefcb");return hn()[ee]=()=>{gapi.load?z():g(ge(v,"network-request-failed"))},bn(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Fe=>g(Fe))}z()}}).catch(f=>{throw gu=null,f})}(v),gu}(v),g=hn().gapi;return U(g,v,"internal-error"),f.open({where:document.body,url:tE(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vh,dontclear:!0},E=>new Promise(function(){var A=(0,h.Z)(function*(R,z){yield E.restyle({setHideOnLeave:!1});const ee=ge(v,"network-request-failed"),Fe=hn().setTimeout(()=>{z(ee)},Dp.get());function ze(){hn().clearTimeout(Fe),R(E)}E.ping(ze).then(ze,()=>{z(ee)})});return function(R,z){return A.apply(this,arguments)}}()))}),Wl.apply(this,arguments)}const Kl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zl=500,Qm=600,Fr="_blank",_h="http://localhost";class Tp{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Yl="__/auth/handler",Jm="emulator/auth/handler",Xm=encodeURIComponent("fac");function Ap(v,f,g,E,A,R){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,h.Z)(function*(v,f,g,E,A,R){U(v.config.authDomain,v,"auth-domain-config-required"),U(v.config.apiKey,v,"invalid-api-key");const z={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:E,v:G.SDK_VERSION,eventId:A};if(f instanceof ri){f.setDefaultLanguage(v.languageCode),z.providerId=f.providerId||"",(0,F.xb)(f.getCustomParameters())||(z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ct,Pt]of Object.entries(R||{}))z[ct]=Pt}if(f instanceof Za){const ct=f.getScopes().filter(Pt=>""!==Pt);ct.length>0&&(z.scopes=ct.join(","))}v.tenantId&&(z.tid=v.tenantId);const ee=z;for(const ct of Object.keys(ee))void 0===ee[ct]&&delete ee[ct];const Fe=yield v._getAppCheckToken(),ze=Fe?`#${Xm}=${encodeURIComponent(Fe)}`:"";return`${function Mp({config:v}){return v.emulator?Ce(v,Jm):`https://${v.authDomain}/${Yl}`}(v)}?${(0,F.xO)(ee).slice(1)}${ze}`})).apply(this,arguments)}const Jl="webStorageSupport",Eh=class ey{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ta,this._completeRedirectFn=ya,this._overrideRedirectResult=b}_openPopup(f,g,E,A){var R=this;return(0,h.Z)(function*(){var z;Be(null===(z=R.eventManagers[f._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const ee=yield Ap(f,g,E,Ge(),A);return function Sp(v,f,g,E=Zl,A=Qm){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),z=Math.max((window.screen.availWidth-E)/2,0).toString();let ee="";const Fe=Object.assign(Object.assign({},Kl),{width:E.toString(),height:A.toString(),top:R,left:z}),ze=(0,F.z$)().toLowerCase();g&&(ee=J(ze)?Fr:g),W(ze)&&(f=f||_h,Fe.scrollbars="yes");const ct=Object.entries(Fe).reduce((Lr,[ci,vu])=>`${Lr}${ci}=${vu},`,"");if(function Vt(v=(0,F.z$)()){var f;return vn(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ze)&&"_self"!==ee)return function Zr(v,f){const g=document.createElement("a");g.href=v,g.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(f||"",ee),new Tp(null);const Pt=window.open(f||"",ee,ct);U(Pt,v,"popup-blocked");try{Pt.focus()}catch{}return new Tp(Pt)}(f,ee,js())})()}_openRedirect(f,g,E,A){var R=this;return(0,h.Z)(function*(){return yield R._originValidation(f),function du(v){hn().location.href=v}(yield Ap(f,g,E,Ge(),A)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:A,promise:R}=this.eventManagers[g];return A?Promise.resolve(A):(Be(R,"If manager is not set, promise should be"),R)}const E=this.initAndGetManager(f);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(f){var g=this;return(0,h.Z)(function*(){const E=yield function bp(v){return Wl.apply(this,arguments)}(f),A=new Dc(f);return E.register("authEvent",R=>(U(R?.authEvent,f,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:A},g.iframes[f._key()]=E,A})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Jl,{type:Jl},A=>{var R;const z=null===(R=A?.[0])||void 0===R?void 0:R[Jl];void 0!==z&&g(!!z),Ie(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ip(v){return zl.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return yi()||ce()||vn()}};class wh{constructor(f){this.factorId=f}_process(f,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,E);case"signin":return this._finalizeSignIn(f,g.credential);default:return he("unexpected MultiFactorSessionType")}}}class va extends wh{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new va(f)}_finalizeEnroll(f,g,E){return function lc(v,f){return wt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ne(v,f))}(f,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function hp(v,f){return wt(v,"POST","/v2/accounts/mfaSignIn:finalize",Ne(v,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let mu=(()=>{class v{constructor(){}static assertion(g){return va._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var ed="@firebase/auth";class yu{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(E=>{f(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Tc=(0,F.Pz)("authIdTokenMaxAge")||300;let ty=null;const xp=v=>function(){var f=(0,h.Z)(function*(g){const E=g&&(yield g.getIdTokenResult()),A=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(A&&A>Tc)return;const R=E?.token;ty!==R&&(ty=R,yield fetch(v,{method:R?"POST":"DELETE",headers:R?{Authorization:`Bearer ${R}`}:{}}))});return function(g){return f.apply(this,arguments)}}();function ny(v=(0,G.getApp)()){const f=(0,G._getProvider)(v,"auth");if(f.isInitialized())return f.getImmediate();const g=function vi(v,f){const g=(0,G._getProvider)(v,"auth");if(g.isInitialized()){const A=g.getImmediate(),R=g.getOptions();if((0,F.vZ)(R,f??{}))return A;Ie(A,"already-initialized")}return g.initialize({options:f})}(v,{popupRedirectResolver:Eh,persistence:[Cs,dh,ta]}),E=(0,F.Pz)("authTokenSyncURL");if(E){const R=xp(E);(function Zo(v,f,g){(0,F.m9)(v).beforeAuthStateChanged(f,g)})(g,R,()=>R(g.currentUser)),function uu(v,f,g,E){(0,F.m9)(v).onIdTokenChanged(f,g,E)}(g,z=>R(z))}const A=(0,F.q4)("auth");return A&&On(g,`http://${A}`),g}!function wa(v){(0,G._registerComponent)(new oe.wA("auth",(f,{options:g})=>{const E=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),R=f.getProvider("app-check-internal"),{apiKey:z,authDomain:ee}=E.options;U(z&&!z.includes(":"),"invalid-api-key",{appName:E.name}),U(!ee?.includes(":"),"argument-error",{appName:E.name});const Fe={apiKey:z,authDomain:ee,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eh(v)},ze=new Qe(E,A,R,Fe);return function Ps(v,f){const g=f?.persistence||[],E=(Array.isArray(g)?g:[g]).map(gt);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(E,f?.popupRedirectResolver)}(ze,g),ze},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,E)=>{f.getProvider("auth-internal").initialize()})),(0,G._registerComponent)(new oe.wA("auth-internal",f=>{const g=ot(f.getProvider("auth").getImmediate());return new yu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)(ed,"0.23.0",function Ih(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,G.registerVersion)(ed,"0.23.0","esm2017")}("Browser")},2090:(mt,be,k)=>{k.d(be,{$s:()=>gt,BH:()=>De,L:()=>we,LL:()=>ft,P0:()=>Pe,Pz:()=>ge,Sg:()=>Ve,UG:()=>he,US:()=>oe,ZB:()=>K,ZR:()=>wt,aH:()=>Ie,b$:()=>Tt,eu:()=>$e,hl:()=>Oe,jU:()=>Be,m9:()=>Nn,ne:()=>It,pd:()=>Ln,q4:()=>ve,r3:()=>ti,ru:()=>Ge,tV:()=>j,uI:()=>U,vZ:()=>Qn,w1:()=>te,xO:()=>mi,xb:()=>cs,z$:()=>Me,zI:()=>tt,zd:()=>Rn});const ie=function(V){const L=[];let W=0;for(let ce=0;ce<V.length;ce++){let J=V.charCodeAt(ce);J<128?L[W++]=J:J<2048?(L[W++]=J>>6|192,L[W++]=63&J|128):55296==(64512&J)&&ce+1<V.length&&56320==(64512&V.charCodeAt(ce+1))?(J=65536+((1023&J)<<10)+(1023&V.charCodeAt(++ce)),L[W++]=J>>18|240,L[W++]=J>>12&63|128,L[W++]=J>>6&63|128,L[W++]=63&J|128):(L[W++]=J>>12|224,L[W++]=J>>6&63|128,L[W++]=63&J|128)}return L},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,L){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[];for(let J=0;J<V.length;J+=3){const Xe=V[J],qe=J+1<V.length,on=qe?V[J+1]:0,Vn=J+2<V.length,vn=Vn?V[J+2]:0;let Nr=(15&on)<<2|vn>>6,yi=63&vn;Vn||(yi=64,qe||(Nr=64)),ce.push(W[Xe>>2],W[(3&Xe)<<4|on>>4],W[Nr],W[yi])}return ce.join("")},encodeString(V,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(V):this.encodeByteArray(ie(V),L)},decodeString(V,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(V):function(V){const L=[];let W=0,ce=0;for(;W<V.length;){const J=V[W++];if(J<128)L[ce++]=String.fromCharCode(J);else if(J>191&&J<224){const Xe=V[W++];L[ce++]=String.fromCharCode((31&J)<<6|63&Xe)}else if(J>239&&J<365){const Vn=((7&J)<<18|(63&V[W++])<<12|(63&V[W++])<<6|63&V[W++])-65536;L[ce++]=String.fromCharCode(55296+(Vn>>10)),L[ce++]=String.fromCharCode(56320+(1023&Vn))}else{const Xe=V[W++],qe=V[W++];L[ce++]=String.fromCharCode((15&J)<<12|(63&Xe)<<6|63&qe)}}return L.join("")}(this.decodeStringToByteArray(V,L))},decodeStringToByteArray(V,L){this.init_();const W=L?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[];for(let J=0;J<V.length;){const Xe=W[V.charAt(J++)],on=J<V.length?W[V.charAt(J)]:0;++J;const vn=J<V.length?W[V.charAt(J)]:64;++J;const Vt=J<V.length?W[V.charAt(J)]:64;if(++J,null==Xe||null==on||null==vn||null==Vt)throw new Re;ce.push(Xe<<2|on>>4),64!==vn&&(ce.push(on<<4&240|vn>>2),64!==Vt&&ce.push(vn<<6&192|Vt))}return ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const we=function(V){return function(V){const L=ie(V);return oe.encodeByteArray(L,!0)}(V).replace(/\./g,"")},j=function(V){try{return oe.decodeString(V,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function K(V,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return L}for(const W in L)!L.hasOwnProperty(W)||!Ue(W)||(V[W]=K(V[W],L[W]));return V}function Ue(V){return"__proto__"!==V}const me=()=>{try{return function Ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=V&&j(V[1]);return L&&JSON.parse(L)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},ve=V=>{var L,W;return null===(W=null===(L=me())||void 0===L?void 0:L.emulatorHosts)||void 0===W?void 0:W[V]},Pe=V=>{const L=ve(V);if(!L)return;const W=L.lastIndexOf(":");if(W<=0||W+1===L.length)throw new Error(`Invalid host ${L} with no separate hostname and port!`);const ce=parseInt(L.substring(W+1),10);return"["===L[0]?[L.substring(1,W-1),ce]:[L.substring(0,W),ce]},Ie=()=>{var V;return null===(V=me())||void 0===V?void 0:V.config},ge=V=>{var L;return null===(L=me())||void 0===L?void 0:L[`_${V}`]};class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,W)=>{this.resolve=L,this.reject=W})}wrapCallback(L){return(W,ce)=>{W?this.reject(W):this.resolve(ce),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(W):L(W,ce))}}}function Ve(V,L){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ce=L||"demo-project",J=V.iat||0,Xe=V.sub||V.user_id;if(!Xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qe=Object.assign({iss:`https://securetoken.google.com/${ce}`,aud:ce,iat:J,exp:J+3600,auth_time:J,sub:Xe,user_id:Xe,firebase:{sign_in_provider:"custom",identities:{}}},V);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(qe)),""].join(".")}function Me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function U(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function he(){var V;const L=null===(V=me())||void 0===V?void 0:V.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Be(){return"object"==typeof self&&self.self===self}function Ge(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function te(){const V=Me();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function Oe(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((V,L)=>{try{let W=!0;const ce="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(ce);J.onsuccess=()=>{J.result.close(),W||self.indexedDB.deleteDatabase(ce),V(!0)},J.onupgradeneeded=()=>{W=!1},J.onerror=()=>{var Xe;L((null===(Xe=J.error)||void 0===Xe?void 0:Xe.message)||"")}}catch(W){L(W)}})}function tt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class wt extends Error{constructor(L,W,ce){super(W),this.code=L,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,wt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ft.prototype.create)}}class ft{constructor(L,W,ce){this.service=L,this.serviceName=W,this.errors=ce}create(L,...W){const ce=W[0]||{},J=`${this.service}/${L}`,Xe=this.errors[L],qe=Xe?function Kt(V,L){return V.replace(Et,(W,ce)=>{const J=L[ce];return null!=J?String(J):`<${ce}?>`})}(Xe,ce):"Error";return new wt(J,`${this.serviceName}: ${qe} (${J}).`,ce)}}const Et=/\{\$([^}]+)}/g;function ti(V,L){return Object.prototype.hasOwnProperty.call(V,L)}function cs(V){for(const L in V)if(Object.prototype.hasOwnProperty.call(V,L))return!1;return!0}function Qn(V,L){if(V===L)return!0;const W=Object.keys(V),ce=Object.keys(L);for(const J of W){if(!ce.includes(J))return!1;const Xe=V[J],qe=L[J];if(yt(Xe)&&yt(qe)){if(!Qn(Xe,qe))return!1}else if(Xe!==qe)return!1}for(const J of ce)if(!W.includes(J))return!1;return!0}function yt(V){return null!==V&&"object"==typeof V}function mi(V){const L=[];for(const[W,ce]of Object.entries(V))Array.isArray(ce)?ce.forEach(J=>{L.push(encodeURIComponent(W)+"="+encodeURIComponent(J))}):L.push(encodeURIComponent(W)+"="+encodeURIComponent(ce));return L.length?"&"+L.join("&"):""}function Rn(V){const L={};return V.replace(/^\?/,"").split("&").forEach(ce=>{if(ce){const[J,Xe]=ce.split("=");L[decodeURIComponent(J)]=decodeURIComponent(Xe)}}),L}function Ln(V){const L=V.indexOf("?");if(!L)return"";const W=V.indexOf("#",L);return V.substring(L,W>0?W:void 0)}function It(V,L){const W=new pt(V,L);return W.subscribe.bind(W)}class pt{constructor(L,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{L(this)}).catch(ce=>{this.error(ce)})}next(L){this.forEachObserver(W=>{W.next(L)})}error(L){this.forEachObserver(W=>{W.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,W,ce){let J;if(void 0===L&&void 0===W&&void 0===ce)throw new Error("Missing Observer.");J=function Ns(V,L){if("object"!=typeof V||null===V)return!1;for(const W of L)if(W in V&&"function"==typeof V[W])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:W,complete:ce},void 0===J.next&&(J.next=Jn),void 0===J.error&&(J.error=Jn),void 0===J.complete&&(J.complete=Jn);const Xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),Xe}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,L)}sendOne(L,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{W(this.observers[L])}catch(ce){typeof console<"u"&&console.error&&console.error(ce)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jn(){}const Rr=1e3,ke=2,pe=144e5,nt=.5;function gt(V,L=Rr,W=ke){const ce=L*Math.pow(W,V),J=Math.round(nt*ce*(Math.random()-.5)*2);return Math.min(pe,ce+J)}function Nn(V){return V&&V._delegate?V._delegate:V}},1458:(mt,be,k)=>{var h=k(4650);let F=null;function G(){return F}class se{}const oe=new h.OlP("DocumentToken");let Re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ye(){return(0,h.LFG)(j)}()},providedIn:"platform"}),n})();const we=new h.OlP("Location Initialized");let j=(()=>{class n extends Re{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(t){const r=G().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=G().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){$()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){$()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oe))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function K(){return new j((0,h.LFG)(oe))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function Ue(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ee(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let it=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(me)},providedIn:"root"}),n})();const ue=new h.OlP("appBaseHref");let me=(()=>{class n extends it{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ue(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+He(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const l=this.prepareExternalUrl(o+He(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){const l=this.prepareExternalUrl(o+He(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Re),h.LFG(ue,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ve=(()=>{class n extends it{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ue(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let l=this.prepareExternalUrl(o+He(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){let l=this.prepareExternalUrl(o+He(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Re),h.LFG(ue,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ve(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ee(De(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+He(r))}normalize(t){return n.stripTrailingSlash(function ge(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,De(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=He,n.joinWithSlash=Ue,n.stripTrailingSlash=Ee,n.\u0275fac=function(t){return new(t||n)(h.LFG(it))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ie(){return new Pe((0,h.LFG)(it))}()},providedIn:"root"}),n})();function De(n){return n.replace(/\/index.html$/,"")}function Fi(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}const hs=/\s+/,Li=[];let Qe=(()=>{class n{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this.initialClasses=Li,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(hs):Li}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(hs):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const o=this.stateMap.get(t);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(hs).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Ps{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let On=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,l)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Ps(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,l),fs(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{fs(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function fs(n,e){n.context.$implicit=e.item}let Vi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ku,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Mt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Mt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ku{constructor(){this.$implicit=null,this.ngIf=null}}function Mt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let _l=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();let $o=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new ys((0,h.LFG)(oe),window)}),n})();class ys{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function io(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Qa(this.window.history)||Qa(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class so{}class uu extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Zo extends uu{static makeCurrent(){!function ie(n){F||(F=n)}(new Zo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function lp(){return Es=Es||document.querySelector("base"),Es?Es.getAttribute("href"):null}();return null==t?null:function Yo(n){Ui=Ui||document.createElement("a"),Ui.setAttribute("href",n);const e=Ui.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Es=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fi(document.cookie,e)}}let Ui,Es=null;const uh=new h.OlP("TRANSITION_ID"),Ji=[{provide:h.ip1,useFactory:function Ol(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=G(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[uh,oe,h.zs3],multi:!0}];let ch=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Qo=new h.OlP("EventManagerPlugins");let lc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const l=o[u];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Qo),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class dp{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=G().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let co=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const o=this.usageCount;let u=o.get(t)??0;return u+=r,u>0?o.set(t,u):o.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),lo=(()=>{class n extends co{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const o=this.doc.createElement("style");o.textContent=r,t.appendChild(o);const u=this.styleRef.get(r);u?u.push(o):this.styleRef.set(r,[o])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ws={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bi=/%COMP%/g,cu=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function lu(n,e){return e.flat(100).map(t=>t.replace(Bi,n))}function ta(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let na=(()=>{class n{constructor(t,r,o,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new oi(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(t,r);return o instanceof ia?o.applyToHost(t):o instanceof Is&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const l=this.eventManager,m=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case h.ifc.Emulated:u=new ia(l,m,r,this.appId,_);break;case h.ifc.ShadowDom:return new du(l,m,t,r);default:u=new Is(l,m,r,_)}u.onDestroy=()=>o.delete(r.id),o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(lc),h.LFG(lo),h.LFG(h.AFp),h.LFG(cu))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class oi{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ws[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(hn(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(hn(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=ws[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=ws[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,o&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ta(r)):this.eventManager.addEventListener(e,t,ta(r))}}function hn(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class du extends oi{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=lu(o.id,o.styles);for(const l of u){const m=document.createElement("style");m.textContent=l,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Is extends oi{constructor(e,t,r,o,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=lu(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ia extends Is{constructor(e,t,r,o,u){const l=o+"-"+r.id;super(e,t,r,u,l),this.contentAttr=function ea(n){return"_ngcontent-%COMP%".replace(Bi,n)}(l),this.hostAttr=function dh(n){return"_nghost-%COMP%".replace(Bi,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let dc=(()=>{class n extends dp{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const sa=["alt","control","meta","shift"],kl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oa={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Fl=(()=>{class n extends dp{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>G().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let l="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),l="code."),sa.forEach(C=>{const S=r.indexOf(C);S>-1&&(r.splice(S,1),l+=C+".")}),l+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=o,_.fullKey=l,_}static matchEventFullKeyCode(t,r){let o=kl[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),sa.forEach(l=>{l!==o&&(0,oa[l])(t)&&(u+=l+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const la=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function ua(){Zo.makeCurrent()},multi:!0},{provide:oe,useFactory:function ca(){return(0,h.RDi)(document),document},deps:[]}]),hc=new h.OlP(""),Ul=[{provide:h.rWj,useClass:class Pl{addToWindow(e){h.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const o=h.dqk.getAllAngularTestabilities();let u=o.length,l=!1;const m=function(_){l=l||_,u--,0==u&&r(l)};o.forEach(function(_){_.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?G().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],hu=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function wr(){return new h.qLn},deps:[]},{provide:Qo,useClass:dc,multi:!0,deps:[oe,h.R0b,h.Lbi]},{provide:Qo,useClass:Fl,multi:!0,deps:[oe]},{provide:na,useClass:na,deps:[lc,lo,h.AFp,cu]},{provide:h.FYo,useExisting:na},{provide:co,useExisting:lo},{provide:lo,useClass:lo,deps:[oe]},{provide:lc,useClass:lc,deps:[Qo,h.R0b]},{provide:so,useClass:ch,deps:[]},[]];let da=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:uh,useExisting:h.AFp},Ji]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(hc,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...hu,...Ul],imports:[_l,h.hGG]}),n})(),po=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oe))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Bl(){return new po((0,h.LFG)(oe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Wt=k(8996),Bn=k(9751);const{isArray:ji}=Array,{getPrototypeOf:Hl,prototype:fu,keys:yp}=Object;function Ec(n){if(1===n.length){const e=n[0];if(ji(e))return{args:e,keys:null};if(function ph(n){return n&&"object"==typeof n&&Hl(n)===fu}(e)){const t=yp(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var pu=k(8421),yo=k(7669),An=k(5403),xt=k(4004);const{isArray:vo}=Array;function kr(n){return(0,xt.U)(e=>function wc(n,e){return vo(e)?n(...e):n(e)}(n,e))}function pa(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let ga=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Hs=(()=>{class n extends ga{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Ir=new h.OlP("NgValueAccessor"),Gl={provide:Ir,useExisting:(0,h.Gpc)(()=>M),multi:!0},b=new h.OlP("CompositionEventMode");let M=(()=>{class n extends ga{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function D(){const n=G()?G().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(b,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([Gl]),h.qOj]}),n})();const O=!1;function q(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Q(n){return null!=n&&"number"==typeof n.length}const fe=new h.OlP("NgValidators"),Je=new h.OlP("NgAsyncValidators"),lt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ut{static min(e){return function $t(n){return e=>{if(q(e.value)||q(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Dt(n){return e=>{if(q(e.value)||q(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return fr(e)}static requiredTrue(e){return function Kn(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function bs(n){return q(n.value)||lt.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ya(n){return e=>q(e.value)||!Q(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Xi(n){return e=>Q(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function ui(n){if(!n)return Wr;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(q(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return mh(e)}static composeAsync(e){return Ym(e)}}function fr(n){return q(n.value)?{required:!0}:null}function Wr(n){return null}function Ic(n){return null!=n}function Dc(n){const e=(0,h.QGY)(n)?(0,Wt.D)(n):n;if(O&&!(0,h.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new h.vHH(-1101,t)}return e}function vp(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function _p(n,e){return e.map(t=>t(n))}function Ep(n){return n.map(e=>function gh(n){return!n.validate}(e)?e:t=>e.validate(t))}function mh(n){if(!n)return null;const e=n.filter(Ic);return 0==e.length?null:function(t){return vp(_p(t,e))}}function wp(n){return null!=n?mh(Ep(n)):null}function Ym(n){if(!n)return null;const e=n.filter(Ic);return 0==e.length?null:function(t){return function Ti(...n){const e=(0,yo.jO)(n),{args:t,keys:r}=Ec(n),o=new Bn.y(u=>{const{length:l}=t;if(!l)return void u.complete();const m=new Array(l);let _=l,C=l;for(let S=0;S<l;S++){let N=!1;(0,pu.Xf)(t[S]).subscribe((0,An.x)(u,B=>{N||(N=!0,C--),m[S]=B},()=>_--,void 0,()=>{(!_||!N)&&(C||u.next(r?pa(r,m):m),u.complete())}))}});return e?o.pipe(kr(e)):o}(_p(t,e).map(Dc)).pipe((0,xt.U)(vp))}}function Ip(n){return null!=n?Ym(Ep(n)):null}function zl(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yh(n){return n._rawValidators}function ql(n){return n._rawAsyncValidators}function Cc(n){return n?Array.isArray(n)?n:[n]:[]}function bc(n,e){return Array.isArray(n)?n.includes(e):n===e}function gu(n,e){const t=Cc(e);return Cc(n).forEach(o=>{bc(t,o)||t.push(o)}),t}function es(n,e){return Cc(e).filter(t=>!bc(n,t))}class Dp{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ip(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Kr extends Dp{get formDirective(){return null}get path(){return null}}class Eo extends Dp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vh{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let bp=(()=>{class n extends vh{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Eo,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),Wl=(()=>{class n extends vh{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Kr,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();function Mp(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const wh=!1,va="VALID",mu="INVALID",_a="PENDING",Ea="DISABLED";function wo(n){return(yu(n)?n.validators:n)||null}function ed(n,e){return(yu(e)?e.asyncValidators:n)||null}function yu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class nd{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===va}get invalid(){return this.status===mu}get pending(){return this.status==_a}get disabled(){return this.status===Ea}get enabled(){return this.status!==Ea}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gu(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gu(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(es(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(es(e,this._rawAsyncValidators))}hasValidator(e){return bc(this._rawValidators,e)}hasAsyncValidator(e){return bc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=_a,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ea,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=va,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===va||this.status===_a)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ea:va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=_a,this._hasOwnPendingAsyncValidator=!0;const t=Dc(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Ea:this.errors?mu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_a)?_a:this._anyControlsHaveStatus(mu)?mu:va}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Xl(n){return Array.isArray(n)?wp(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function td(n){return Array.isArray(n)?Ip(n):n||null}(this._rawAsyncValidators)}}class Tc extends nd{constructor(e,t,r){super(wo(t),ed(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function wa(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new h.vHH(1002,wh?function Eh(n,e){return`Must supply a value for form control ${Mp(n,e)}`}(e,o):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function Ih(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,wh?function Jl(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new h.vHH(1001,wh?function ey(n,e){return`Cannot find form control ${Mp(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const f=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>g}),g="always";function E(n,e){return[...e.path,n]}function A(n,e,t=g){Fe(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ct(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Lr(n,e)})}(n,e),function ci(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Pt(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Lr(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ee(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function R(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ze(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function z(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Fe(n,e){const t=yh(n);null!==e.validator?n.setValidators(zl(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=ql(n);null!==e.asyncValidator?n.setAsyncValidators(zl(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();z(e._rawValidators,o),z(e._rawAsyncValidators,o)}function ze(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=yh(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=ql(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return z(e._rawValidators,r),z(e._rawAsyncValidators,r),t}function Lr(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vu(n,e){Fe(n,e)}function Sc(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Ac(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function id(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===M?t=u:function rd(n){return Object.getPrototypeOf(n.constructor)===Hs}(u)?r=u:o=u}),o||r||t||null}const nE={provide:Kr,useExisting:(0,h.Gpc)(()=>sd)},Mc=(()=>Promise.resolve())();let sd=(()=>{class n extends Kr{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new Tc({},wp(t),Ip(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Mc.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),A(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Mc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Mc.then(()=>{const r=this._findContainer(t.path),o=new Tc({});vu(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Mc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Mc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Ac(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(fe,10),h.Y36(Je,10),h.Y36(f,8))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([nE]),h.qOj]}),n})();function Pp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function od(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ad=class extends nd{constructor(e=null,t,r){super(wo(t),ed(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=od(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Pp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Pp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){od(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},CD={provide:Eo,useExisting:(0,h.Gpc)(()=>sE)},iE=(()=>Promise.resolve())();let sE=(()=>{class n extends Eo{constructor(t,r,o,u,l,m){super(),this._changeDetectorRef=l,this.callSetDisabledState=m,this.control=new ad,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=id(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Sc(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){A(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){iE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,h.D6c)(r);iE.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?E(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Kr,9),h.Y36(fe,10),h.Y36(Je,10),h.Y36(Ir,10),h.Y36(h.sBO,8),h.Y36(f,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([CD]),h.qOj,h.TTD]}),n})(),oE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),kp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const ly=new h.OlP("NgModelWithFormControlWarning"),TD={provide:Kr,useExisting:(0,h.Gpc)(()=>Fp)};let Fp=(()=>{class n extends Kr{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ze(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return A(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){R(t.control||null,t,!1),function _u(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Ac(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(R(r||null,t),(n=>n instanceof ad)(o)&&(A(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);vu(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Dh(n,e){return ze(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fe(this.form,this),this._oldForm&&ze(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(fe,10),h.Y36(Je,10),h.Y36(f,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([TD]),h.qOj,h.TTD]}),n})();const RS={provide:Eo,useExisting:(0,h.Gpc)(()=>fE)};let fE=(()=>{class n extends Eo{set isDisabled(t){}constructor(t,r,o,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=id(0,u)}ngOnChanges(t){this._added||this._setUpControl(),Sc(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return E(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(Kr,13),h.Y36(fe,10),h.Y36(Je,10),h.Y36(Ir,10),h.Y36(ly,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([RS]),h.qOj,h.TTD]}),n})(),ud=(()=>{class n{constructor(){this._validator=Wr}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Wr,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,features:[h.TTD]}),n})();const PS={provide:fe,useExisting:(0,h.Gpc)(()=>jp),multi:!0};let jp=(()=>{class n extends ud{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.D6c,this.createValidator=t=>fr}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([PS]),h.qOj]}),n})(),gy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[kp]}),n})(),my=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:f,useValue:t.callSetDisabledState??g}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[gy]}),n})(),_E=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ly,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:f,useValue:t.callSetDisabledState??g}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[gy]}),n})();function vt(...n){const e=(0,yo.yG)(n);return(0,Wt.D)(n,e)}var li=k(5577),yy=k(576);function wu(n,e){return(0,yy.m)(e)?(0,li.z)(n,e,1):(0,li.z)(n,1)}var $i=k(4482);function Gs(n,e){return(0,$i.e)((t,r)=>{let o=0;t.subscribe((0,An.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}class cd{}class EE{}class zs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),u=o.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof zs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new zs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof zs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(m=>-1===u.indexOf(m)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class vy{encodeKey(e){return DE(e)}encodeValue(e){return DE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const IE=/%(\d[a-f0-9])/gi,Nc={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function DE(n){return encodeURIComponent(n).replace(IE,(e,t)=>Nc[t]??e)}function ld(n){return`${n}`}class qs{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function wE(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[l,m]=-1==u?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,u)),e.decodeValue(o.slice(u+1))],_=t.get(l)||[];_.push(m),t.set(l,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(ld):[ld(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new qs({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ld(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(ld(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class _y{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Iu(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ey(n){return typeof Blob<"u"&&n instanceof Blob}function zp(n){return typeof FormData<"u"&&n instanceof FormData}class Th{constructor(e,t,r,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Gp(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new zs),this.context||(this.context=new _y),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+l}}else this.params=new qs,this.urlWithParams=t}serializeBody(){return null===this.body?null:Iu(this.body)||Ey(this.body)||zp(this.body)||function BD(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zp(this.body)?null:Ey(this.body)?this.body.type||null:Iu(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,C=e.params||this.params;const S=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((N,B)=>N.set(B,e.setHeaders[B]),_)),e.setParams&&(C=Object.keys(e.setParams).reduce((N,B)=>N.set(B,e.setParams[B]),C)),new Th(t,r,u,{params:C,headers:_,context:S,reportProgress:m,responseType:o,withCredentials:l})}}var ar=(()=>((ar=ar||{})[ar.Sent=0]="Sent",ar[ar.UploadProgress=1]="UploadProgress",ar[ar.ResponseHeader=2]="ResponseHeader",ar[ar.DownloadProgress=3]="DownloadProgress",ar[ar.Response=4]="Response",ar[ar.User=5]="User",ar))();class Du{constructor(e,t=200,r="OK"){this.headers=e.headers||new zs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class wy extends Du{constructor(e={}){super(e),this.type=ar.ResponseHeader}clone(e={}){return new wy({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class qp extends Du{constructor(e={}){super(e),this.type=ar.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new qp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class CE extends Du{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Sh(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let bE=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let u;if(t instanceof Th)u=t;else{let _,C;_=o.headers instanceof zs?o.headers:new zs(o.headers),o.params&&(C=o.params instanceof qs?o.params:new qs({fromObject:o.params})),u=new Th(t,r,void 0!==o.body?o.body:null,{headers:_,context:o.context,params:C,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const l=vt(u).pipe(wu(_=>this.handler.handle(_)));if(t instanceof Th||"events"===o.observe)return l;const m=l.pipe(Gs(_=>_ instanceof qp));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,xt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return m.pipe((0,xt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return m.pipe((0,xt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return m.pipe((0,xt.U)(_=>_.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new qs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,Sh(o,r))}post(t,r,o={}){return this.request("POST",t,Sh(o,r))}put(t,r,o={}){return this.request("PUT",t,Sh(o,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(cd))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Iy(n,e){return e(n)}function jD(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const $S=new h.OlP("HTTP_INTERCEPTORS"),Ah=new h.OlP("HTTP_INTERCEPTOR_FNS");function Mh(){let n=null;return(e,t)=>(null===n&&(n=((0,h.f3M)($S,{optional:!0})??[]).reduceRight(jD,Iy)),n(e,t))}let SE=(()=>{class n extends cd{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Ah)));this.chain=r.reduceRight((o,u)=>function TE(n,e,t){return(r,o)=>t.runInContext(()=>e(r,u=>n(u,o)))}(o,u,this.injector),Iy)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(EE),h.LFG(h.lqb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const GD=/^\)\]\}',?\n/;let dd=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Bn.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((Z,ne)=>o.setRequestHeader(Z,ne.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Z=t.detectContentTypeHeader();null!==Z&&o.setRequestHeader("Content-Type",Z)}if(t.responseType){const Z=t.responseType.toLowerCase();o.responseType="json"!==Z?Z:"text"}const u=t.serializeBody();let l=null;const m=()=>{if(null!==l)return l;const Z=o.statusText||"OK",ne=new zs(o.getAllResponseHeaders()),Ae=function by(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new wy({headers:ne,status:o.status,statusText:Z,url:Ae}),l},_=()=>{let{headers:Z,status:ne,statusText:Ae,url:je}=m(),ht=null;204!==ne&&(ht=typeof o.response>"u"?o.responseText:o.response),0===ne&&(ne=ht?200:0);let Lt=ne>=200&&ne<300;if("json"===t.responseType&&"string"==typeof ht){const Ot=ht;ht=ht.replace(GD,"");try{ht=""!==ht?JSON.parse(ht):null}catch(Qt){ht=Ot,Lt&&(Lt=!1,ht={error:Qt,text:ht})}}Lt?(r.next(new qp({body:ht,headers:Z,status:ne,statusText:Ae,url:je||void 0})),r.complete()):r.error(new CE({error:ht,headers:Z,status:ne,statusText:Ae,url:je||void 0}))},C=Z=>{const{url:ne}=m(),Ae=new CE({error:Z,status:o.status||0,statusText:o.statusText||"Unknown Error",url:ne||void 0});r.error(Ae)};let S=!1;const N=Z=>{S||(r.next(m()),S=!0);let ne={type:ar.DownloadProgress,loaded:Z.loaded};Z.lengthComputable&&(ne.total=Z.total),"text"===t.responseType&&o.responseText&&(ne.partialText=o.responseText),r.next(ne)},B=Z=>{let ne={type:ar.UploadProgress,loaded:Z.loaded};Z.lengthComputable&&(ne.total=Z.total),r.next(ne)};return o.addEventListener("load",_),o.addEventListener("error",C),o.addEventListener("timeout",C),o.addEventListener("abort",C),t.reportProgress&&(o.addEventListener("progress",N),null!==u&&o.upload&&o.upload.addEventListener("progress",B)),o.send(u),r.next({type:ar.Sent}),()=>{o.removeEventListener("error",C),o.removeEventListener("abort",C),o.removeEventListener("load",_),o.removeEventListener("timeout",C),t.reportProgress&&(o.removeEventListener("progress",N),null!==u&&o.upload&&o.upload.removeEventListener("progress",B)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(so))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ty=new h.OlP("XSRF_ENABLED"),xE=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),RE=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class NE{}let WD=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fi(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oe),h.LFG(h.Lbi),h.LFG(xE))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function hd(n,e){const t=n.url.toLowerCase();if(!(0,h.f3M)(Ty)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,h.f3M)(NE).getToken(),o=(0,h.f3M)(RE);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var ur=(()=>((ur=ur||{})[ur.Interceptors=0]="Interceptors",ur[ur.LegacyInterceptors=1]="LegacyInterceptors",ur[ur.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ur[ur.NoXsrfProtection=3]="NoXsrfProtection",ur[ur.JsonpSupport=4]="JsonpSupport",ur[ur.RequestsMadeViaParent=5]="RequestsMadeViaParent",ur))();function fd(n,e){return{\u0275kind:n,\u0275providers:e}}function qS(...n){const e=[bE,dd,SE,{provide:cd,useExisting:SE},{provide:EE,useExisting:dd},{provide:Ah,useValue:hd,multi:!0},{provide:Ty,useValue:!0},{provide:NE,useClass:WD}];for(const t of n)e.push(...t.\u0275providers);return(0,h.MR2)(e)}const Sy=new h.OlP("LEGACY_INTERCEPTOR_FN");let QD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[qS(fd(ur.LegacyInterceptors,[{provide:Sy,useFactory:Mh},{provide:Ah,useExisting:Sy,multi:!0}]))]}),n})();var bu=k(2011),Tu=k(3069),Kp=k(259);var dt,et=k(5861),Do=k(9681),Zp=k(4859),ts=k(1877),Si=k(2090),My=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ws={},kE=kE||{},kt=My||self;function xy(){}function Yp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function pd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ry="closure_uid_"+(1e9*Math.random()>>>0),gd=0;function iC(n,e,t){return n.call.apply(n.bind,arguments)}function FE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Dr(n,e,t){return(Dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?iC:FE).apply(null,arguments)}function Qp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Vr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,o,u){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return e.prototype[o].apply(r,l)}}function Su(){this.s=this.s,this.o=this.o}Su.prototype.s=!1,Su.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function rA(n){Object.prototype.hasOwnProperty.call(n,Ry)&&n[Ry]||(n[Ry]=++gd)}(this)},Su.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const LE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Ny(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function VE(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Yp(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let l=0;l<u;l++)n[o+l]=r[l]}else n.push(r)}}function Yr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Yr.prototype.h=function(){this.defaultPrevented=!0};var oC=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kt.addEventListener("test",xy,e),kt.removeEventListener("test",xy,e)}catch{}return n}();function Nh(n){return/^[\s\xa0]*$/.test(n)}var Oy=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Oh(n,e){return n<e?-1:n>e?1:0}function Py(){var n=kt.navigator;return n&&(n=n.userAgent)?n:""}function Ts(n){return-1!=Py().indexOf(n)}function ky(n){return ky[" "](n),n}ky[" "]=xy;var Ca,n,md=Ts("Opera"),Oc=Ts("Trident")||Ts("MSIE"),UE=Ts("Edge"),Jp=UE||Oc,BE=Ts("Gecko")&&!(-1!=Py().toLowerCase().indexOf("webkit")&&!Ts("Edge"))&&!(Ts("Trident")||Ts("MSIE"))&&!Ts("Edge"),aC=-1!=Py().toLowerCase().indexOf("webkit")&&!Ts("Edge");function Ph(){var n=kt.document;return n?n.documentMode:void 0}e:{var kh="",Pc=(n=Py(),BE?/rv:([^\);]+)(\)|;)/.exec(n):UE?/Edge\/([\d\.]+)/.exec(n):Oc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):aC?/WebKit\/(\S+)/.exec(n):md?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Pc&&(kh=Pc?Pc[1]:""),Oc){var Fh=Ph();if(null!=Fh&&Fh>parseFloat(kh)){Ca=String(Fh);break e}}Ca=kh}var Xp={};var Fy=kt.document&&Oc&&(Ph()||parseInt(Ca,10))||void 0;function yd(n,e){if(Yr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(BE){e:{try{ky(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ly[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&yd.X.h.call(this)}}Vr(yd,Yr);var Ly={2:"touch",3:"pen",4:"mouse"};yd.prototype.h=function(){yd.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Vh="closure_listenable_"+(1e6*Math.random()|0),uC=0;function $E(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++uC,this.ba=this.ea=!1}function tg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function ng(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Vy(n){const e={};for(const t in n)e[t]=n[t];return e}const HE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function GE(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<HE.length;u++)t=HE[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function di(n){this.src=n,this.g={},this.h=0}function Uy(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=LE(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(tg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function By(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return o}return-1}di.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=By(n,e,r,o);return-1<l?(e=n[l],t||(e.ea=!1)):((e=new $E(e,this.src,u,!!r,o)).ea=t,n.push(e)),e};var zE="closure_lm_"+(1e6*Math.random()|0),Uh={};function jy(n,e,t,r,o){if(r&&r.once)return WE(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)jy(n,e[u],t,r,o);return null}return t=Wy(t),n&&n[Vh]?n.N(e,t,pd(r)?!!r.capture:!!r,o):qE(n,e,t,!1,r,o)}function qE(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var l=pd(o)?!!o.capture:!!o,m=zy(n);if(m||(n[zE]=m=new di(n)),(t=m.add(e,t,r,l,u)).proxy)return t;if(r=function cC(){const e=Gy;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)oC||(o=l),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(KE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function WE(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)WE(n,e[u],t,r,o);return null}return t=Wy(t),n&&n[Vh]?n.O(e,t,pd(r)?!!r.capture:!!r,o):qE(n,e,t,!0,r,o)}function $y(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)$y(n,e[u],t,r,o);else r=pd(r)?!!r.capture:!!r,t=Wy(t),n&&n[Vh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=By(u=n.g[e],t,r,o))&&(tg(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=zy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=By(e,t,r,o)),(t=-1<n?e[n]:null)&&Hy(t))}function Hy(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Vh])Uy(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(KE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=zy(e))?(Uy(t,n),0==t.h&&(t.src=null,e[zE]=null)):tg(n)}}}function KE(n){return n in Uh?Uh[n]:Uh[n]="on"+n}function Gy(n,e){if(n.ba)n=!0;else{e=new yd(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Hy(n),n=t.call(r,e)}return n}function zy(n){return(n=n[zE])instanceof di?n:null}var qy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wy(n){return"function"==typeof n?n:(n[qy]||(n[qy]=function(e){return n.handleEvent(e)}),n[qy])}function Ur(){Su.call(this),this.i=new di(this),this.P=this,this.I=null}function Qr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Yr(e,n);else if(e instanceof Yr)e.target=e.target||n;else{var o=e;GE(e=new Yr(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];o=ns(l,r,!0,e)&&o}if(o=ns(l=e.g=n,r,!0,e)&&o,o=ns(l,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=ns(l=e.g=t[u],r,!1,e)&&o}function ns(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.ba&&l.capture==t){var m=l.listener,_=l.ha||l.src;l.ea&&Uy(n.i,l),o=!1!==m.call(_,r)&&o}}return o&&!r.defaultPrevented}Vr(Ur,Su),Ur.prototype[Vh]=!0,Ur.prototype.removeEventListener=function(n,e,t,r){$y(this,n,e,t,r)},Ur.prototype.M=function(){if(Ur.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)tg(t[r]);delete n.g[e],n.h--}}this.I=null},Ur.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ur.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Bh=kt.JSON.stringify;function lC(){var n=$h;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var jh,Ky=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new hC,n=>n.reset());class hC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fC(n){kt.setTimeout(()=>{throw n},0)}function ZE(n,e){jh||function pC(){var n=kt.Promise.resolve(void 0);jh=function(){n.then(rg)}}(),Zy||(jh(),Zy=!0),$h.add(n,e)}var Zy=!1,$h=new class dC{constructor(){this.h=this.g=null}add(e,t){const r=Ky.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function rg(){for(var n;n=lC();){try{n.h.call(n.g)}catch(t){fC(t)}var e=Ky;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Zy=!1}function kc(n,e){Ur.call(this),this.h=n||1,this.g=e||kt,this.j=Dr(this.lb,this),this.l=Date.now()}function YE(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Hh(n,e,t){if("function"==typeof n)t&&(n=Dr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Dr(n.handleEvent,n)}return 2147483647<Number(e)?-1:kt.setTimeout(n,e||0)}function gC(n){n.g=Hh(()=>{n.g=null,n.i&&(n.i=!1,gC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vr(kc,Ur),(dt=kc.prototype).ca=!1,dt.R=null,dt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Qr(this,"tick"),this.ca&&(YE(this),this.start()))}},dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){kc.X.M.call(this),YE(this),delete this.g};class QE extends Su{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gC(this)}M(){super.M(),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vd(n){Su.call(this),this.h=n,this.g={}}Vr(vd,Su);var Yy=[];function Qy(n,e,t,r){Array.isArray(t)||(t&&(Yy[0]=t.toString()),t=Yy);for(var o=0;o<t.length;o++){var u=jy(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function ig(n){ng(n.g,function(e,t){this.g.hasOwnProperty(t)&&Hy(e)},n),n.g={}}function Ss(){this.g=!0}function Co(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function JE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<o.length;l++)o[l]=""}}}return Bh(t)}catch{return e}}(n,t)+(r?" "+r:"")})}vd.prototype.M=function(){vd.X.M.call(this),ig(this)},vd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ss.prototype.Aa=function(){this.g=!1},Ss.prototype.info=function(){};var Au={},XE=null;function ag(){return XE=XE||new Ur}function _d(n){Yr.call(this,Au.Pa,n)}function Gh(n){const e=ag();Qr(e,new _d(e))}function yC(n,e){Yr.call(this,Au.STAT_EVENT,n),this.stat=e}function Ai(n){const e=ag();Qr(e,new yC(e,n))}function e0(n,e){Yr.call(this,Au.Qa,n),this.size=e}function zh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kt.setTimeout(function(){n()},e)}Au.Pa="serverreachability",Vr(_d,Yr),Au.STAT_EVENT="statevent",Vr(yC,Yr),Au.Qa="timingevent",Vr(e0,Yr);var ug={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},t0={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Jy(){}function Xy(){}Jy.prototype.h=null;var tv,Fc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ev(){Yr.call(this,"d")}function qh(){Yr.call(this,"c")}function cg(){}function Wh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new vd(this),this.O=vC,this.T=new kc(n=Jp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new r0}function r0(){this.i=null,this.g="",this.h=!1}Vr(ev,Yr),Vr(qh,Yr),Vr(cg,Jy),cg.prototype.g=function(){return new XMLHttpRequest},cg.prototype.i=function(){return{}},tv=new cg;var vC=45e3,nv={},lg={};function dg(n,e,t){n.K=1,n.v=Aa(Ks(e)),n.s=t,n.P=!0,rv(n,null)}function rv(n,e){n.F=Date.now(),hg(n),n.A=Ks(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),av(t.i,"t",r),n.C=0,t=n.l.H,n.h=new r0,n.g=C0(n.l,t?e:null,!n.s),0<n.N&&(n.L=new QE(Dr(n.La,n,n.g),n.N)),Qy(n.S,n.g,"readystatechange",n.ib),e=n.H?Vy(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Gh(),function sg(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var l="",m=u.split("&"),_=0;_<m.length;_++){var C=m[_].split("=");if(1<C.length){var S=C[0];C=C[1];var N=S.split("_");l=2<=N.length&&"type"==N[1]?l+(S+"=")+C+"&":l+(S+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.U,n.s)}function s0(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function _C(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=o0(n,t),o==lg){4==e&&(n.o=4,Ai(14),r=!1),Co(n.j,n.m,null,"[Incomplete Response]");break}if(o==nv){n.o=4,Ai(15),Co(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Co(n.j,n.m,o,null),iv(n,o)}s0(n)&&o!=lg&&o!=nv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ai(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),E0(e),e.K=!0,Ai(11))):(Co(n.j,n.m,t,"[Invalid Chunked Response]"),ba(n),Zh(n))}function o0(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?lg:(t=Number(e.substring(t,r)),isNaN(t)?nv:(r+=1)+t>e.length?lg:(e=e.substr(r,t),n.C=r+t,e))}function hg(n){n.V=Date.now()+n.O,Kh(n,n.O)}function Kh(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=zh(Dr(n.gb,n),e)}function fg(n){n.B&&(kt.clearTimeout(n.B),n.B=null)}function Zh(n){0==n.l.G||n.I||yv(n.l,n)}function ba(n){fg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,YE(n.T),ig(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function iv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||uv(t.h,n)))if(!n.J&&uv(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Tg(t),Zs(t)}_0(t),Ai(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=zh(Dr(t.cb,t),6e3));if(1>=mg(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Mn(t,11)}else if((n.J||t.g==n)&&Tg(t),!Nh(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.T=C[0],C=C[1],2==t.G)if("c"==C[0]){t.I=C[1],t.ka=C[2];const S=C[3];null!=S&&(t.ma=S,t.j.info("VER="+t.ma));const N=C[4];null!=N&&(t.Ca=N,t.j.info("SVER="+t.Ca));const B=C[5];null!=B&&"number"==typeof B&&0<B&&(t.J=r=1.5*B,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Z=n.g;if(Z){const ne=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ne){var u=r.h;u.g||-1==ne.indexOf("spdy")&&-1==ne.indexOf("quic")&&-1==ne.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Dd(u,u.h),u.h=null))}if(r.D){const Ae=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;Ae&&(r.za=Ae,pn(r.F,r.D,Ae))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var l=n;if((r=t).sa=D0(r,r.H?r.ka:null,r.V),l.J){Qh(r.h,l);var m=l,_=r.J;_&&m.setTimeout(_),m.B&&(fg(m),hg(m)),r.g=l}else bg(r);0<t.i.length&&Cg(t)}else"stop"!=C[0]&&"close"!=C[0]||Mn(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Mn(t,7):Td(t):"noop"!=C[0]&&t.l&&t.l.wa(C),t.A=0)}Gh()}catch{}}function Jr(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Yp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Yh(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Yp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function bo(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Yp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(dt=Wh.prototype).setTimeout=function(n){this.O=n},dt.ib=function(n){n=n.target;const e=this.L;e&&3==Ao(n)?e.l():this.La(n)},dt.La=function(n){try{if(n==this.g)e:{const S=Ao(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>S)&&(3!=S||Jp||this.g&&(this.h.h||this.g.fa()||fv(this.g)))){this.I||4!=S||7==e||Gh(),fg(this);var t=this.g.aa();this.Y=t;t:if(s0(this)){var r=fv(this.g);n="";var o=r.length,u=4==Ao(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ba(this),Zh(this);var l="";break t}this.h.i=new kt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==t,function og(n,e,t,r,o,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.U,S,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,_=this.g;if((m=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nh(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Ai(12),ba(this),Zh(this);break e}Co(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,iv(this,t)}this.P?(_C(this,S,l),Jp&&this.i&&3==S&&(Qy(this.S,this.T,"tick",this.hb),this.T.start())):(Co(this.j,this.m,l,null),iv(this,l)),4==S&&ba(this),this.i&&!this.I&&(4==S?yv(this.l,this):(this.i=!1,hg(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ai(12)):(this.o=0,Ai(13)),ba(this),Zh(this)}}}catch{}},dt.hb=function(){if(this.g){var n=Ao(this.g),e=this.g.fa();this.C<e.length&&(fg(this),_C(this,n,e),this.i&&4!=n&&hg(this))}},dt.cancel=function(){this.I=!0,ba(this)},dt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function mC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Gh(),Ai(17)),ba(this),this.o=2,Zh(this)):Kh(this,this.V-n)};var Mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Br(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Br){this.h=void 0!==e?e:n.h,Ta(this,n.j),this.s=n.s,this.g=n.g,Sa(this,n.m),this.l=n.l,e=n.i;var t=new wd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Lc(this,t),this.o=n.o}else n&&(t=String(n).match(Mu))?(this.h=!!e,Ta(this,t[1]||"",!0),this.s=To(t[2]||""),this.g=To(t[3]||"",!0),Sa(this,t[4]),this.l=To(t[5]||"",!0),Lc(this,t[6]||"",!0),this.o=To(t[7]||"")):(this.h=!!e,this.i=new wd(null,this.h))}function Ks(n){return new Br(n)}function Ta(n,e,t){n.j=t?To(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Sa(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Lc(n,e,t){e instanceof wd?(n.i=e,function EC(n,e){e&&!n.j&&(Ma(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(sv(this,r),av(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=So(e,c0)),n.i=new wd(e,n.h))}function pn(n,e,t){n.i.set(e,t)}function Aa(n){return pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function To(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function So(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Ed),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Ed(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Br.prototype.toString=function(){var n=[],e=this.j;e&&n.push(So(e,Vc,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(So(e,Vc,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(So(t,"/"==t.charAt(0)?u0:a0,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",So(t,l0)),n.join("")};var Vc=/[#\/\?@]/g,a0=/[#\?:]/g,u0=/[#\?]/g,c0=/[#\?@]/g,l0=/#/g;function wd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ma(n){n.g||(n.g=new Map,n.h=0,n.i&&function pg(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sv(n,e){Ma(n),e=Id(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function ov(n,e){return Ma(n),e=Id(n,e),n.g.has(e)}function av(n,e,t){sv(n,e),0<t.length&&(n.i=null,n.g.set(Id(n,e),Ny(t)),n.h+=t.length)}function Id(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function h0(n){this.l=n||wC,n=kt.PerformanceNavigationTiming?0<(n=kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kt.g&&kt.g.Ga&&kt.g.Ga()&&kt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=wd.prototype).add=function(n,e){Ma(this),this.i=null,n=Id(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){Ma(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},dt.oa=function(){Ma(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},dt.W=function(n){Ma(this);let e=[];if("string"==typeof n)ov(this,n)&&(e=e.concat(this.g.get(Id(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},dt.set=function(n,e){return Ma(this),this.i=null,ov(this,n=Id(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.W(r);for(r=0;r<l.length;r++){var o=u;""!==l[r]&&(o+="="+encodeURIComponent(String(l[r]))),n.push(o)}}return this.i=n.join("&")};var wC=10;function gg(n){return!!n.h||!!n.g&&n.g.size>=n.j}function mg(n){return n.h?1:n.g?n.g.size:0}function uv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Dd(n,e){n.g?n.g.add(e):n.h=e}function Qh(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function yg(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ny(n.i)}function cv(){}function vg(){this.g=new cv}function _g(n,e,t){const r=t||"";try{Jr(n,function(o,u){let l=o;pd(o)&&(l=Bh(o)),e.push(r+u+"="+encodeURIComponent(l))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Jh(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Uc(n){this.l=n.ac||null,this.j=n.jb||!1}function Xh(n,e){Ur.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Eg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}h0.prototype.cancel=function(){if(this.i=yg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},cv.prototype.stringify=function(n){return kt.JSON.stringify(n,void 0)},cv.prototype.parse=function(n){return kt.JSON.parse(n,void 0)},Vr(Uc,Jy),Uc.prototype.g=function(){return new Xh(this.l,this.j)},Uc.prototype.i=function(n){return function(){return n}}({}),Vr(Xh,Ur);var Eg=0;function wg(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Cd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ef(n)}function ef(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=Xh.prototype).open=function(n,e){if(this.readyState!=Eg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ef(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||kt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cd(this)),this.readyState=Eg},dt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ef(this)),this.g&&(this.readyState=3,ef(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof kt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wg(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},dt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Cd(this):ef(this),3==this.readyState&&wg(this)}},dt.Va=function(n){this.g&&(this.response=this.responseText=n,Cd(this))},dt.Ua=function(n){this.g&&(this.response=n,Cd(this))},dt.ga=function(){this.g&&Cd(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Xh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var p0=kt.JSON.parse;function jn(n){Ur.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lv,this.K=this.L=!1}Vr(jn,Ur);var lv="",g0=/^https?$/i,IC=["POST","PUT"];function m0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,dv(n),tf(n)}function dv(n){n.D||(n.D=!0,Qr(n,"complete"),Qr(n,"error"))}function Ig(n){if(n.h&&typeof kE<"u"&&(!n.C[1]||4!=Ao(n)||2!=n.aa()))if(n.v&&4==Ao(n))Hh(n.Ha,0,n);else if(Qr(n,"readystatechange"),4==Ao(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(Mu)[1]||null;if(!o&&kt.self&&kt.self.location){var u=kt.self.location.protocol;o=u.substr(0,u.length-1)}r=!g0.test(o?o.toLowerCase():"")}t=r}if(t)Qr(n,"complete"),Qr(n,"success");else{n.m=6;try{var l=2<Ao(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.aa()+"]",dv(n)}}finally{tf(n)}}}function tf(n,e){if(n.g){hv(n);const t=n.g,r=n.C[0]?xy:null;n.g=null,n.C=null,e||Qr(n,"ready");try{t.onreadystatechange=r}catch{}}}function hv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(kt.clearTimeout(n.A),n.A=null)}function Ao(n){return n.g?n.g.readyState:0}function fv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case lv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function pv(n){let e="";return ng(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Dg(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=pv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):pn(n,e,t))}function bd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function gv(n){this.Ca=0,this.i=[],this.j=new Ss,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=bd("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=bd("baseRetryDelayMs",5e3,n),this.bb=bd("retryDelaySeedMs",1e4,n),this.$a=bd("forwardChannelMaxRetries",2,n),this.ta=bd("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new h0(n&&n.concurrentRequestLimit),this.Fa=new vg,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Td(n){if(y0(n),3==n.G){var e=n.U++,t=Ks(n.F);pn(t,"SID",n.I),pn(t,"RID",e),pn(t,"TYPE","terminate"),Bc(n,t),(e=new Wh(n,n.j,e,void 0)).K=2,e.v=Aa(Ks(t)),t=!1,kt.navigator&&kt.navigator.sendBeacon&&(t=kt.navigator.sendBeacon(e.v.toString(),"")),!t&&kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=C0(e.l,null),e.g.da(e.v)),e.F=Date.now(),hg(e)}vv(n)}function Zs(n){n.g&&(E0(n),n.g.cancel(),n.g=null)}function y0(n){Zs(n),n.u&&(kt.clearTimeout(n.u),n.u=null),Tg(n),n.h.cancel(),n.m&&("number"==typeof n.m&&kt.clearTimeout(n.m),n.m=null)}function Cg(n){gg(n.h)||n.m||(n.m=!0,ZE(n.Ja,n),n.C=0)}function xu(n,e){var t;t=e?e.m:n.U++;const r=Ks(n.F);pn(r,"SID",n.I),pn(r,"RID",t),pn(r,"AID",n.T),Bc(n,r),n.o&&n.s&&Dg(r,n.o,n.s),t=new Wh(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=v0(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Dd(n.h,t),dg(t,r,e)}function Bc(n,e){n.ia&&ng(n.ia,function(t,r){pn(e,r,t)}),n.l&&Jr({},function(t,r){pn(e,r,t)})}function v0(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Dr(n.l.Ra,n.l,n):null;e:{var o=n.i;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=o[0].h,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let _=0;_<t;_++){let C=o[_].h;const S=o[_].g;if(C-=u,0>C)u=Math.max(0,o[_].h-100),m=!1;else try{_g(S,l,"req"+C+"_")}catch{r&&r(S)}}if(m){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function bg(n){n.g||n.u||(n.Z=1,ZE(n.Ia,n),n.A=0)}function _0(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=zh(Dr(n.Ia,n),I0(n,n.A)),n.A++,0))}function E0(n){null!=n.B&&(kt.clearTimeout(n.B),n.B=null)}function w0(n){n.g=new Wh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ks(n.sa);pn(e,"RID","rpc"),pn(e,"SID",n.I),pn(e,"CI",n.L?"0":"1"),pn(e,"AID",n.T),pn(e,"TYPE","xmlhttp"),Bc(n,e),n.o&&n.s&&Dg(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Aa(Ks(e)),t.s=null,t.P=!0,rv(t,n)}function Tg(n){null!=n.v&&(kt.clearTimeout(n.v),n.v=null)}function yv(n,e){var t=null;if(n.g==e){Tg(n),E0(n),n.g=null;var r=2}else{if(!uv(n.h,e))return;t=e.D,Qh(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Qr(r=ag(),new e0(r,t)),Cg(n)}else bg(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function mv(n,e){return!(mg(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=zh(Dr(n.Ja,n,e),I0(n,n.C)),n.C++,0)))}(n,e)||2==r&&_0(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:Mn(n,5);break;case 4:Mn(n,10);break;case 3:Mn(n,6);break;default:Mn(n,2)}}function I0(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Mn(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Dr(n.kb,n);t||(t=new Br("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||Ta(t,"https"),Aa(t)),function f0(n,e){const t=new Ss;if(kt.Image){const r=new Image;r.onload=Qp(Jh,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Qp(Jh,t,r,"TestLoadImage: error",!1,e),r.onabort=Qp(Jh,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Qp(Jh,t,r,"TestLoadImage: timeout",!1,e),kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ai(2);n.G=0,n.l&&n.l.va(e),vv(n),y0(n)}function vv(n){if(n.G=0,n.la=[],n.l){const e=yg(n.h);(0!=e.length||0!=n.i.length)&&(VE(n.la,e),VE(n.la,n.i),n.h.i.length=0,Ny(n.i),n.i.length=0),n.l.ua()}}function D0(n,e,t){var r=t instanceof Br?Ks(t):new Br(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Sa(r,r.m);else{var o=kt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Br(null,void 0);r&&Ta(u,r),e&&(u.g=e),o&&Sa(u,o),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&pn(r,t,e),pn(r,"VER",n.ma),Bc(n,r),r}function C0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jn(t&&n.Da&&!n.ra?new Uc({jb:!0}):n.ra)).Ka(n.H),e}function _v(){}function Sg(){if(Oc&&!(10<=Number(Fy)))throw Error("Environmental error: no available transport.")}function Hi(n,e){Ur.call(this),this.g=new gv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Nh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Sd(this)}function Ev(n){ev.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function jc(){qh.call(this),this.status=1}function Sd(n){this.g=n}(dt=jn.prototype).Ka=function(n){this.L=n},dt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tv.g(),this.C=function n0(n){return n.h||(n.h=n.i())}(this.u?this.u:tv),this.g.onreadystatechange=Dr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void m0(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=kt.FormData&&n instanceof kt.FormData,!(0<=LE(IC,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hv(this),0<this.B&&((this.K=function DC(n){return Oc&&function jE(){return function iA(n){var e=Xp;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Oy(String(Ca)).split("."),t=Oy("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var o=e[l]||"",u=t[l]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=Oh(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||Oh(0==o[2].length,0==u[2].length)||Oh(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dr(this.qa,this)):this.A=Hh(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){m0(this,u)}},dt.qa=function(){typeof kE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qr(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Qr(this,"complete"),Qr(this,"abort"),tf(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tf(this,!0)),jn.X.M.call(this)},dt.Ha=function(){this.s||(this.F||this.v||this.l?Ig(this):this.fb())},dt.fb=function(){Ig(this)},dt.aa=function(){try{return 2<Ao(this)?this.g.status:-1}catch{return-1}},dt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),p0(e)}},dt.Ea=function(){return this.m},dt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=gv.prototype).ma=8,dt.G=1,dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new Wh(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=Vy(u),GE(u,this.S)):u=this.S),null!==this.o||this.N||(o.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=v0(this,o,e),pn(t=Ks(this.F),"RID",n),pn(t,"CVER",22),this.D&&pn(t,"X-HTTP-Session-Id",this.D),Bc(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(pv(u)))+"&"+e:this.o&&Dg(t,this.o,u)),Dd(this.h,o),this.Ya&&pn(t,"TYPE","init"),this.O?(pn(t,"$req",e),pn(t,"SID","null"),o.Z=!0,dg(o,t,null)):dg(o,t,e),this.G=2}}else 3==this.G&&(n?xu(this,n):0==this.i.length||gg(this.h)||xu(this))},dt.Ia=function(){if(this.u=null,w0(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=zh(Dr(this.eb,this),n)}},dt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ai(10),Zs(this),w0(this))},dt.cb=function(){null!=this.v&&(this.v=null,Zs(this),_0(this),Ai(19))},dt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ai(2)):(this.j.info("Failed to ping google.com"),Ai(1))},(dt=_v.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Ra=function(){},Sg.prototype.g=function(n,e){return new Hi(n,e)},Vr(Hi,Ur),Hi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ai(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=D0(n,null,n.V),Cg(n)},Hi.prototype.close=function(){Td(this.g)},Hi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Bh(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Cg(e)},Hi.prototype.M=function(){this.g.l=null,delete this.j,Td(this.g),delete this.g,Hi.X.M.call(this)},Vr(Ev,ev),Vr(jc,qh),Vr(Sd,_v),Sd.prototype.xa=function(){Qr(this.g,"a")},Sd.prototype.wa=function(n){Qr(this.g,new Ev(n))},Sd.prototype.va=function(n){Qr(this.g,new jc)},Sd.prototype.ua=function(){Qr(this.g,"b")},Sg.prototype.createWebChannel=Sg.prototype.g,Hi.prototype.send=Hi.prototype.u,Hi.prototype.open=Hi.prototype.m,Hi.prototype.close=Hi.prototype.close,ug.NO_ERROR=0,ug.TIMEOUT=8,ug.HTTP_ERROR=6,t0.COMPLETE="complete",Xy.EventType=Fc,Fc.OPEN="a",Fc.CLOSE="b",Fc.ERROR="c",Fc.MESSAGE="d",Ur.prototype.listen=Ur.prototype.N,jn.prototype.listenOnce=jn.prototype.O,jn.prototype.getLastError=jn.prototype.Oa,jn.prototype.getLastErrorCode=jn.prototype.Ea,jn.prototype.getStatus=jn.prototype.aa,jn.prototype.getResponseJson=jn.prototype.Sa,jn.prototype.getResponseText=jn.prototype.fa,jn.prototype.send=jn.prototype.da,jn.prototype.setWithCredentials=jn.prototype.Ka;var CC=Ws.createWebChannelTransport=function(){return new Sg},b0=Ws.getStatEventTarget=function(){return ag()},wv=Ws.ErrorCode=ug,T0=Ws.EventType=t0,sA=Ws.Event=Au,Iv=Ws.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Dv=Ws.FetchXmlHttpFactory=Uc,rs=Ws.WebChannel=Xy,bC=Ws.XhrIo=jn;const S0="@firebase/firestore";class En{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");let hi="9.20.0";const jr=new ts.Yd("@firebase/firestore");function Ag(){return jr.logLevel}function xe(n,...e){if(jr.logLevel<=ts.in.DEBUG){const t=e.map(Cv);jr.debug(`Firestore (${hi}): ${n}`,...t)}}function cr(n,...e){if(jr.logLevel<=ts.in.ERROR){const t=e.map(Cv);jr.error(`Firestore (${hi}): ${n}`,...t)}}function xa(n,...e){if(jr.logLevel<=ts.in.WARN){const t=e.map(Cv);jr.warn(`Firestore (${hi}): ${n}`,...t)}}function Cv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${hi}) INTERNAL ASSERTION FAILED: `+n;throw cr(e),new Error(e)}function at(n,e){n||rt()}function Ke(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Si.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(En.UNAUTHENTICATED))}shutdown(){}}class A0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class M0{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let l=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new pr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const C=l;e.enqueueRetryable((0,et.Z)(function*(){yield C.promise,yield u(r.currentUser)}))},_=C=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>_(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?_(C):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new pr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at("string"==typeof r.accessToken),new nf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return at(null===e||"string"==typeof e),new En(e)}}class bv{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=En.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Mg{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new bv(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x0{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at("string"==typeof t.token),this.T=t.token,new Tv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function R0(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Sv{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=R0(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Nt(n,e){return n<e?-1:n>e?1:0}function $c(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}class $n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Te(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $n.fromMillis(Date.now())}static fromDate(e){return $n.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new $n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new $n(0,0))}static max(){return new _t(new $n(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rf{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===rf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),l=t.get(o);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class en extends rf{construct(e,t,r){return new en(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new en(t)}static emptyPath(){return new en([])}}const MC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends rf{construct(e,t,r){return new lr(e,t,r)}static isValidIdentifier(e){return MC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Te(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Te(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Te(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else"`"===m?(l=!l,o++):"."!==m||l?(r+=m,o++):(u(),o++)}if(u(),l)throw new Te(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lr(t)}static emptyPath(){return new lr([])}}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(en.fromString(e))}static fromName(e){return new Ze(en.fromString(e).popFirst(5))}static empty(){return new Ze(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new en(e.slice()))}}function O0(n){return new is(n.readTime,n.key,-1)}class is{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new is(_t.min(),Ze.empty(),-1)}static max(){return new is(_t.max(),Ze.empty(),-1)}}function xv(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:Nt(n.largestBatchId,e.largestBatchId))}const Rv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ra(n){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,et.Z)(function*(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==Rv)throw n;xe("LocalStore","Unexpectedly lost primary lease")}),Ng.apply(this,arguments)}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let o=0,u=0,l=!1;e.forEach(m=>{++o,m.next(()=>{++u,l&&u===o&&t()},_=>r(_))}),l=!0,u===o&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(o=>o?X.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new X((r,o)=>{const u=e.length,l=new Array(u);let m=0;for(let _=0;_<u;_++){const C=_;t(e[C]).next(S=>{l[C]=S,++m,m===u&&r(l)},S=>o(S))}})}static doWhile(e,t){return new X((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}function Na(n){return"IndexedDbTransactionError"===n.name}let Mi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Og(n){return null==n}function xd(n){return 0===n&&1/n==-1/0}function Y0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ys(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Rd(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Yn{constructor(e,t){this.comparator=e,this.root=t||Xr.EMPTY}insert(e,t){return new Yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new Yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lg(this.root,e,this.comparator,!0)}}class Lg{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xr{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Xr.RED,this.left=o??Xr.EMPTY,this.right=u??Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Xr(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Xr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1,Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Xr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gn{constructor(e){this.comparator=e,this.data=new Yn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gn(this.comparator);return t.data=e,t}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zi{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new zi([])}unionWith(e){let t=new gn(lr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new zi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $c(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Q0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Q0("Invalid base64 string: "+o):o}}(e);return new br(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const lA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zc(n){if(at(!!n),"string"==typeof n){let e=0;const t=lA.exec(n);if(at(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dr(n.seconds),nanos:dr(n.nanos)}}function dr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Nd(n){return"string"==typeof n?br.fromBase64String(n):br.fromUint8Array(n)}function Vg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function lf(n){const e=n.mapValue.fields.__previous_value__;return Vg(e)?lf(e):e}function df(n){const e=zc(n.mapValue.fields.__local_write_time__.timestampValue);return new $n(e.seconds,e.nanos)}class LC{constructor(e,t,r,o,u,l,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.useFetchStreams=_}}class Ru{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ru("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}const Ms={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vg(n)?4:Lv(n)?9007199254740991:10:rt()}function xo(n,e){if(n===e)return!0;const t=qc(n);if(t!==qc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return df(n).isEqual(df(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=zc(r.timestampValue),l=zc(o.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Nd(n.bytesValue).isEqual(Nd(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return dr(r.geoPointValue.latitude)===dr(o.geoPointValue.latitude)&&dr(r.geoPointValue.longitude)===dr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return dr(r.integerValue)===dr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=dr(r.doubleValue),l=dr(o.doubleValue);return u===l?xd(u)===xd(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return $c(n.arrayValue.values||[],e.arrayValue.values||[],xo);case 10:return function(r,o){const u=r.mapValue.fields||{},l=o.mapValue.fields||{};if(Y0(u)!==Y0(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!xo(u[m],l[m])))return!1;return!0}(n,e);default:return rt()}var o}function hf(n,e){return void 0!==(n.values||[]).find(t=>xo(t,e))}function Wc(n,e){if(n===e)return 0;const t=qc(n),r=qc(e);if(t!==r)return Nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const l=dr(o.integerValue||o.doubleValue),m=dr(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(n,e);case 3:return J0(n.timestampValue,e.timestampValue);case 4:return J0(df(n),df(e));case 5:return Nt(n.stringValue,e.stringValue);case 6:return function(o,u){const l=Nd(o),m=Nd(u);return l.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const l=o.split("/"),m=u.split("/");for(let _=0;_<l.length&&_<m.length;_++){const C=Nt(l[_],m[_]);if(0!==C)return C}return Nt(l.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const l=Nt(dr(o.latitude),dr(u.latitude));return 0!==l?l:Nt(dr(o.longitude),dr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const l=o.values||[],m=u.values||[];for(let _=0;_<l.length&&_<m.length;++_){const C=Wc(l[_],m[_]);if(C)return C}return Nt(l.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Ms.mapValue&&u===Ms.mapValue)return 0;if(o===Ms.mapValue)return 1;if(u===Ms.mapValue)return-1;const l=o.fields||{},m=Object.keys(l),_=u.fields||{},C=Object.keys(_);m.sort(),C.sort();for(let S=0;S<m.length&&S<C.length;++S){const N=Nt(m[S],C[S]);if(0!==N)return N;const B=Wc(l[m[S]],_[C[S]]);if(0!==B)return B}return Nt(m.length,C.length)}(n.mapValue,e.mapValue);default:throw rt()}}function J0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Nt(n,e);const t=zc(n),r=zc(e),o=Nt(t.seconds,r.seconds);return 0!==o?o:Nt(t.nanos,r.nanos)}function Kc(n){return kv(n)}function kv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=zc(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Nd(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const l of r.values||[])u?u=!1:o+=",",o+=kv(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of o)l?l=!1:u+=",",u+=`${m}:${kv(r.fields[m])}`;return u+"}"}(n.mapValue):rt();var e}function Zc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Yc(n){return!!n&&"integerValue"in n}function ff(n){return!!n&&"arrayValue"in n}function Fv(n){return!!n&&"nullValue"in n}function X0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pf(n){return!!n&&"mapValue"in n}function gf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ys(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=gf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Lv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Tr{constructor(e){this.value=e}static empty(){return new Tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!pf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gf(t)}setAll(e){let t=lr.emptyPath(),r={},o=[];e.forEach((l,m)=>{if(!t.isImmediateParentOf(m)){const _=this.getFieldsMap(t);this.applyChanges(_,r,o),r={},o=[],t=m.popLast()}l?r[m.lastSegment()]=gf(l):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());pf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];pf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Ys(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Tr(gf(this.value))}}function tw(n){const e=[];return Ys(n.fields,(t,r)=>{const o=new lr([t]);if(pf(r)){const u=tw(r.mapValue).fields;if(0===u.length)e.push(o);else for(const l of u)e.push(o.child(l))}else e.push(o)}),new zi(e)}class xn{constructor(e,t,r,o,u,l,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=l,this.documentState=m}static newInvalidDocument(e){return new xn(e,0,_t.min(),_t.min(),_t.min(),Tr.empty(),0)}static newFoundDocument(e,t,r,o){return new xn(e,1,t,_t.min(),r,o,0)}static newNoDocument(e,t){return new xn(e,2,t,_t.min(),_t.min(),Tr.empty(),0)}static newUnknownDocument(e,t){return new xn(e,3,t,_t.min(),_t.min(),Tr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nu{constructor(e,t){this.position=e,this.inclusive=t}}function Bg(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],l=n.position[o];if(r=u.field.isKeyField()?Ze.comparator(Ze.fromName(l.referenceValue),t.key):Wc(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function nw(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xo(n.position[t],e.position[t]))return!1;return!0}class Qc{constructor(e,t="asc"){this.field=e,this.dir=t}}function UC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class rw{}class Xt extends rw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new aw(e,t,r):"array-contains"===t?new Hv(e,r):"in"===t?new $g(e,r):"not-in"===t?new cw(e,r):"array-contains-any"===t?new Gv(e,r):new Xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new BC(e,r):new jC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Wc(t,this.value)):null!==t&&qc(this.value)===qc(t)&&this.matchesComparison(Wc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class mn extends rw{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new mn(e,t)}matches(e){return Od(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Od(n){return"and"===n.op}function jv(n){return function iw(n){for(const e of n.filters)if(e instanceof mn)return!1;return!0}(n)&&Od(n)}function jg(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+Kc(n.value);if(jv(n))return n.filters.map(e=>jg(e)).join(",");{const e=n.filters.map(t=>jg(t)).join(",");return`${n.op}(${e})`}}function $v(n,e){return n instanceof Xt?(t=n,(r=e)instanceof Xt&&t.op===r.op&&t.field.isEqual(r.field)&&xo(t.value,r.value)):n instanceof mn?function(t,r){return r instanceof mn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,l)=>o&&$v(u,r.filters[l]),!0)}(n,e):void rt();var t,r}function ow(n){return n instanceof Xt?`${(e=n).field.canonicalString()} ${e.op} ${Kc(e.value)}`:n instanceof mn?function(e){return e.op.toString()+" {"+e.getFilters().map(ow).join(" ,")+"}"}(n):"Filter";var e}class aw extends Xt{constructor(e,t,r){super(e,t,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class BC extends Xt{constructor(e,t){super(e,"in",t),this.keys=uw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jC extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=uw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class Hv extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ff(t)&&hf(t.arrayValue,this.value)}}class $g extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hf(this.value.arrayValue,t)}}class cw extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hf(this.value.arrayValue,t)}}class Gv extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ff(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hf(this.value.arrayValue,r))}}class $C{constructor(e,t=null,r=[],o=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=l,this.endAt=m,this.ft=null}}function zv(n,e=null,t=[],r=[],o=null,u=null,l=null){return new $C(n,e,t,r,o,u,l)}function Pa(n){const e=Ke(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>jg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Og(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kc(r)).join(",")),e.ft=t}return e.ft}function mf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!UC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$v(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nw(n.startAt,e.startAt)&&nw(n.endAt,e.endAt)}function yf(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ou{constructor(e,t=null,r=[],o=[],u=null,l="F",m=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=_,this.dt=null,this.wt=null}}function Pu(n){return new Ou(n)}function dw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function vf(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Hg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Gg(n){return null!==n.collectionGroup}function Fa(n){const e=Ke(n);if(null===e.dt){e.dt=[];const t=Hg(e),r=vf(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Qc(t)),e.dt.push(new Qc(lr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Qc(lr.keyField(),u))}}}return e.dt}function fi(n){const e=Ke(n);if(!e.wt)if("F"===e.limitType)e.wt=zv(e.path,e.collectionGroup,Fa(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Fa(e))t.push(new Qc(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Nu(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Nu(e.startAt.position,e.startAt.inclusive):null;e.wt=zv(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.wt}function zg(n,e){e.getFirstInequalityField(),Hg(n);const t=n.filters.concat([e]);return new Ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _f(n,e,t){return new Ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pd(n,e){return mf(fi(n),fi(e))&&n.limitType===e.limitType}function hw(n){return`${Pa(fi(n))}|lt:${n.limitType}`}function Kv(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>ow(r)).join(", ")}]`),Og(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kc(r)).join(",")),`Target(${t})`}(fi(n))}; limitType=${n.limitType})`}function Ef(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ze.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of Fa(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,l){const m=Bg(o,u,l);return o.inclusive?m<=0:m<0}(t.startAt,Fa(t),r)||t.endAt&&!function(o,u,l){const m=Bg(o,u,l);return o.inclusive?m>=0:m>0}(t.endAt,Fa(t),r)));var t,r}function Zv(n){return(e,t)=>{let r=!1;for(const o of Fa(n)){const u=dA(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function dA(n,e,t){const r=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(o,u,l){const m=u.data.field(o),_=l.data.field(o);return null!==m&&null!==_?Wc(m,_):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}class La{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return Rd(this.inner)}size(){return this.innerSize}}const HC=new Yn(Ze.comparator);function qi(){return HC}const GC=new Yn(Ze.comparator);function wf(...n){let e=GC;for(const t of n)e=e.insert(t.key,t);return e}function pw(n){let e=GC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ro(){return If()}function gw(){return If()}function If(){return new La(n=>n.toString(),(n,e)=>n.isEqual(e))}const zC=new Yn(Ze.comparator),qC=new gn(Ze.comparator);function Ut(...n){let e=qC;for(const t of n)e=e.add(t);return e}const WC=new gn(Nt);function qg(){return WC}function mw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xd(e)?"-0":e}}function yw(n){return{integerValue:""+n}}function kd(n,e){return function Ov(n){return"number"==typeof n&&Number.isInteger(n)&&!xd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?yw(e):mw(n,e)}class Df{constructor(){this._=void 0}}function vw(n,e,t){return n instanceof Jc?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Xc?Ew(n,e):n instanceof Fd?ww(n,e):function(r,o){const u=Yv(r,o),l=Iw(u)+Iw(r._t);return Yc(u)&&Yc(r._t)?yw(l):mw(r.serializer,l)}(n,e)}function _w(n,e,t){return n instanceof Xc?Ew(n,e):n instanceof Fd?ww(n,e):t}function Yv(n,e){return n instanceof Ld?Yc(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Jc extends Df{}class Xc extends Df{constructor(e){super(),this.elements=e}}function Ew(n,e){const t=Dw(e);for(const r of n.elements)t.some(o=>xo(o,r))||t.push(r);return{arrayValue:{values:t}}}class Fd extends Df{constructor(e){super(),this.elements=e}}function ww(n,e){let t=Dw(e);for(const r of n.elements)t=t.filter(o=>!xo(o,r));return{arrayValue:{values:t}}}class Ld extends Df{constructor(e,t){super(),this.serializer=e,this._t=t}}function Iw(n){return dr(n.integerValue||n.doubleValue)}function Dw(n){return ff(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class KC{constructor(e,t){this.version=e,this.transformResults=t}}class In{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function os(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Wg{}function Kg(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new el(n.key,In.none()):new Va(n.key,n.data,In.none());{const t=n.data,r=Tr.empty();let o=new gn(lr.comparator);for(let u of e.fields)if(!o.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),o=o.add(u)}return new xs(n.key,r,new zi(o.toArray()),In.none())}}function Tf(n,e,t){n instanceof Va?function(r,o,u){const l=r.value.clone(),m=Tw(r.fieldTransforms,o,u.transformResults);l.setAll(m),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof xs?function(r,o,u){if(!os(r.precondition,o))return void o.convertToUnknownDocument(u.version);const l=Tw(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(bw(r)),m.setAll(l),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Sf(n,e,t,r){return n instanceof Va?function(o,u,l,m){if(!os(o.precondition,u))return l;const _=o.value.clone(),C=Qv(o.fieldTransforms,m,u);return _.setAll(C),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof xs?function(o,u,l,m){if(!os(o.precondition,u))return l;const _=Qv(o.fieldTransforms,m,u),C=u.data;return C.setAll(bw(o)),C.setAll(_),u.convertToFoundDocument(u.version,C).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(S=>S.field))}(n,e,t,r):(l=t,os(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function ZC(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=Yv(r.transform,o||null);null!=u&&(null===t&&(t=Tr.empty()),t.set(r.field,u))}return t||null}function Cw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&$c(t,r,(o,u)=>function bf(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Xc&&r instanceof Xc||t instanceof Fd&&r instanceof Fd?$c(t.elements,r.elements,xo):t instanceof Ld&&r instanceof Ld?xo(t._t,r._t):t instanceof Jc&&r instanceof Jc);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Va extends Wg{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xs extends Wg{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Tw(n,e,t){const r=new Map;at(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],l=u.transform,m=e.data.field(u.field);r.set(u.field,_w(l,m,t[o]))}return r}function Qv(n,e,t){const r=new Map;for(const o of n){const u=o.transform,l=t.data.field(o.field);r.set(o.field,vw(u,l,e))}return r}class el extends Wg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Af extends Wg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zg{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Tf(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Sf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Sf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=gw();return this.mutations.forEach(o=>{const u=e.get(o.key),l=u.overlayedDocument;let m=this.applyToLocalView(l,u.mutatedFields);m=t.has(o.key)?null:m;const _=Kg(l,m);null!==_&&r.set(o.key,_),l.isValidDocument()||l.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ut())}isEqual(e){return this.batchId===e.batchId&&$c(this.mutations,e.mutations,(t,r)=>Cw(t,r))&&$c(this.baseMutations,e.baseMutations,(t,r)=>Cw(t,r))}}class Mf{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){at(e.mutations.length===r.length);let o=zC;const u=e.mutations;for(let l=0;l<u.length;l++)o=o.insert(u[l].key,r[l].version);return new Mf(e,t,r,o)}}class xf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class YC{constructor(e){this.count=e}}var gr,tn;function Xv(n){if(void 0===n)return cr("GRPC error has no .code"),re.UNKNOWN;switch(n){case gr.OK:return re.OK;case gr.CANCELLED:return re.CANCELLED;case gr.UNKNOWN:return re.UNKNOWN;case gr.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case gr.INTERNAL:return re.INTERNAL;case gr.UNAVAILABLE:return re.UNAVAILABLE;case gr.UNAUTHENTICATED:return re.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case gr.NOT_FOUND:return re.NOT_FOUND;case gr.ALREADY_EXISTS:return re.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return re.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case gr.ABORTED:return re.ABORTED;case gr.OUT_OF_RANGE:return re.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return re.UNIMPLEMENTED;case gr.DATA_LOSS:return re.DATA_LOSS;default:return rt()}}(tn=gr||(gr={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class Nf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Of}static getOrCreateInstance(){return null===Of&&(Of=new Nf),Of}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Of=null;class Pf{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Vd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Pf(_t.min(),o,qg(),qi(),Ut())}}class Vd{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vd(r,t,Ut(),Ut(),Ut())}}class kf{constructor(e,t,r,o){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=o}}class Mw{constructor(e,t){this.targetId=e,this.Et=t}}class e_{constructor(e,t,r=br.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class t_{constructor(){this.At=0,this.Rt=xw(),this.vt=br.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=Ut(),t=Ut(),r=Ut();return this.Rt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:rt()}}),new Vd(this.vt,this.bt,e,t,r)}xt(){this.Pt=!1,this.Rt=xw()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class QC{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=qi(),this.qt=n_(),this.Ut=new gn(Nt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const r=this.jt(t);switch(e.state){case 0:this.Wt(t)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,o)=>{this.Wt(o)&&t(o)})}Jt(e){var t;const r=e.targetId,o=e.Et.count,u=this.Yt(r);if(u){const l=u.target;if(yf(l))if(0===o){const m=new Ze(l.path);this.Qt(r,m,xn.newNoDocument(m,_t.min()))}else at(1===o);else{const m=this.Zt(r);m!==o&&(this.Ht(r),this.Ut=this.Ut.add(r),null===(t=Nf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:m,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((u,l)=>{const m=this.Yt(l);if(m){if(u.current&&yf(m.target)){const _=new Ze(m.target.path);null!==this.Lt.get(_)||this.te(l,_)||this.Qt(l,_,xn.newNoDocument(_,e))}u.St&&(t.set(l,u.Ct()),u.xt())}});let r=Ut();this.qt.forEach((u,l)=>{let m=!0;l.forEachWhile(_=>{const C=this.Yt(_);return!C||2===C.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Lt.forEach((u,l)=>l.setReadTime(e));const o=new Pf(e,t,this.Ut,this.Lt,r);return this.Lt=qi(),this.qt=n_(),this.Ut=new gn(Nt),o}Gt(e,t){if(!this.Wt(e))return;const r=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.Wt(e))return;const o=this.jt(e);this.te(e,t)?o.Nt(t,1):o.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new t_,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new gn(Nt),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||xe("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new t_),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function n_(){return new Yn(Ze.comparator)}function xw(){return new Yn(Ze.comparator)}const xi={asc:"ASCENDING",desc:"DESCENDING"},Ud={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JC={and:"AND",or:"OR"};class XC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ff(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Rw(n,e){return Ff(n,e.toTimestamp())}function Hn(n){return at(!!n),_t.fromTimestamp(function(e){const t=zc(e);return new $n(t.seconds,t.nanos)}(n))}function tl(n,e){return(t=n,new en(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Nw(n){const e=en.fromString(n);return at(o_(e)),e}function nl(n,e){return tl(n.databaseId,e.path)}function No(n,e){const t=Nw(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(Pw(t))}function Yg(n,e){return tl(n.databaseId,e)}function Lf(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Pw(n){return at(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Qg(n,e,t){return{name:nl(n,e),fields:t.value.mapValue.fields}}function Vw(n,e){return{documents:[Yg(n,e.path)]}}function Xg(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Yg(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Yg(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(_){if(0!==_.length)return Uw(mn.create(_,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(_){if(0!==_.length)return _.map(C=>{return{field:sl((S=C).field),direction:s_(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=(C=e.limit,n.useProto3Json||Og(C)?C:{value:C});var C,m,_;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function il(n){let e=function Ow(n){const e=Nw(n);return 4===e.length?en.emptyPath():Pw(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){at(1===r);const S=t.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=function(S){const N=i_(S);return N instanceof mn&&jv(N)?N.getFilters():[N]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(S=>{return new Qc(Bd((N=S).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let m=null;t.limit&&(m=function(S){let N;return N="object"==typeof S?S.value:S,Og(N)?null:N}(t.limit));let _=null;var S;t.startAt&&(_=new Nu((S=t.startAt).values||[],!!S.before));let C=null;return t.endAt&&(C=function(S){return new Nu(S.values||[],!S.before)}(t.endAt)),function Wv(n,e,t,r,o,u,l,m){return new Ou(n,e,t,r,o,u,l,m)}(e,o,l,u,m,"F",_,C)}function i_(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Bd(e.unaryFilter.field);return Xt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Bd(e.unaryFilter.field);return Xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bd(e.unaryFilter.field);return Xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Bd(e.unaryFilter.field);return Xt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(n):void 0!==n.fieldFilter?Xt.create(Bd((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return mn.create(e.compositeFilter.filters.map(t=>i_(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(n):rt();var e}function s_(n){return xi[n]}function hA(n){return Ud[n]}function nb(n){return JC[n]}function sl(n){return{fieldPath:n.canonicalString()}}function Bd(n){return lr.fromServerFormat(n.fieldPath)}function Uw(n){return n instanceof Xt?function(e){if("=="===e.op){if(X0(e.value))return{unaryFilter:{field:sl(e.field),op:"IS_NAN"}};if(Fv(e.value))return{unaryFilter:{field:sl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(X0(e.value))return{unaryFilter:{field:sl(e.field),op:"IS_NOT_NAN"}};if(Fv(e.value))return{unaryFilter:{field:sl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(e.field),op:hA(e.op),value:e.value}}}(n):n instanceof mn?function(e){const t=e.getFilters().map(r=>Uw(r));return 1===t.length?t[0]:{compositeFilter:{op:nb(e.op),filters:t}}}(n):rt()}function rb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function o_(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ua{constructor(e,t,r,o,u=_t.min(),l=_t.min(),m=br.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m}withSequenceNumber(e){return new Ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Bw{constructor(e){this.se=e}}function tm(n){const e=il({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?_f(e,e.limit,"L"):e}class $d{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(dr(e.integerValue));else if("doubleValue"in e){const r=dr(e.doubleValue);isNaN(r)?this.ae(t,13):(this.ae(t,15),xd(r)?t.he(0):t.he(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le(`${r.seconds||""}`),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(Nd(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ae(t,45),t.he(r.latitude||0),t.he(r.longitude||0)}else"mapValue"in e?Lv(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):rt()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const r=e.fields||{};this.ae(t,55);for(const o of Object.keys(r))this.fe(o,t),this.ue(r[o],t)}ge(e,t){const r=e.values||[];this.ae(t,50);for(const o of r)this.ue(o,t)}_e(e,t){this.ae(t,37),Ze.fromName(e).path.forEach(r=>{this.ae(t,60),this.ye(r,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}$d.pe=new $d;class ub{constructor(){this.He=new Ww}addToCollectionParentIndex(e,t){return this.He.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(is.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(is.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Ww{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new gn(en.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new gn(en.comparator)).toArray()}}new Uint8Array(0);class Ri{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ri(e,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ri.DEFAULT_COLLECTION_PERCENTILE=10,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ri.DEFAULT=new Ri(41943040,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ri.DISABLED=new Ri(-1,0,0);class cl{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new cl(0)}static bn(){return new cl(-1)}}class eI{constructor(){this.changes=new La(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class nI{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&Sf(r.mutation,o,zi.empty(),$n.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ut()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ut()){const o=Ro();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let l=wf();return u.forEach((m,_)=>{l=l.insert(m,_.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Ro();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ut()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((l,m)=>{t.set(l,m)})})}computeViews(e,t,r,o){let u=qi();const l=If(),m=If();return t.forEach((_,C)=>{const S=r.get(C.key);o.has(C.key)&&(void 0===S||S.mutation instanceof xs)?u=u.insert(C.key,C):void 0!==S?(l.set(C.key,S.mutation.getFieldMask()),Sf(S.mutation,C,S.mutation.getFieldMask(),$n.now())):l.set(C.key,zi.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((C,S)=>l.set(C,S)),t.forEach((C,S)=>{var N;return m.set(C,new vA(S,null!==(N=l.get(C))&&void 0!==N?N:null))}),m))}recalculateAndSaveOverlays(e,t){const r=If();let o=new Yn((l,m)=>l-m),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const m of l)m.keys().forEach(_=>{const C=t.get(_);if(null===C)return;let S=r.get(_)||zi.empty();S=m.applyToLocalView(C,S),r.set(_,S);const N=(o.get(m.batchId)||Ut()).add(_);o=o.insert(m.batchId,N)})}).next(()=>{const l=[],m=o.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),C=_.key,S=_.value,N=gw();S.forEach(B=>{if(!u.has(B)){const Z=Kg(t.get(B),r.get(B));null!==Z&&N.set(B,Z),u=u.add(B)}}),l.push(this.documentOverlayCache.saveOverlays(e,C,N))}return X.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ze.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Gg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const l=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):X.resolve(Ro());let m=-1,_=u;return l.next(C=>X.forEach(C,(S,N)=>(m<N.largestBatchId&&(m=N.largestBatchId),u.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next(B=>{_=_.insert(S,B)}))).next(()=>this.populateOverlays(e,C,u)).next(()=>this.computeViews(e,_,C,Ut())).next(S=>({batchId:m,changes:pw(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(r=>{let o=wf();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=wf();return this.indexManager.getCollectionParents(e,o).next(l=>X.forEach(l,m=>{const _=(C=t,S=m.child(o),new Ou(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,S;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(C=>{C.forEach((S,N)=>{u=u.insert(S,N)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((m,_)=>{const C=_.getKey();null===u.get(C)&&(u=u.insert(C,xn.newInvalidDocument(C)))});let l=wf();return u.forEach((m,_)=>{const C=o.get(m);void 0!==C&&Sf(C.mutation,_,zi.empty(),$n.now()),Ef(t,_)&&(l=l.insert(m,_))}),l})}}class hb{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return X.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Hn(r.createTime)}),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:tm(r.bundledQuery),readTime:Hn(r.readTime)}),X.resolve();var r}}class fb{constructor(){this.overlays=new Yn(Ze.comparator),this.ts=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ro();return X.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.re(e,t,u)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ts.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ts.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const o=Ro(),u=t.length+1,l=new Ze(t.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const _=m.getNext().value,C=_.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===u&&_.largestBatchId>r&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Yn((C,S)=>C-S);const l=this.overlays.getIterator();for(;l.hasNext();){const C=l.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let S=u.get(C.largestBatchId);null===S&&(S=Ro(),u=u.insert(C.largestBatchId,S)),S.set(C.getKey(),C)}}const m=Ro(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((C,S)=>m.set(C,S)),!(m.size()>=o)););return X.resolve(m)}re(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.ts.get(o.largestBatchId).delete(r.key);this.ts.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new xf(t,r));let u=this.ts.get(t);void 0===u&&(u=Ut(),this.ts.set(t,u)),this.ts.set(t,u.add(r.key))}}class E_{constructor(){this.es=new gn(Sr.ns),this.ss=new gn(Sr.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const r=new Sr(e,t);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.us(new Sr(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}hs(e){const t=new Ze(new en([])),r=new Sr(t,e),o=new Sr(t,e+1),u=[];return this.ss.forEachInRange([r,o],l=>{this.us(l),u.push(l.key)}),u}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new Ze(new en([])),r=new Sr(t,e),o=new Sr(t,e+1);let u=Ut();return this.ss.forEachInRange([r,o],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new Sr(e,0),r=this.es.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Sr{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return Ze.comparator(e.key,t.key)||Nt(e.ds,t.ds)}static rs(e,t){return Nt(e.ds,t.ds)||Ze.comparator(e.key,t.key)}}class _A{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new gn(Sr.ns)}checkEmpty(e){return X.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.ws;this.ws++;const l=new Zg(u,t,r,o);this.mutationQueue.push(l);for(const m of o)this._s=this._s.add(new Sr(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return X.resolve(l)}lookupMutationBatch(e,t){return X.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ys(t+1),u=o<0?0:o;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Sr(t,0),o=new Sr(t,Number.POSITIVE_INFINITY),u=[];return this._s.forEachInRange([r,o],l=>{const m=this.gs(l.ds);u.push(m)}),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gn(Nt);return t.forEach(o=>{const u=new Sr(o,0),l=new Sr(o,Number.POSITIVE_INFINITY);this._s.forEachInRange([u,l],m=>{r=r.add(m.ds)})}),X.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Ze.isDocumentKey(u)||(u=u.child(""));const l=new Sr(new Ze(u),0);let m=new gn(Nt);return this._s.forEachWhile(_=>{const C=_.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(m=m.add(_.ds)),!0)},l),X.resolve(this.ps(m))}ps(e){const t=[];return e.forEach(r=>{const o=this.gs(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){at(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let r=this._s;return X.forEach(t.mutations,o=>{const u=new Sr(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,t){const r=new Sr(t,0),o=this._s.firstAfterOrEqual(r);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return X.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rI{constructor(e){this.Ts=e,this.docs=new Yn(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,l=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(t))}getEntries(e,t){let r=qi();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():xn.newInvalidDocument(o))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=qi();const l=t.path,m=new Ze(l.child("")),_=this.docs.getIteratorFrom(m);for(;_.hasNext();){const{key:C,value:{document:S}}=_.getNext();if(!l.isPrefixOf(C.path))break;C.path.length>l.length+1||xv(O0(S),r)<=0||(o.has(S.key)||Ef(t,S))&&(u=u.insert(S.key,S.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(e,t,r,o){rt()}Es(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new pb(this)}getSize(e){return X.resolve(this.size)}}class pb extends eI{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Jn.addEntry(e,o)):this.Jn.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class iI{constructor(e){this.persistence=e,this.As=new La(t=>Pa(t),mf),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Rs=0,this.vs=new E_,this.targetCount=0,this.bs=cl.vn()}forEachTarget(e,t){return this.As.forEach((r,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Rs&&(this.Rs=t),X.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new cl(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Sn(t),X.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.As.forEach((l,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.As.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),X.waitFor(u).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.As.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.vs.os(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.vs.cs(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(l=>{u.push(o.markPotentiallyOrphaned(e,l))}),X.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.vs.fs(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.vs.containsKey(t))}}class gb{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new Mi(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new iI(this),this.indexManager=new ub,this.remoteDocumentCache=new rI(r=>this.referenceDelegate.Cs(r)),this.serializer=new Bw(t),this.xs=new hb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ps[e.toKey()];return r||(r=new _A(t,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,r){xe("MemoryPersistence","Starting transaction:",e);const o=new w_(this.Vs.next());return this.referenceDelegate.Ns(),r(o).next(u=>this.referenceDelegate.ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Os(e,t){return X.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class w_ extends P0{constructor(e){super(),this.currentSequenceNumber=e}}class Bf{constructor(e){this.persistence=e,this.$s=new E_,this.Ms=null}static Fs(e){return new Bf(e)}get Bs(){if(this.Ms)return this.Ms;throw rt()}addReference(e,t,r){return this.$s.addReference(r,t),this.Bs.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.$s.removeReference(r,t),this.Bs.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),X.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(o=>this.Bs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Bs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Bs,r=>{const o=Ze.fromPath(r);return this.Ls(e,o).next(u=>{u||t.removeEntry(o,_t.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(r=>{r?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return X.or([()=>X.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class D_{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Vi=r,this.Si=o}static Di(e,t){let r=Ut(),o=Ut();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new D_(e,t.fromCache,r,o)}}class oI{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ni(e,t).next(u=>u||this.ki(e,t,o,r)).next(u=>u||this.Oi(e,t))}Ni(e,t){if(dw(t))return X.resolve(null);let r=fi(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=_f(t,null,"F"),r=fi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Ut(...u);return this.xi.getDocuments(e,l).next(m=>this.indexManager.getMinOffset(e,r).next(_=>{const C=this.$i(t,m);return this.Mi(t,C,l,_.readTime)?this.Ni(e,_f(t,null,"F")):this.Fi(e,C,t,_)}))})))}ki(e,t,r,o){return dw(t)||o.isEqual(_t.min())?this.Oi(e,t):this.xi.getDocuments(e,r).next(u=>{const l=this.$i(t,u);return this.Mi(t,l,r,o)?this.Oi(e,t):(Ag()<=ts.in.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Kv(t)),this.Fi(e,l,t,function N0(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(1e9===r?new $n(t+1,0):new $n(t,r));return new is(o,Ze.empty(),e)}(o,-1)))})}$i(e,t){let r=new gn(Zv(e));return t.forEach((o,u)=>{Ef(e,u)&&(r=r.add(u))}),r}Mi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Oi(e,t){return Ag()<=ts.in.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Kv(t)),this.xi.getDocumentsMatchingQuery(e,t,is.min())}Fi(e,t,r,o){return this.xi.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class EA{constructor(e,t,r,o){this.persistence=e,this.Bi=t,this.serializer=o,this.Li=new Yn(Nt),this.qi=new La(u=>Pa(u),mf),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nI(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function yb(n,e){return mm.apply(this,arguments)}function mm(){return mm=(0,et.Z)(function*(n,e){const t=Ke(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.Gi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],m=[];let _=Ut();for(const C of o){l.push(C.batchId);for(const S of C.mutations)_=_.add(S.key)}for(const C of u){m.push(C.batchId);for(const S of C.mutations)_=_.add(S.key)}return t.localDocuments.getDocuments(r,_).next(C=>({Qi:C,removedBatchIds:l,addedBatchIds:m}))})})}),mm.apply(this,arguments)}function aI(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function wA(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $f(n,e,t){return uI.apply(this,arguments)}function uI(){return uI=(0,et.Z)(function*(n,e,t){const r=Ke(n),o=r.Li.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!Na(l))throw l;xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Li=r.Li.remove(e),r.qi.delete(o.target)}),uI.apply(this,arguments)}function ym(n,e,t){const r=Ke(n);let o=_t.min(),u=Ut();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,_,C){const S=Ke(m),N=S.qi.get(C);return void 0!==N?X.resolve(S.Li.get(N)):S.Ds.getTargetData(_,C)}(r,l,fi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(l,m.targetId).next(_=>{u=_})}).next(()=>r.Bi.getDocumentsMatchingQuery(l,e,t?o:_t.min(),t?u:Ut())).next(m=>(function lI(n,e,t){let r=n.Ui.get(e)||_t.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ui.set(e,r)}(r,function fw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),m),{documents:m,Wi:u})))}class gI{constructor(){this.activeTargetIds=qg()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b_{constructor(){this.Br=new gI,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,r){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new gI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wb{qr(e){}shutdown(){}}class yI{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _m=null;function T_(){return null===_m?_m=268435456+Math.round(2147483648*Math.random()):_m++,"0x"+_m.toString(16)}const vI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _I{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const ei="WebChannelConnection";class Ib extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,r,o,u){const l=T_(),m=this.ao(e,t);xe("RestConnection",`Sending RPC '${e}' ${l}:`,m,r);const _={};return this.ho(_,o,u),this.lo(e,m,_,r).then(C=>(xe("RestConnection",`Received RPC '${e}' ${l}: `,C),C),C=>{throw xa("RestConnection",`RPC '${e}' ${l} failed with error: `,C,"url: ",m,"request:",r),C})}fo(e,t,r,o,u,l){return this.co(e,t,r,o,u)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+hi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}ao(e,t){return`${this.ro}/v1/${t}:${vI[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,o){const u=T_();return new Promise((l,m)=>{const _=new bC;_.setWithCredentials(!0),_.listenOnce(T0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case wv.NO_ERROR:const S=_.getResponseJson();xe(ei,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(S)),l(S);break;case wv.TIMEOUT:xe(ei,`RPC '${e}' ${u} timed out`),m(new Te(re.DEADLINE_EXCEEDED,"Request time out"));break;case wv.HTTP_ERROR:const N=_.getStatus();if(xe(ei,`RPC '${e}' ${u} failed with status:`,N,"response text:",_.getResponseText()),N>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const Z=B?.error;if(Z&&Z.status&&Z.message){const ne=function(Ae){const je=Ae.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(je)>=0?je:re.UNKNOWN}(Z.status);m(new Te(ne,Z.message))}else m(new Te(re.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new Te(re.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{xe(ei,`RPC '${e}' ${u} completed.`)}});const C=JSON.stringify(o);xe(ei,`RPC '${e}' ${u} sending request:`,o),_.send(t,"POST",C,r,15)})}wo(e,t,r){const o=T_(),u=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=CC(),m=b0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new Dv({})),this.ho(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const C=u.join("");xe(ei,`Creating RPC '${e}' stream ${o}: ${C}`,_);const S=l.createWebChannel(C,_);let N=!1,B=!1;const Z=new _I({Wr:Ae=>{B?xe(ei,`Not sending because RPC '${e}' stream ${o} is closed:`,Ae):(N||(xe(ei,`Opening RPC '${e}' stream ${o} transport.`),S.open(),N=!0),xe(ei,`RPC '${e}' stream ${o} sending:`,Ae),S.send(Ae))},Hr:()=>S.close()}),ne=(Ae,je,ht)=>{Ae.listen(je,Lt=>{try{ht(Lt)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return ne(S,rs.EventType.OPEN,()=>{B||xe(ei,`RPC '${e}' stream ${o} transport opened.`)}),ne(S,rs.EventType.CLOSE,()=>{B||(B=!0,xe(ei,`RPC '${e}' stream ${o} transport closed`),Z.so())}),ne(S,rs.EventType.ERROR,Ae=>{B||(B=!0,xa(ei,`RPC '${e}' stream ${o} transport errored:`,Ae),Z.so(new Te(re.UNAVAILABLE,"The operation could not be completed")))}),ne(S,rs.EventType.MESSAGE,Ae=>{var je;if(!B){const ht=Ae.data[0];at(!!ht);const Ot=ht.error||(null===(je=ht[0])||void 0===je?void 0:je.error);if(Ot){xe(ei,`RPC '${e}' stream ${o} received error:`,Ot);const Qt=Ot.status;let sn=function(eo){const Xd=gr[eo];if(void 0!==Xd)return Xv(Xd)}(Qt),ln=Ot.message;void 0===sn&&(sn=re.INTERNAL,ln="Unknown error status: "+Qt+" with message "+Ot.message),B=!0,Z.so(new Te(sn,ln)),S.close()}else xe(ei,`RPC '${e}' stream ${o} received:`,ht),Z.io(ht)}}),ne(m,sA.STAT_EVENT,Ae=>{Ae.stat===Iv.PROXY?xe(ei,`RPC '${e}' stream ${o} detected buffering proxy`):Ae.stat===Iv.NOPROXY&&xe(ei,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Z.no()},0),Z}}function qf(){return typeof document<"u"?document:null}function hl(n){return new XC(n,!0)}class wI{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Ws=e,this.timerId=t,this._o=r,this.mo=o,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),o=Math.max(0,t-r);o>0&&xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,o,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class S_{constructor(e,t,r,o,u,l,m,_){this.Ws=e,this.bo=r,this.Po=o,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new wI(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,et.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,et.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var r=this;return(0,et.Z)(function*(){r.Bo(),r.Lo(),r.Co.cancel(),r.Vo++,4!==e?r.Co.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),r.Co.Eo()):t&&t.code===re.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Vo===t&&this.Ko(r,o)},r=>{e(()=>{const o=new Te(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(o)})})}Ko(e,t){const r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(o=>{r(()=>this.Go(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}ko(){var e=this;this.state=5,this.Co.Ao((0,et.Z)(function*(){e.state=0,e.start()}))}Go(e){return xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A_ extends S_{constructor(e,t,r,o,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function Jg(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:rt(),o=e.targetChange.targetIds||[],u=function(_,C){return _.useProto3Json?(at(void 0===C||"string"==typeof C),br.fromBase64String(C||"")):(at(void 0===C||C instanceof Uint8Array),br.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(_){const C=void 0===_.code?re.UNKNOWN:Xv(_.code);return new Te(C,_.message||"")}(l);t=new e_(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=No(n,r.document.name),u=Hn(r.document.updateTime),l=r.document.createTime?Hn(r.document.createTime):_t.min(),m=new Tr({mapValue:{fields:r.document.fields}}),_=xn.newFoundDocument(o,u,l,m);t=new kf(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,o=No(n,r.document),u=r.readTime?Hn(r.readTime):_t.min(),l=xn.newNoDocument(o,u);t=new kf([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,o=No(n,r.document);t=new kf([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return rt();{const r=e.filter,u=new YC(r.count||0);t=new Mw(r.targetId,u)}}var _;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return _t.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?_t.min():u.readTime?Hn(u.readTime):_t.min()}(e);return this.listener.zo(t,r)}jo(e){const t={};t.database=Lf(this.serializer),t.addTarget=function(o,u){let l;const m=u.target;return l=yf(m)?{documents:Vw(o,m)}:{query:Xg(o,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=eb(o,u.resumeToken):u.snapshotVersion.compareTo(_t.min())>0&&(l.readTime=Ff(o,u.snapshotVersion.toTimestamp())),l}(this.serializer,e);const r=function tb(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=Lf(this.serializer),t.removeTarget=e,this.Fo(t)}}class Db extends S_{constructor(e,t,r,o,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function Lw(n,e){return n&&n.length>0?(at(void 0!==e),n.map(t=>function(r,o){let u=Hn(r.updateTime?r.updateTime:o);return u.isEqual(_t.min())&&(u=Hn(o)),new KC(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.Zo(r,t)}return at(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Lf(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function rl(n,e){let t;if(e instanceof Va)t={update:Qg(n,e.key,e.value)};else if(e instanceof el)t={delete:nl(n,e.key)};else if(e instanceof xs)t={update:Qg(n,e.key,e.data),updateMask:rb(e.fieldMask)};else{if(!(e instanceof Af))return rt();t={verify:nl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const l=u.transform;if(l instanceof Jc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Xc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Fd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ld)return{fieldPath:u.field.canonicalString(),increment:l._t};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Rw(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:rt()),t;var o}(this.serializer,r))};this.Fo(t)}}class Cb extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.eu=!1}nu(){if(this.eu)throw new Te(re.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.co(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(re.UNKNOWN,o.toString())})}fo(e,t,r,o){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.fo(e,t,r,u,l,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(re.UNKNOWN,u.toString())})}terminate(){this.eu=!0}}class bb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(cr(t),this.ru=!1):xe("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class Tb{constructor(e,t,r,o,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=u,this._u.qr(m=>{r.enqueueAndForget((0,et.Z)(function*(){var _;fl(l)&&(xe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,et.Z)(function*(C){const S=Ke(C);S.du.add(4),yield Kf(S),S.mu.set("Unknown"),S.du.delete(4),yield Wf(S)}),function(C){return _.apply(this,arguments)})(l))}))}),this.mu=new bb(r,o)}}function Wf(n){return DI.apply(this,arguments)}function DI(){return DI=(0,et.Z)(function*(n){if(fl(n))for(const e of n.wu)yield e(!0)}),DI.apply(this,arguments)}function Kf(n){return CI.apply(this,arguments)}function CI(){return CI=(0,et.Z)(function*(n){for(const e of n.wu)yield e(!1)}),CI.apply(this,arguments)}function M_(n,e){const t=Ke(n);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),SI(t)?TI(t):Em(t).No()&&bI(t,e))}function Zf(n,e){const t=Ke(n),r=Em(t);t.fu.delete(e),r.No()&&Sb(t,e),0===t.fu.size&&(r.No()?r.$o():fl(t)&&t.mu.set("Unknown"))}function bI(n,e){n.gu.Ot(e.targetId),Em(n).jo(e)}function Sb(n,e){n.gu.Ot(e),Em(n).Wo(e)}function TI(n){n.gu=new QC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.fu.get(e)||null}),Em(n).start(),n.mu.ou()}function SI(n){return fl(n)&&!Em(n).xo()&&n.fu.size>0}function fl(n){return 0===Ke(n).du.size}function Ab(n){n.gu=void 0}function i(n){return s.apply(this,arguments)}function s(){return s=(0,et.Z)(function*(n){n.fu.forEach((e,t)=>{bI(n,e)})}),s.apply(this,arguments)}function a(n,e){return c.apply(this,arguments)}function c(){return c=(0,et.Z)(function*(n,e){Ab(n),SI(n)?(n.mu.au(e),TI(n)):n.mu.set("Unknown")}),c.apply(this,arguments)}function d(n,e,t){return p.apply(this,arguments)}function p(){return p=(0,et.Z)(function*(n,e,t){if(n.mu.set("Online"),e instanceof e_&&2===e.state&&e.cause)try{yield(r=(0,et.Z)(function*(o,u){const l=u.cause;for(const m of u.targetIds)o.fu.has(m)&&(yield o.remoteSyncer.rejectListen(m,l),o.fu.delete(m),o.gu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield y(n,r)}else if(e instanceof kf?n.gu.Kt(e):e instanceof Mw?n.gu.Jt(e):n.gu.zt(e),!t.isEqual(_t.min()))try{const r=yield aI(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const l=o.gu.Xt(u);return l.targetChanges.forEach((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const C=o.fu.get(_);C&&o.fu.set(_,C.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach(m=>{const _=o.fu.get(m);if(!_)return;o.fu.set(m,_.withResumeToken(br.EMPTY_BYTE_STRING,_.snapshotVersion)),Sb(o,m);const C=new Ua(_.target,m,1,_.sequenceNumber);bI(o,C)}),o.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){xe("RemoteStore","Failed to raise snapshot:",r),yield y(n,r)}var r}),p.apply(this,arguments)}function y(n,e,t){return w.apply(this,arguments)}function w(){return w=(0,et.Z)(function*(n,e,t){if(!Na(e))throw e;n.du.add(1),yield Kf(n),n.mu.set("Offline"),t||(t=()=>aI(n.localStore)),n.asyncQueue.enqueueRetryable((0,et.Z)(function*(){xe("RemoteStore","Retrying IndexedDB access"),yield t(),n.du.delete(1),yield Wf(n)}))}),w.apply(this,arguments)}function I(n,e){return e().catch(t=>y(n,t,e))}function T(n){return x.apply(this,arguments)}function x(){return x=(0,et.Z)(function*(n){const e=Ke(n),t=zd(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;P(e);)try{const o=yield wA(e.localStore,r);if(null===o){0===e.lu.length&&t.$o();break}r=o.batchId,H(e,o)}catch(o){yield y(e,o)}Y(e)&&de(e)}),x.apply(this,arguments)}function P(n){return fl(n)&&n.lu.length<10}function H(n,e){n.lu.push(e);const t=zd(n);t.No()&&t.Jo&&t.Yo(e.mutations)}function Y(n){return fl(n)&&!zd(n).xo()&&n.lu.length>0}function de(n){zd(n).start()}function Le(n){return We.apply(this,arguments)}function We(){return We=(0,et.Z)(function*(n){zd(n).tu()}),We.apply(this,arguments)}function st(n){return Ct.apply(this,arguments)}function Ct(){return Ct=(0,et.Z)(function*(n){const e=zd(n);for(const t of n.lu)e.Yo(t.mutations)}),Ct.apply(this,arguments)}function Se(n,e,t){return Rt.apply(this,arguments)}function Rt(){return Rt=(0,et.Z)(function*(n,e,t){const r=n.lu.shift(),o=Mf.from(r,e,t);yield I(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield T(n)}),Rt.apply(this,arguments)}function kn(n,e){return Gn.apply(this,arguments)}function Gn(){return Gn=(0,et.Z)(function*(n,e){var t;e&&zd(n).Jo&&(yield(t=(0,et.Z)(function*(r,o){if(function Aw(n){switch(n){default:return rt();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}(u=o.code)&&u!==re.ABORTED){const l=r.lu.shift();zd(r).Oo(),yield I(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield T(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),Y(n)&&de(n)}),Gn.apply(this,arguments)}function Mb(n,e){return xb.apply(this,arguments)}function xb(){return xb=(0,et.Z)(function*(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials");const r=fl(t);t.du.add(3),yield Kf(t),r&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield Wf(t)}),xb.apply(this,arguments)}function Nb(){return Nb=(0,et.Z)(function*(n,e){const t=Ke(n);e?(t.du.delete(2),yield Wf(t)):e||(t.du.add(2),yield Kf(t),t.mu.set("Unknown"))}),Nb.apply(this,arguments)}function Em(n){return n.yu||(n.yu=function(e,t,r){const o=Ke(e);return o.nu(),new A_(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Jr:i.bind(null,n),Zr:a.bind(null,n),zo:d.bind(null,n)}),n.wu.push(function(){var e=(0,et.Z)(function*(t){t?(n.yu.Oo(),SI(n)?TI(n):n.mu.set("Unknown")):(yield n.yu.stop(),Ab(n))});return function(t){return e.apply(this,arguments)}}())),n.yu}function zd(n){return n.pu||(n.pu=function(e,t,r){const o=Ke(e);return o.nu(),new Db(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Jr:Le.bind(null,n),Zr:kn.bind(null,n),Xo:st.bind(null,n),Zo:Se.bind(null,n)}),n.wu.push(function(){var e=(0,et.Z)(function*(t){t?(n.pu.Oo(),yield T(n)):(yield n.pu.stop(),n.lu.length>0&&(xe("RemoteStore",`Stopping write stream with ${n.lu.length} pending writes`),n.lu=[]))});return function(t){return e.apply(this,arguments)}}())),n.pu}class Ob{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,o,u){const l=Date.now()+r,m=new Ob(e,t,l,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wm(n,e){if(cr("AsyncQueue",`${e}: ${n}`),Na(n))return new Te(re.UNAVAILABLE,`${e}: ${n}`);throw n}class Im{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ze.comparator(t.key,r.key):(t,r)=>Ze.comparator(t.key,r.key),this.keyedMap=wf(),this.sortedSet=new Yn(this.comparator)}static emptySet(e){return new Im(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Im)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Im;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class DA{constructor(){this.Iu=new Yn(Ze.comparator)}track(e){const t=e.doc.key,r=this.Iu.get(t);r?0!==e.type&&3===r.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==r.type?this.Iu=this.Iu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Iu=this.Iu.remove(t):1===e.type&&2===r.type?this.Iu=this.Iu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):rt():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Dm{constructor(e,t,r,o,u,l,m,_,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,o,u){const l=[];return t.forEach(m=>{l.push({type:0,doc:m})}),new Dm(e,t,Im.emptySet(t),l,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class lR{constructor(){this.Eu=void 0,this.listeners=[]}}class dR{constructor(){this.queries=new La(e=>hw(e),Pd),this.onlineState="Unknown",this.Au=new Set}}function Pb(n,e){return kb.apply(this,arguments)}function kb(){return kb=(0,et.Z)(function*(n,e){const t=Ke(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new lR),o)try{u.Eu=yield t.onListen(r)}catch(l){const m=wm(l,`Initialization of query '${Kv(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Ru(t.onlineState),u.Eu&&e.vu(u.Eu)&&Vb(t)}),kb.apply(this,arguments)}function Fb(n,e){return Lb.apply(this,arguments)}function Lb(){return Lb=(0,et.Z)(function*(n,e){const t=Ke(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),Lb.apply(this,arguments)}function hR(n,e){const t=Ke(n);let r=!1;for(const o of e){const l=t.queries.get(o.query);if(l){for(const m of l.listeners)m.vu(o)&&(r=!0);l.Eu=o}}r&&Vb(t)}function fR(n,e,t){const r=Ke(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function Vb(n){n.Au.forEach(e=>{e.next()})}class Ub{constructor(e,t,r){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Dm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=Dm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class TA{constructor(e){this.key=e}}class SA{constructor(e){this.key=e}}class AA{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Ut(),this.mutatedKeys=Ut(),this.Ku=Zv(e),this.Gu=new Im(this.Ku)}get Qu(){return this.Lu}zu(e,t){const r=t?t.ju:new DA,o=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,l=o,m=!1;const _="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,C="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,N)=>{const B=o.get(S),Z=Ef(this.query,N)?N:null,ne=!!B&&this.mutatedKeys.has(B.key),Ae=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let je=!1;B&&Z?B.data.isEqual(Z.data)?ne!==Ae&&(r.track({type:3,doc:Z}),je=!0):this.Wu(B,Z)||(r.track({type:2,doc:Z}),je=!0,(_&&this.Ku(Z,_)>0||C&&this.Ku(Z,C)<0)&&(m=!0)):!B&&Z?(r.track({type:0,doc:Z}),je=!0):B&&!Z&&(r.track({type:1,doc:B}),je=!0,(_||C)&&(m=!0)),je&&(Z?(l=l.add(Z),u=Ae?u.add(S):u.delete(S)):(l=l.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const S="F"===this.query.limitType?l.last():l.first();l=l.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{Gu:l,ju:r,Mi:m,mutatedKeys:u}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.ju.Tu();u.sort((C,S)=>function(N,B){const Z=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return Z(N)-Z(B)}(C.type,S.type)||this.Ku(C.doc,S.doc)),this.Hu(r);const l=t?this.Ju():[],m=0===this.Uu.size&&this.current?1:0,_=m!==this.qu;return this.qu=m,0!==u.length||_?{snapshot:new Dm(this.query,e.Gu,o,u,e.mutatedKeys,0===m,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:l}:{Yu:l}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new DA,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=Ut(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const t=[];return e.forEach(r=>{this.Uu.has(r)||t.push(new SA(r))}),this.Uu.forEach(r=>{e.has(r)||t.push(new TA(r))}),t}Xu(e){this.Lu=e.Wi,this.Uu=Ut();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return Dm.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class mR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class yR{constructor(e){this.key=e,this.ec=!1}}class vR{constructor(e,t,r,o,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.nc={},this.sc=new La(m=>hw(m),Pd),this.ic=new Map,this.rc=new Set,this.oc=new Yn(Ze.comparator),this.uc=new Map,this.cc=new E_,this.ac={},this.hc=new Map,this.lc=cl.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function _R(n,e){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,et.Z)(function*(n,e){const t=function cT(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IR.bind(null,e),e.nc.zo=hR.bind(null,e.eventManager),e.nc.wc=fR.bind(null,e.eventManager),e}(n);let r,o;const u=t.sc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.tc();else{const l=yield function jf(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Ds.getTargetData(r,e).next(u=>u?(o=u,X.resolve(o)):t.Ds.allocateTargetId(r).next(l=>(o=new Ua(e,l,0,r.currentSequenceNumber),t.Ds.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Li.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Li=t.Li.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}(t.localStore,fi(e));t.isPrimaryClient&&M_(t.remoteStore,l);const m=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield function jb(n,e,t,r,o){return $b.apply(this,arguments)}(t,e,r,"current"===m,l.resumeToken)}return o}),Bb.apply(this,arguments)}function $b(){return $b=(0,et.Z)(function*(n,e,t,r,o){n.dc=(N,B,Z)=>{return(ne=(0,et.Z)(function*(Ae,je,ht,Lt){let Ot=je.view.zu(ht);Ot.Mi&&(Ot=yield ym(Ae.localStore,je.query,!1).then(({documents:ln})=>je.view.zu(ln,Ot)));const Qt=Lt&&Lt.targetChanges.get(je.targetId),sn=je.view.applyChanges(Ot,Ae.isPrimaryClient,Qt);return Jb(Ae,je.targetId,sn.Yu),sn.snapshot}),function(Ae,je,ht,Lt){return ne.apply(this,arguments)})(n,N,B,Z);var ne};const u=yield ym(n.localStore,e,!0),l=new AA(e,u.Wi),m=l.zu(u.documents),_=Vd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),C=l.applyChanges(m,n.isPrimaryClient,_);Jb(n,t,C.Yu);const S=new mR(e,t,l);return n.sc.set(e,S),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),C.snapshot}),$b.apply(this,arguments)}function ER(n,e){return Hb.apply(this,arguments)}function Hb(){return Hb=(0,et.Z)(function*(n,e){const t=Ke(n),r=t.sc.get(e),o=t.ic.get(r.targetId);if(o.length>1)return t.ic.set(r.targetId,o.filter(u=>!Pd(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield $f(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Zf(t.remoteStore,r.targetId),Cm(t,r.targetId)}).catch(Ra))):(Cm(t,r.targetId),yield $f(t.localStore,r.targetId,!0))}),Hb.apply(this,arguments)}function Gb(){return Gb=(0,et.Z)(function*(n,e,t){const r=function lT(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CR.bind(null,e),e}(n);try{const o=yield function(u,l){const m=Ke(u),_=$n.now(),C=l.reduce((B,Z)=>B.add(Z.key),Ut());let S,N;return m.persistence.runTransaction("Locally write mutations","readwrite",B=>{let Z=qi(),ne=Ut();return m.Ki.getEntries(B,C).next(Ae=>{Z=Ae,Z.forEach((je,ht)=>{ht.isValidDocument()||(ne=ne.add(je))})}).next(()=>m.localDocuments.getOverlayedDocuments(B,Z)).next(Ae=>{S=Ae;const je=[];for(const ht of l){const Lt=ZC(ht,S.get(ht.key).overlayedDocument);null!=Lt&&je.push(new xs(ht.key,Lt,tw(Lt.value.mapValue),In.exists(!0)))}return m.mutationQueue.addMutationBatch(B,_,je,l)}).next(Ae=>{N=Ae;const je=Ae.applyToLocalDocumentSet(S,ne);return m.documentOverlayCache.saveOverlays(B,Ae.batchId,je)})}).then(()=>({batchId:N.batchId,changes:pw(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,l,m){let _=u.ac[u.currentUser.toKey()];_||(_=new Yn(Nt)),_=_.insert(l,m),u.ac[u.currentUser.toKey()]=_}(r,o.batchId,t),yield pl(r,o.changes),yield T(r.remoteStore)}catch(o){const u=wm(o,"Failed to persist write");t.reject(u)}}),Gb.apply(this,arguments)}function MA(n,e){return zb.apply(this,arguments)}function zb(){return zb=(0,et.Z)(function*(n,e){const t=Ke(n);try{const r=yield function _b(n,e){const t=Ke(n),r=e.snapshotVersion;let o=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Ki.newChangeBuffer({trackRemovals:!0});o=t.Li;const m=[];e.targetChanges.forEach((S,N)=>{const B=o.get(N);if(!B)return;m.push(t.Ds.removeMatchingKeys(u,S.removedDocuments,N).next(()=>t.Ds.addMatchingKeys(u,S.addedDocuments,N)));let Z=B.withSequenceNumber(u.currentSequenceNumber);var ne,Ae,je;e.targetMismatches.has(N)?Z=Z.withResumeToken(br.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(S.resumeToken,r)),o=o.insert(N,Z),Ae=Z,je=S,(0===(ne=B).resumeToken.approximateByteSize()||Ae.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=3e8||je.addedDocuments.size+je.modifiedDocuments.size+je.removedDocuments.size>0)&&m.push(t.Ds.updateTargetData(u,Z))});let _=qi(),C=Ut();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),m.push(function Eb(n,e,t){let r=Ut(),o=Ut();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=qi();return t.forEach((m,_)=>{const C=u.get(m);_.isFoundDocument()!==C.isFoundDocument()&&(o=o.add(m)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(m,_.readTime),l=l.insert(m,_)):!C.isValidDocument()||_.version.compareTo(C.version)>0||0===_.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(_),l=l.insert(m,_)):xe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",C.version," Watch version:",_.version)}),{zi:l,ji:o}})}(u,l,e.documentUpdates).next(S=>{_=S.zi,C=S.ji})),!r.isEqual(_t.min())){const S=t.Ds.getLastRemoteSnapshotVersion(u).next(N=>t.Ds.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(S)}return X.waitFor(m).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,C)).next(()=>_)}).then(u=>(t.Li=o,u))}(t.localStore,e);e.targetChanges.forEach((o,u)=>{const l=t.uc.get(u);l&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.ec=!0:o.modifiedDocuments.size>0?at(l.ec):o.removedDocuments.size>0&&(at(l.ec),l.ec=!1))}),yield pl(t,r,e)}catch(r){yield Ra(r)}}),zb.apply(this,arguments)}function xA(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.sc.forEach((u,l)=>{const m=l.view.Ru(e);m.snapshot&&o.push(m.snapshot)}),function(u,l){const m=Ke(u);m.onlineState=l;let _=!1;m.queries.forEach((C,S)=>{for(const N of S.listeners)N.Ru(l)&&(_=!0)}),_&&Vb(m)}(r.eventManager,e),o.length&&r.nc.zo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function IR(n,e,t){return qb.apply(this,arguments)}function qb(){return qb=(0,et.Z)(function*(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.uc.get(e),u=o&&o.key;if(u){let l=new Yn(Ze.comparator);l=l.insert(u,xn.newNoDocument(u,_t.min()));const m=Ut().add(u),_=new Pf(_t.min(),new Map,new gn(Nt),l,m);yield MA(r,_),r.oc=r.oc.remove(u),r.uc.delete(e),Xb(r)}else yield $f(r.localStore,e,!1).then(()=>Cm(r,e,t)).catch(Ra)}),qb.apply(this,arguments)}function DR(n,e){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,et.Z)(function*(n,e){const t=Ke(n),r=e.batch.batchId;try{const o=yield function vb(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Ki.newChangeBuffer({trackRemovals:!0});return function(l,m,_,C){const S=_.batch,N=S.keys();let B=X.resolve();return N.forEach(Z=>{B=B.next(()=>C.getEntry(m,Z)).next(ne=>{const Ae=_.docVersions.get(Z);at(null!==Ae),ne.version.compareTo(Ae)<0&&(S.applyToRemoteDocument(ne,_),ne.isValidDocument()&&(ne.setReadTime(_.commitVersion),C.addEntry(ne)))})}),B.next(()=>l.mutationQueue.removeMutationBatch(m,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let m=Ut();for(let _=0;_<l.mutationResults.length;++_)l.mutationResults[_].transformResults.length>0&&(m=m.add(l.batch.mutations[_].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);Qb(t,r,null),Yb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield pl(t,o)}catch(o){yield Ra(o)}}),Wb.apply(this,arguments)}function CR(n,e,t){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,et.Z)(function*(n,e,t){const r=Ke(n);try{const o=yield function(u,l){const m=Ke(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let C;return m.mutationQueue.lookupMutationBatch(_,l).next(S=>(at(null!==S),C=S.keys(),m.mutationQueue.removeMutationBatch(_,S))).next(()=>m.mutationQueue.performConsistencyCheck(_)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(_,C,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,C)).next(()=>m.localDocuments.getDocuments(_,C))})}(r.localStore,e);Qb(r,e,t),Yb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield pl(r,o)}catch(o){yield Ra(o)}}),Kb.apply(this,arguments)}function Yb(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function Qb(n,e,t){const r=Ke(n);let o=r.ac[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.ac[r.currentUser.toKey()]=o}}function Cm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc.wc(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.hs(e).forEach(r=>{n.cc.containsKey(r)||RA(n,r)})}function RA(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(Zf(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),Xb(n))}function Jb(n,e,t){for(const r of t)r instanceof TA?(n.cc.addReference(r.key,e),TR(n,r)):r instanceof SA?(xe("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||RA(n,r.key)):rt()}function TR(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(xe("SyncEngine","New document in limbo: "+t),n.rc.add(r),Xb(n))}function Xb(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Ze(en.fromString(e)),r=n.lc.next();n.uc.set(r,new yR(t)),n.oc=n.oc.insert(t,r),M_(n.remoteStore,new Ua(fi(Pu(t.path)),r,2,Mi.ct))}}function pl(n,e,t){return eT.apply(this,arguments)}function eT(){return eT=(0,et.Z)(function*(n,e,t){const r=Ke(n),o=[],u=[],l=[];var m;r.sc.isEmpty()||(r.sc.forEach((m,_)=>{l.push(r.dc(_,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,C?.fromCache?"not-current":"current"),C){o.push(C);const S=D_.Di(_.targetId,C);u.push(S)}}))}),yield Promise.all(l),r.nc.zo(o),yield(m=(0,et.Z)(function*(_,C){const S=Ke(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>X.forEach(C,B=>X.forEach(B.Vi,Z=>S.persistence.referenceDelegate.addReference(N,B.targetId,Z)).next(()=>X.forEach(B.Si,Z=>S.persistence.referenceDelegate.removeReference(N,B.targetId,Z)))))}catch(N){if(!Na(N))throw N;xe("LocalStore","Failed to update sequence numbers: "+N)}for(const N of C){const B=N.targetId;if(!N.fromCache){const Z=S.Li.get(B),Ae=Z.withLastLimboFreeSnapshotVersion(Z.snapshotVersion);S.Li=S.Li.insert(B,Ae)}}}),function(_,C){return m.apply(this,arguments)})(r.localStore,u))}),eT.apply(this,arguments)}function SR(n,e){return tT.apply(this,arguments)}function tT(){return tT=(0,et.Z)(function*(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){xe("SyncEngine","User change. New user:",e.toKey());const r=yield yb(t.localStore,e);t.currentUser=e,(o=t).hc.forEach(l=>{l.forEach(m=>{m.reject(new Te(re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pl(t,r.Qi)}var o}),tT.apply(this,arguments)}function AR(n,e){const t=Ke(n),r=t.uc.get(e);if(r&&r.ec)return Ut().add(r.key);{let o=Ut();const u=t.ic.get(e);if(!u)return o;for(const l of u){const m=t.sc.get(l);o=o.unionWith(m.view.Qu)}return o}}class dT{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,et.Z)(function*(){t.serializer=hl(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function mb(n,e,t,r){return new EA(n,e,t,r)}(this.persistence,new oI,e.initialUser,this.serializer)}createPersistence(e){return new gb(Bf.Fs,this.serializer)}createSharedClientState(e){return new b_}terminate(){var e=this;return(0,et.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bm{initialize(e,t){var r=this;return(0,et.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>xA(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=SR.bind(null,r.syncEngine),yield function Rb(n,e){return Nb.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dR}createDatastore(e){const t=hl(e.databaseInfo.databaseId),r=new Ib(e.databaseInfo);return new Cb(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>xA(this.syncEngine,m,0),l=yI.D()?new yI:new wb,new Tb(t,r,o,u,l);var t,r,o,u,l}createSyncEngine(e,t){return function(r,o,u,l,m,_,C){const S=new vR(r,o,u,l,m,_);return C&&(S.fc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,et.Z)(function*(t){const r=Ke(t);xe("RemoteStore","RemoteStore shutting down."),r.du.add(5),yield Kf(r),r._u.shutdown(),r.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class AI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BR{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=Sv.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,et.Z)(function*(m){xe("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(xe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,et.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,et.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=wm(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function MI(n,e){return hT.apply(this,arguments)}function hT(){return hT=(0,et.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,et.Z)(function*(u){r.isEqual(u)||(yield yb(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),hT.apply(this,arguments)}function fT(n,e){return pT.apply(this,arguments)}function pT(){return pT=(0,et.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function gT(n){return mT.apply(this,arguments)}(n);xe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>Mb(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>Mb(e.remoteStore,u)),n._onlineComponents=e}),pT.apply(this,arguments)}function mT(){return mT=(0,et.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield MI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function LA(n){return"FirebaseError"===n.name?n.code===re.FAILED_PRECONDITION||n.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;xa("Error using user provided cache. Falling back to memory cache: "+t),yield MI(n,new dT)}}else xe("FirestoreClient","Using default OfflineComponentProvider"),yield MI(n,new dT);return n._offlineComponents}),mT.apply(this,arguments)}function xI(n){return yT.apply(this,arguments)}function yT(){return yT=(0,et.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xe("FirestoreClient","Using user provided OnlineComponentProvider"),yield fT(n,n._uninitializedComponentsProvider._online)):(xe("FirestoreClient","Using default OnlineComponentProvider"),yield fT(n,new bm))),n._onlineComponents}),yT.apply(this,arguments)}function Tm(n){return _T.apply(this,arguments)}function _T(){return _T=(0,et.Z)(function*(n){const e=yield xI(n),t=e.eventManager;return t.onListen=_R.bind(null,e.syncEngine),t.onUnlisten=ER.bind(null,e.syncEngine),t}),_T.apply(this,arguments)}const HA=new Map;function ET(n,e,t){if(!t)throw new Te(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function GA(n){if(!Ze.isDocumentKey(n))throw new Te(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zA(n){if(Ze.isDocumentKey(n))throw new Te(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function NI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=NI(n);throw new Te(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class WA{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Te(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Te(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function ZR(n,e,t,r){if(!0===e&&!0===r)throw new Te(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class x_{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Te(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WA(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new SC;switch(t.type){case"firstParty":return new Mg(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Te(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=HA.get(e);t&&(xe("ComponentProvider","Removing Datastore"),HA.delete(e),t.terminate())}(this),Promise.resolve()}}class Ar{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ar(this.firestore,e,this._key)}}class Ni{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ni(this.firestore,e,this._query)}}class ju extends Ni{constructor(e,t,r){super(e,t,Pu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ar(this.firestore,null,new Ze(e))}withConverter(e){return new ju(this.firestore,e,this._path)}}function KA(n,e,...t){if(n=(0,Si.m9)(n),ET("collection","path",e),n instanceof x_){const r=en.fromString(e,...t);return zA(r),new ju(n,null,r)}{if(!(n instanceof Ar||n instanceof ju))throw new Te(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return zA(r),new ju(n.firestore,null,r)}}function OI(n,e,...t){if(n=(0,Si.m9)(n),1===arguments.length&&(e=Sv.A()),ET("doc","path",e),n instanceof x_){const r=en.fromString(e,...t);return GA(r),new Ar(n,null,new Ze(r))}{if(!(n instanceof Ar||n instanceof ju))throw new Te(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return GA(r),new Ar(n.firestore,n instanceof ju?n.converter:null,new Ze(r))}}class QR{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new wI(this,"async_queue_retry"),this.qc=()=>{const t=qf();t&&xe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=qf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=qf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new pr;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,et.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!Na(t))throw t;xe("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{throw this.Mc=r,this.Fc=!1,cr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Fc=!1,r))));return this.Nc=t,t}enqueueAfterDelay(e,t,r){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const o=Ob.createAndSchedule(this,e,t,r,u=>this.Qc(u));return this.$c.push(o),o}Uc(){this.Mc&&rt()}verifyOperationInProgress(){}zc(){var e=this;return(0,et.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function wT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class zn extends x_{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new QR,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YA(this),this._firestoreClient.terminate()}}function $r(n){return n._firestoreClient||YA(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function YA(n){var e,t,r;const o=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new LC(n._databaseId,m,n._persistenceKey,(C=o).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var m,C;n._firestoreClient=new BR(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}class Yf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yf(br.fromBase64String(e))}catch(t){throw new Te(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yf(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Te(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class XA{constructor(e){this._methodName=e}}class IT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const tN=/^__.*__$/;class nN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Va(e,this.data,t,this.fieldTransforms)}}function tM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class PI{constructor(e,t,r,o,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===u&&this.Jc(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new PI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Zc({path:r,ta:!1});return o.ea(e),o}na(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Zc({path:r,ta:!1});return o.Jc(),o}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return FI(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(tM(this.Yc)&&tN.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class rN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hl(e)}ua(e,t,r,o=!1){return new PI({Yc:e,methodName:t,oa:r,path:lr.emptyPath(),ta:!1,ra:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Am(n){const e=n._freezeSettings(),t=hl(n._databaseId);return new rN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DT(n,e,t,r,o,u={}){const l=n.ua(u.merge||u.mergeFields?2:0,e,t,o);bT("Data must be an object, but it was:",l,r);const m=oM(r,l);let _,C;if(u.merge)_=new zi(l.fieldMask),C=l.fieldTransforms;else if(u.mergeFields){const S=[];for(const N of u.mergeFields){const B=O_(e,N,t);if(!l.contains(B))throw new Te(re.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);uM(S,B)||S.push(B)}_=new zi(S),C=l.fieldTransforms.filter(N=>_.covers(N.field))}else _=null,C=l.fieldTransforms;return new nN(new Tr(m),_,C)}function Qf(n,e){if(aM(n=(0,Si.m9)(n)))return bT("Unsupported field value:",e,n),oM(n,e);if(n instanceof XA)return function(t,r){if(!tM(r.Yc))throw r.ia(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const l of t){let m=Qf(l,r.sa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Si.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return kd(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=$n.fromDate(t);return{timestampValue:Ff(r.serializer,o)}}if(t instanceof $n){const o=new $n(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ff(r.serializer,o)}}if(t instanceof IT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yf)return{bytesValue:eb(r.serializer,t._byteString)};if(t instanceof Ar){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.ia(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tl(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ia(`Unsupported field value: ${NI(t)}`)}(n,e)}function oM(n,e){const t={};return Rd(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(n,(r,o)=>{const u=Qf(o,e.Xc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function aM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $n||n instanceof IT||n instanceof Yf||n instanceof Ar||n instanceof XA)}function bT(n,e,t){if(!aM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=NI(t);throw e.ia("an object"===r?n+" a custom object":n+" "+r)}var r}function O_(n,e,t){if((e=(0,Si.m9)(e))instanceof Sm)return e._internalPath;if("string"==typeof e)return kI(n,e);throw FI("Field path arguments must be of type string or ",n,!1,void 0,t)}const aN=new RegExp("[~\\*/\\[\\]]");function kI(n,e,t){if(e.search(aN)>=0)throw FI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sm(...e.split("."))._internalPath}catch{throw FI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function FI(n,e,t,r,o){const u=r&&!r.isEmpty(),l=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(u||l)&&(_+=" (found",u&&(_+=` in field ${r}`),l&&(_+=` in document ${o}`),_+=")"),new Te(re.INVALID_ARGUMENT,m+n+_)}function uM(n,e){return n.some(t=>t.isEqual(e))}class TT{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ar(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new uN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(LI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class uN extends TT{data(){return super.data()}}function LI(n,e){return"string"==typeof e?kI(n,e):e instanceof Sm?e._internalPath:e._delegate._internalPath}function cM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Te(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ST{}class cN extends ST{}function lM(n,e,...t){let r=[];e instanceof ST&&r.push(e),r=r.concat(t),function(o){const u=o.filter(m=>m instanceof Mm).length,l=o.filter(m=>m instanceof P_).length;if(u>1||u>0&&l>0)throw new Te(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class P_ extends cN{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new P_(e,t,r)}_apply(e){const t=this._parse(e);return pM(e._query,t),new Ni(e.firestore,e.converter,zg(e._query,t))}_parse(e){const t=Am(e.firestore);return function(o,u,l,m,_,C,S){let N;if(_.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Te(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){fM(S,C);const B=[];for(const Z of S)B.push(hM(m,o,Z));N={arrayValue:{values:B}}}else N=hM(m,o,S)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||fM(S,C),N=function sM(n,e,t,r=!1){return Qf(t,n.ua(r?4:3,e))}(l,"where",S,"in"===C||"not-in"===C);return Xt.create(_,C,N)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Mm extends ST{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:mn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let u=r;const l=o.getFlattenedFilters();for(const m of l)pM(u,m),u=zg(u,m)}(e._query,t),new Ni(e.firestore,e.converter,zg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function hM(n,e,t){if("string"==typeof(t=(0,Si.m9)(t))){if(""===t)throw new Te(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gg(e)&&-1!==t.indexOf("/"))throw new Te(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(en.fromString(t));if(!Ze.isDocumentKey(r))throw new Te(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zc(n,new Ze(r))}if(t instanceof Ar)return Zc(n,t._key);throw new Te(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${NI(t)}.`)}function fM(n,e){if(!Array.isArray(n)||0===n.length)throw new Te(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pM(n,e){if(e.isInequality()){const r=Hg(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Te(re.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const u=vf(n);null!==u&&function gM(n,e,t){if(!t.isEqual(e))throw new Te(re.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,o,u)}const t=function(r,o){for(const u of r)for(const l of u.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Te(re.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class dN{convertValue(e,t="none"){switch(qc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return Ys(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new IT(dr(e.latitude),dr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lf(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(df(e));default:return null}}convertTimestamp(e){const t=zc(e);return new $n(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=en.fromString(e);at(o_(r));const o=new Ru(r.get(1),r.get(3)),u=new Ze(r.popFirst(5));return o.isEqual(t)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}class Jf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xm extends TT{constructor(e,t,r,o,u,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(LI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class jI extends xm{data(e={}){return super.data(e)}}class Rm{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Jf(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new jI(this._firestore,this._userDataWriter,r.key,r,new Jf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new jI(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Jf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const m=new jI(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Jf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,C=-1;return 0!==l.type&&(_=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),C=u.indexOf(l.doc.key)),{type:fN(l.type),doc:m,oldIndex:_,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}class qd extends dN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ar(this.firestore,null,t)}}function xT(n,e,t){n=nn(n,Ar);const r=nn(n.firestore,zn),o=function MT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return function k_(n,e){return function(t,r){const o=new pr;return t.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return function wR(n,e,t){return Gb.apply(this,arguments)}(yield function vT(n){return xI(n).then(e=>e.syncEngine)}(t),r,o)})),o.promise}($r(n),e)}(r,[DT(Am(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,In.none())])}!function(n,e=!0){hi=Do.SDK_VERSION,(0,Do._registerComponent)(new Zp.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),l=new zn(new M0(t.getProvider("auth-internal")),new x0(t.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Te(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(m.options.projectId,_)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),(0,Do.registerVersion)(S0,"3.10.1",n),(0,Do.registerVersion)(S0,"3.10.1","esm2017")}();class NT{constructor(e){return e}}const vM="firestore",OT=new h.OlP("angularfire2.firestore-instances"),AN={provide:class bN{constructor(){return(0,Tu.vb)(vM)}},deps:[[new h.FiY,OT]]},MN={provide:NT,useFactory:function TN(n,e){const t=(0,Tu.JM)(vM,n,e);return t&&new NT(t)},deps:[[new h.FiY,OT],class Rh{constructor(e){return e}}]};let _M=(()=>{class n{constructor(){(0,Kp.KN)("angularfire",Tu.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[MN,AN]}),n})();var Wd=k(7579),xN=k(6451),HI=k(5363);function pi(n,e){return(0,$i.e)((t,r)=>{let o=null,u=0,l=!1;const m=()=>l&&!o&&r.complete();t.subscribe((0,An.x)(r,_=>{o?.unsubscribe();let C=0;const S=u++;(0,pu.Xf)(n(_,S)).subscribe(o=(0,An.x)(r,N=>r.next(e?e(_,N,S,C++):N),()=>{o=null,m()}))},()=>{l=!0,m()}))})}var RN=k(6063);class NN extends Wd.x{constructor(e=1/0,t=1/0,r=RN.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!o&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const l=t.now();let m=0;for(let _=1;_<r.length&&r[_]<=l;_+=2)m=_;m&&r.splice(0,m+1)}}}var ON=k(3099);function EM(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,ON.B)({connector:()=>new NN(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const GI=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Kd=k(515);function Nm(n){return n<=0?()=>Kd.E:(0,$i.e)((e,t)=>{let r=0;e.subscribe((0,An.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function zI(n){return(0,$i.e)((e,t)=>{let r=!1;e.subscribe((0,An.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function wM(n=kN){return(0,$i.e)((e,t)=>{let r=!1;e.subscribe((0,An.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function kN(){return new GI}var qI=k(4671);function gl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gs((o,u)=>n(o,u,r)):qI.y,Nm(1),t?zI(e):wM(()=>new GI))}function IM(n,e){return(0,yy.m)(e)?pi(()=>n,e):pi(()=>n)}var PT=k(9468);const kT=new Map,DM={activated:!1,tokenObservers:[]},FN={initialized:!1,enabled:!1};function Mr(n){return kT.get(n)||Object.assign({},DM)}function WI(){return FN}const FT="https://content-firebaseappcheck.googleapis.com/v1",BN="exchangeDebugToken",CM={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class $N{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,et.Z)(function*(){t.stop();try{t.pending=new Si.BH,yield function HN(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Si.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Oi=new Si.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function UT(){return UT=(0,et.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const N=yield o.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,m;try{l=yield fetch(n,u)}catch(N){throw Oi.create("fetch-network-error",{originalErrorMessage:N?.message})}if(200!==l.status)throw Oi.create("fetch-status-error",{httpStatus:l.status});try{m=yield l.json()}catch(N){throw Oi.create("fetch-parse-error",{originalErrorMessage:N?.message})}const _=m.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Oi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(_[1]),S=Date.now();return{token:m.token,expireTimeMillis:S+C,issuedAtTimeMillis:S}}),UT.apply(this,arguments)}const KN="firebase-app-check-database",ZN=1,F_="firebase-app-check-store";let YI=null;function BT(){return BT=(0,et.Z)(function*(n,e){const r=(yield function SM(){return YI||(YI=new Promise((n,e)=>{try{const t=indexedDB.open(KN,ZN);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Oi.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(F_,{keyPath:"compositeKey"})}}catch(t){e(Oi.create("storage-open",{originalErrorMessage:t?.message}))}}),YI)}()).transaction(F_,"readwrite"),u=r.objectStore(F_).put({compositeKey:n,value:e});return new Promise((l,m)=>{u.onsuccess=_=>{l()},r.onerror=_=>{var C;m(Oi.create("storage-set",{originalErrorMessage:null===(C=_.target.error)||void 0===C?void 0:C.message}))}})}),BT.apply(this,arguments)}const L_=new ts.Yd("@firebase/app-check");function HT(n,e){return(0,Si.hl)()?function QN(n,e){return function AM(n,e){return BT.apply(this,arguments)}(function xM(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{L_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function zT(){return zT=(0,et.Z)(function*(){const n=WI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),zT.apply(this,arguments)}const rO={error:"UNKNOWN_ERROR"};function iO(n){return Si.US.encodeString(JSON.stringify(n),!1)}function QI(n){return qT.apply(this,arguments)}function qT(){return qT=(0,et.Z)(function*(n,e=!1){const t=n.app;!function bM(n){if(!Mr(n).activated)throw Oi.create("use-before-activation",{appName:n.name})}(t);const r=Mr(t);let u,o=r.token;if(o&&!Om(o)&&(r.token=void 0,o=void 0),!o){const _=yield r.cachedTokenPromise;_&&(Om(_)?o=_:yield HT(t,void 0))}if(!e&&o&&Om(o))return{token:o.token};let m,l=!1;if(function RM(){return WI().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function VT(n,e){return UT.apply(this,arguments)}(function WN(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${FT}/projects/${t}/apps/${r}:${BN}?key=${o}`,body:{debug_token:e}}}(t,yield function NM(){return zT.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const _=yield r.exchangeTokenPromise;return yield HT(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),o=yield Mr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?L_.warn(_.message):L_.error(_),u=_}return o?u?m=Om(o)?{token:o.token,internalError:u}:kM(u):(m={token:o.token},r.token=o,yield HT(t,o)):m=kM(u),l&&function PM(n,e){const t=Mr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m}),qT.apply(this,arguments)}function KT(n,e){const t=Mr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function OM(n){const{app:e}=n,t=Mr(e);let r=t.tokenRefresher;r||(r=function sO(n){const{app:e}=n;return new $N((0,et.Z)(function*(){let r;if(r=Mr(e).token?yield QI(n,!0):yield QI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Mr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},CM.RETRIAL_MIN_WAIT,CM.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Om(n){return n.expireTimeMillis-Date.now()>0}function kM(n){return{token:iO(rO),error:n}}class oO{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Mr(this.app);for(const t of e)KT(this.app,t.next);return Promise.resolve()}}const HM="app-check-internal";!function EO(){(0,Do._registerComponent)(new Zp.wA("app-check",n=>function aO(n,e){return new oO(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(HM).initialize()})),(0,Do._registerComponent)(new Zp.wA(HM,n=>function uO(n){return{getToken:e=>QI(n,e),addTokenListener:e=>function WT(n,e,t,r){const{app:o}=n,u=Mr(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Om(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),OM(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>OM(n))}(n,"INTERNAL",e),removeTokenListener:e=>KT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Do.registerVersion)("@firebase/app-check","0.6.5")}();class zM{constructor(){return(0,Tu.vb)("app-check")}}typeof window<"u"&&window;var bO=k(9260);const SO=new h.OlP("angularfire2.auth.use-emulator"),AO=new h.OlP("angularfire2.auth.settings"),MO=new h.OlP("angularfire2.auth.tenant-id"),xO=new h.OlP("angularfire2.auth.langugage-code"),RO=new h.OlP("angularfire2.auth.use-device-language"),NO=new h.OlP("angularfire.auth.persistence");let qM=(()=>{class n{constructor(t,r,o,u,l,m,_,C,S,N,B,Z){const ne=new Wd.x,Ae=vt(void 0).pipe((0,HI.Q)(l.outsideAngular),pi(()=>u.runOutsideAngular(()=>k.e(568).then(k.bind(k,9568)))),(0,xt.U)(()=>(0,bu.on)(t,u,r)),(0,xt.U)(je=>((n,e,t,r,o,u,l,m)=>(0,bu.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=o,u&&_.useDeviceLanguage(),l)for(const[C,S]of Object.entries(l))_.settings[C]=S;return m&&_.setPersistence(m),_},[t,r,o,u,l,m]))(je,u,m,C,S,N,_,B)),EM({bufferSize:1,refCount:!1}));if(function Ya(n){return"server"===n}(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=vt(null);else{Ae.pipe(gl()).subscribe();const ht=Ae.pipe(pi(Qt=>Qt.getRedirectResult().then(sn=>sn,()=>null)),Tu.iC,EM({bufferSize:1,refCount:!1})),Lt=Ae.pipe(pi(Qt=>new Bn.y(sn=>({unsubscribe:u.runOutsideAngular(()=>Qt.onAuthStateChanged(ln=>sn.next(ln),ln=>sn.error(ln),()=>sn.complete()))})))),Ot=Ae.pipe(pi(Qt=>new Bn.y(sn=>({unsubscribe:u.runOutsideAngular(()=>Qt.onIdTokenChanged(ln=>sn.next(ln),ln=>sn.error(ln),()=>sn.complete()))}))));this.authState=ht.pipe(IM(Lt),(0,PT.R)(l.outsideAngular),(0,HI.Q)(l.insideAngular)),this.user=ht.pipe(IM(Ot),(0,PT.R)(l.outsideAngular),(0,HI.Q)(l.insideAngular)),this.idToken=this.user.pipe(pi(Qt=>Qt?(0,Wt.D)(Qt.getIdToken()):vt(null))),this.idTokenResult=this.user.pipe(pi(Qt=>Qt?(0,Wt.D)(Qt.getIdTokenResult()):vt(null))),this.credential=(0,xN.T)(ht,ne,this.authState.pipe(Gs(Qt=>!Qt))).pipe((0,xt.U)(Qt=>Qt?.user?Qt:null),(0,PT.R)(l.outsideAngular),(0,HI.Q)(l.insideAngular))}return(0,bu.pX)(this,Ae,u,{spy:{apply:(je,ht,Lt)=>{(je.startsWith("signIn")||je.startsWith("createUser"))&&Lt.then(Ot=>ne.next(Ot))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(bu.Dh),h.LFG(bu.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Tu.HU),h.LFG(SO,8),h.LFG(AO,8),h.LFG(MO,8),h.LFG(xO,8),h.LFG(RO,8),h.LFG(NO,8),h.LFG(zM,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),PO=(()=>{class n{constructor(){bO.Z.registerVersion("angularfire",Tu.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[qM]}),n})();const WM_firebaseConfig={apiKey:"AIzaSyCcyrXNP5AEjXxgPNRlSfeHlocU7Vy8ni8",authDomain:"discuss-4e370.firebaseapp.com",projectId:"discuss-4e370",storageBucket:"discuss-4e370.appspot.com",messagingSenderId:"666798415646",appId:"1:666798415646:web:dd0b54f8736f704119f30f"};class Ha extends Wd.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var kO=k(9672);function KM(...n){const e=(0,yo.yG)(n),t=(0,yo.jO)(n),{args:r,keys:o}=Ec(n);if(0===r.length)return(0,Wt.D)([],e);const u=new Bn.y(function FO(n,e,t=qI.y){return r=>{ZM(e,()=>{const{length:o}=n,u=new Array(o);let l=o,m=o;for(let _=0;_<o;_++)ZM(e,()=>{const C=(0,Wt.D)(n[_],e);let S=!1;C.subscribe((0,An.x)(r,N=>{u[_]=N,S||(S=!0,m--),m||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,o?l=>pa(o,l):qI.y));return t?u.pipe(kr(t)):u}function ZM(n,e,t){n?(0,kO.f)(t,n,e):e()}var V_=k(8189);function XT(...n){return function LO(){return(0,V_.J)(1)}()((0,Wt.D)(n,(0,yo.yG)(n)))}function YM(n){return new Bn.y(e=>{(0,pu.Xf)(n()).subscribe(e)})}var VO=k(9635);function U_(n,e){const t=(0,yy.m)(n)?n:()=>n,r=o=>o.error(t());return new Bn.y(e?o=>e.schedule(r,0,o):r)}var QM=k(727);function eS(){return(0,$i.e)((n,e)=>{let t=null;n._refCount++;const r=(0,An.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class JM extends Bn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,$i.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new QM.w0;const t=this.getSubject();e.add(this.source.subscribe((0,An.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=QM.w0.EMPTY)}return e}refCount(){return eS()(this)}}var Ki=k(8505);function Zd(n){return(0,$i.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,An.x)(t,void 0,void 0,l=>{u=(0,pu.Xf)(n(l,Zd(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function XM(n,e){return(0,$i.e)(function BO(n,e,t,r,o){return(u,l)=>{let m=t,_=e,C=0;u.subscribe((0,An.x)(l,S=>{const N=C++;_=m?n(_,S,N):(m=!0,S),r&&l.next(_)},o&&(()=>{m&&l.next(_),l.complete()})))}}(n,e,arguments.length>=2,!0))}function tS(n){return n<=0?()=>Kd.E:(0,$i.e)((e,t)=>{let r=[];e.subscribe((0,An.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function ex(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gs((o,u)=>n(o,u,r)):qI.y,tS(1),t?zI(e):wM(()=>new GI))}function nS(n){return(0,$i.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ht="primary",B_=Symbol("RouteTitle");class HO{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Pm(n){return new HO(n)}function GO(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const l=r[u],m=n[u];if(l.startsWith(":"))o[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function $u(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!tx(n[o],e[o]))return!1;return!0}function tx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function nx(n){return Array.prototype.concat.apply([],n)}function rx(n){return n.length>0?n[n.length-1]:null}function Pi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Yd(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,Wt.D)(Promise.resolve(n)):vt(n)}const XI=!1,qO={exact:function ox(n,e,t){if(!Xf(n.segments,e.segments)||!eD(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ox(n.children[r],e.children[r],t))return!1;return!0},subset:ax},ix={exact:function WO(n,e){return $u(n,e)},subset:function KO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>tx(n[t],e[t]))},ignored:()=>!0};function sx(n,e,t){return qO[t.paths](n.root,e.root,t.matrixParams)&&ix[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ax(n,e,t){return ux(n,e,e.segments,t)}function ux(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Xf(o,t)||e.hasChildren()||!eD(o,t,r))}if(n.segments.length===t.length){if(!Xf(n.segments,t)||!eD(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!ax(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Xf(n.segments,o)&&eD(n.segments,o,r)&&n.children[Ht])&&ux(n.children[Ht],e,u,r)}}function eD(n,e,t){return e.every((r,o)=>ix[t](n[o].parameters,r.parameters))}class Qd{constructor(e=new Yt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pm(this.queryParams)),this._queryParamMap}toString(){return QO.serialize(this)}}class Yt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Pi(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tD(this)}}class j_{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Pm(this.parameters)),this._parameterMap}toString(){return dx(this)}}function Xf(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let $_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new rS},providedIn:"root"}),n})();class rS{parse(e){const t=new oP(e);return new Qd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${H_(e.root,!0)}`,r=function eP(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${nD(t)}=${nD(o)}`).join("&"):`${nD(t)}=${nD(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),o="string"==typeof e.fragment?`#${function JO(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${o}`}}const QO=new rS;function tD(n){return n.segments.map(e=>dx(e)).join("/")}function H_(n,e){if(!n.hasChildren())return tD(n);if(e){const t=n.children[Ht]?H_(n.children[Ht],!1):"",r=[];return Pi(n.children,(o,u)=>{u!==Ht&&r.push(`${u}:${H_(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function YO(n,e){let t=[];return Pi(n.children,(r,o)=>{o===Ht&&(t=t.concat(e(r,o)))}),Pi(n.children,(r,o)=>{o!==Ht&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ht?[H_(n.children[Ht],!1)]:[`${o}:${H_(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ht]?`${tD(n)}/${t[0]}`:`${tD(n)}/(${t.join("//")})`}}function cx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nD(n){return cx(n).replace(/%3B/gi,";")}function iS(n){return cx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rD(n){return decodeURIComponent(n)}function lx(n){return rD(n.replace(/\+/g,"%20"))}function dx(n){return`${iS(n.path)}${function XO(n){return Object.keys(n).map(e=>`;${iS(e)}=${iS(n[e])}`).join("")}(n.parameters)}`}const tP=/^[^\/()?;=#]+/;function iD(n){const e=n.match(tP);return e?e[0]:""}const nP=/^[^=?&#]+/,iP=/^[^&#]+/;class oP{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ht]=new Yt(e,t)),r}parseSegment(){const e=iD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,XI);return this.capture(e),new j_(rD(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=iD(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=iD(this.remaining);o&&(r=o,this.capture(r))}e[rD(t)]=rD(r)}parseQueryParam(e){const t=function rP(n){const e=n.match(nP);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function sP(n){const e=n.match(iP);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=lx(t),u=lx(r);if(e.hasOwnProperty(o)){let l=e[o];Array.isArray(l)||(l=[l],e[o]=l),l.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=iD(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new h.vHH(4010,XI);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ht);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[Ht]:new Yt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,XI)}}function sS(n){return n.segments.length>0?new Yt([],{[Ht]:n}):n}function sD(n){const e={};for(const r of Object.keys(n.children)){const u=sD(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function aP(n){if(1===n.numberOfChildren&&n.children[Ht]){const e=n.children[Ht];return new Yt(n.segments.concat(e.segments),e.children)}return n}(new Yt(n.segments,e))}function ep(n){return n instanceof Qd}const oS=!1;function uP(n,e,t,r,o){if(0===t.length)return km(e.root,e.root,e.root,r,o);const u=function mx(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gx(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Pi(u.outlets,(_,C)=>{m[C]="string"==typeof _?_.split("/"):_}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===l?(u.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new gx(t,e,r)}(t);return u.toRoot()?km(e.root,e.root,new Yt([],{}),r,o):function l(_){const C=function lP(n,e,t,r){if(n.isAbsolute)return new Fm(e.root,!0,0);if(-1===r)return new Fm(t,t===e.root,0);return function yx(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new h.vHH(4005,oS&&"Invalid number of '../'");o=r.segments.length}return new Fm(r,!1,o-u)}(t,r+(G_(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),S=C.processChildren?Lm(C.segmentGroup,C.index,u.commands):aS(C.segmentGroup,C.index,u.commands);return km(e.root,C.segmentGroup,S,r,o)}(n.snapshot?._lastPathIndex)}function G_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function z_(n){return"object"==typeof n&&null!=n&&n.outlets}function km(n,e,t,r,o){let l,u={};r&&Pi(r,(_,C)=>{u[C]=Array.isArray(_)?_.map(S=>`${S}`):`${_}`}),l=n===e?t:px(n,e,t);const m=sS(sD(l));return new Qd(m,u,o)}function px(n,e,t){const r={};return Pi(n.children,(o,u)=>{r[u]=o===e?t:px(o,e,t)}),new Yt(n.segments,r)}class gx{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&G_(r[0]))throw new h.vHH(4003,oS&&"Root segment cannot have matrix parameters");const o=r.find(z_);if(o&&o!==rx(r))throw new h.vHH(4004,oS&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fm{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function aS(n,e,t){if(n||(n=new Yt([],{})),0===n.segments.length&&n.hasChildren())return Lm(n,e,t);const r=function hP(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const l=n.segments[o],m=t[r];if(z_(m))break;const _=`${m}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===_)break;if(_&&C&&"object"==typeof C&&void 0===C.outlets){if(!_x(_,C,l))return u;r+=2}else{if(!_x(_,{},l))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Yt(n.segments.slice(0,r.pathIndex),{});return u.children[Ht]=new Yt(n.segments.slice(r.pathIndex),n.children),Lm(u,0,o)}return r.match&&0===o.length?new Yt(n.segments,{}):r.match&&!n.hasChildren()?uS(n,e,t):r.match?Lm(n,0,o):uS(n,e,t)}function Lm(n,e,t){if(0===t.length)return new Yt(n.segments,{});{const r=function dP(n){return z_(n[0])?n[0].outlets:{[Ht]:n}}(t),o={};if(!r[Ht]&&n.children[Ht]&&1===n.numberOfChildren&&0===n.children[Ht].segments.length){const u=Lm(n.children[Ht],e,t);return new Yt(n.segments,u.children)}return Pi(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[l]=aS(n.children[l],e,u))}),Pi(n.children,(u,l)=>{void 0===r[l]&&(o[l]=u)}),new Yt(n.segments,o)}}function uS(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(z_(u)){const _=fP(u.outlets);return new Yt(r,_)}if(0===o&&G_(t[0])){r.push(new j_(n.segments[e].path,vx(t[0]))),o++;continue}const l=z_(u)?u.outlets[Ht]:`${u}`,m=o<t.length-1?t[o+1]:null;l&&m&&G_(m)?(r.push(new j_(l,vx(m))),o+=2):(r.push(new j_(l,{})),o++)}return new Yt(r,{})}function fP(n){const e={};return Pi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=uS(new Yt([],{}),0,t))}),e}function vx(n){const e={};return Pi(n,(t,r)=>e[r]=`${t}`),e}function _x(n,e,t){return n==t.path&&$u(e,t.parameters)}const q_="imperative";class Hu{constructor(e,t){this.id=e,this.url=t}}class cS extends Hu{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tp extends Hu{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class oD extends Hu{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class aD extends Hu{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class lS extends Hu{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pP extends Hu{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gP extends Hu{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mP extends Hu{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yP extends Hu{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vP extends Hu{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _P{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class EP{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wP{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IP{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DP{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CP{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ex{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let SP=(()=>{class n{createUrlTree(t,r,o,u,l,m){return uP(t||r.root,o,u,l,m)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),MP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(e){return SP.\u0275fac(e)},providedIn:"root"}),n})();class wx{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=dS(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=dS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=hS(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return hS(e,this._root).map(t=>t.value)}}function dS(n,e){if(n===e.value)return e;for(const t of e.children){const r=dS(n,t);if(r)return r}return null}function hS(n,e){if(n===e.value)return[e];for(const t of e.children){const r=hS(n,t);if(r.length)return r.unshift(e),r}return[]}class ml{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Vm(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ix extends wx{constructor(e,t){super(e),this.snapshot=t,fS(this,e)}toString(){return this.snapshot.toString()}}function Dx(n,e){const t=function xP(n,e){const l=new uD([],{},{},"",{},Ht,e,null,n.root,-1,{});return new bx("",new ml(l,[]))}(n,e),r=new Ha([new j_("",{})]),o=new Ha({}),u=new Ha({}),l=new Ha({}),m=new Ha(""),_=new Um(r,o,l,m,u,Ht,e,t.root);return _.snapshot=t.root,new Ix(new ml(_,[]),t)}class Um{constructor(e,t,r,o,u,l,m,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=m,this.title=this.data?.pipe((0,xt.U)(C=>C[B_]))??vt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(e=>Pm(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(e=>Pm(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cx(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function RP(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class uD{get title(){return this.data?.[B_]}constructor(e,t,r,o,u,l,m,_,C,S,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=m,this.routeConfig=_,this._urlSegment=C,this._lastPathIndex=S,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bx extends wx{constructor(e,t){super(t),this.url=e,fS(this,t)}toString(){return Tx(this._root)}}function fS(n,e){e.value._routerState=n,e.children.forEach(t=>fS(n,t))}function Tx(n){const e=n.children.length>0?` { ${n.children.map(Tx).join(", ")} } `:"";return`${n.value}${e}`}function pS(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$u(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$u(e.params,t.params)||n.params.next(t.params),function zO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$u(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$u(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function gS(n,e){const t=$u(n.params,e.params)&&function ZO(n,e){return Xf(n,e)&&n.every((t,r)=>$u(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||gS(n.parent,e.parent))}function W_(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function OP(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return W_(n,r,o);return W_(n,r)})}(n,e,t);return new ml(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>W_(n,m)),l}}const r=function PP(n){return new Um(new Ha(n.url),new Ha(n.params),new Ha(n.queryParams),new Ha(n.fragment),new Ha(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>W_(n,u));return new ml(r,o)}}const mS="ngNavigationCancelingError";function Sx(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ep(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Ax(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function Ax(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[mS]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Mx(n){return xx(n)&&ep(n.url)}function xx(n){return n&&n[mS]}class kP{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new K_,this.attachRef=null}}let K_=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new kP,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cD=!1;let Rx=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(K_),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,cD);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,cD);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,cD);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,cD);this._activatedRoute=t;const o=this.location,l=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,_=new FP(t,m,o.injector);if(r&&function LP(n){return!!n.resolveComponentFactory}(r)){const C=r.resolveComponentFactory(l);this.activated=o.createComponent(C,o.length,_)}else this.activated=o.createComponent(l,{index:o.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class FP{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Um?this.route:e===K_?this.childContexts:this.parent.get(e,t)}}let yS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[Rx],encapsulation:2}),n})();function Nx(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _S(n){const e=n.children&&n.children.map(_S),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ht&&(t.component=yS),t}function Po(n){return n.outlet||Ht}function Ox(n,e){const t=n.filter(r=>Po(r)===e);return t.push(...n.filter(r=>Po(r)!==e)),t}function Z_(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class $P{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),pS(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Vm(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,o[l],r),delete o[l]}),Pi(o,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Vm(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Vm(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Vm(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new CP(u.value.snapshot))}),e.children.length&&this.forwardEvent(new IP(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(pS(o),o===u)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),pS(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=Z_(o.snapshot),_=m?.get(h._Vd)??null;l.attachRef=null,l.route=o,l.resolver=_,l.injector=m,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Px{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class lD{constructor(e,t){this.component=e,this.route=t}}function HP(n,e,t){const r=n._root;return Y_(r,e?e._root:null,t,[r.value])}function Bm(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function Y_(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Vm(e);return n.children.forEach(l=>{(function zP(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const _=function qP(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Xf(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Xf(n.url,e.url)||!$u(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gS(n,e)||!$u(n.queryParams,e.queryParams);default:return!gS(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);_?o.canActivateChecks.push(new Px(r)):(u.data=l.data,u._resolvedData=l._resolvedData),Y_(n,e,u.component?m?m.children:null:t,r,o),_&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new lD(m.outlet.component,l))}else l&&Q_(e,m,o),o.canActivateChecks.push(new Px(r)),Y_(n,null,u.component?m?m.children:null:t,r,o)})(l,u[l.value.outlet],t,r.concat([l.value]),o),delete u[l.value.outlet]}),Pi(u,(l,m)=>Q_(l,t.getContext(m),o)),o}function Q_(n,e,t){const r=Vm(n),o=n.value;Pi(r,(u,l)=>{Q_(u,o.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new lD(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function J_(n){return"function"==typeof n}function ES(n){return n instanceof GI||"EmptyError"===n?.name}const dD=Symbol("INITIAL_VALUE");function jm(){return pi(n=>KM(n.map(e=>e.pipe(Nm(1),function UO(...n){const e=(0,yo.yG)(n);return(0,$i.e)((t,r)=>{(e?XT(n,t,e):XT(n,t)).subscribe(r)})}(dD)))).pipe((0,xt.U)(e=>{for(const t of e)if(!0!==t){if(t===dD)return dD;if(!1===t||t instanceof Qd)return t}return!0}),Gs(e=>e!==dD),Nm(1)))}function kx(n){return(0,VO.z)((0,Ki.b)(e=>{if(ep(e))throw Sx(0,e)}),(0,xt.U)(e=>!0===e))}const wS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fx(n,e,t,r,o){const u=IS(n,e,t);return u.matched?function ck(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?vt(o.map(l=>{const m=Bm(l,n);return Yd(function JP(n){return n&&J_(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(jm(),kx()):vt(!0)}(r=Nx(e,r),e,t).pipe((0,xt.U)(l=>!0===l?u:{...wS})):vt(u)}function IS(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...wS}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||GO)(t,n,e);if(!o)return{...wS};const u={};Pi(o.posParams,(m,_)=>{u[_]=m.path});const l=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function hD(n,e,t,r){if(t.length>0&&function hk(n,e,t){return t.some(r=>fD(n,e,r)&&Po(r)!==Ht)}(n,t,r)){const u=new Yt(e,function dk(n,e,t,r){const o={};o[Ht]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Po(u)!==Ht){const l=new Yt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,o[Po(u)]=l}return o}(n,e,r,new Yt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function fk(n,e,t){return t.some(r=>fD(n,e,r))}(n,t,r)){const u=new Yt(n.segments,function lk(n,e,t,r,o){const u={};for(const l of r)if(fD(n,t,l)&&!o[Po(l)]){const m=new Yt([],{});m._sourceSegment=n,m._segmentIndexShift=e.length,u[Po(l)]=m}return{...o,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const o=new Yt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function fD(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Lx(n,e,t,r){return!!(Po(n)===r||r!==Ht&&fD(e,t,n))&&("**"===n.path||IS(e,n,t).matched)}function Vx(n,e,t){return 0===e.length&&!n.children[t]}const pD=!1;class gD{constructor(e){this.segmentGroup=e||null}}class Ux{constructor(e){this.urlTree=e}}function X_(n){return U_(new gD(n))}function Bx(n){return U_(new Ux(n))}function pk(n){return U_(new h.vHH(4e3,pD&&`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class yk{constructor(e,t,r,o,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const e=hD(this.urlTree.root,[],[],this.config).segmentGroup,t=new Yt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ht).pipe((0,xt.U)(u=>this.createUrlTree(sD(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zd(u=>{if(u instanceof Ux)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof gD?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ht).pipe((0,xt.U)(o=>this.createUrlTree(sD(o),e.queryParams,e.fragment))).pipe(Zd(o=>{throw o instanceof gD?this.noMatchError(o):o}))}noMatchError(e){return new h.vHH(4002,pD&&`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=sS(e);return new Qd(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,xt.U)(u=>new Yt([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Wt.D)(o).pipe(wu(u=>{const l=r.children[u],m=Ox(t,u);return this.expandSegmentGroup(e,m,l,u).pipe((0,xt.U)(_=>({segment:_,outlet:u})))}),XM((u,l)=>(u[l.outlet]=l.segment,u),{}),ex())}expandSegment(e,t,r,o,u,l){return(0,Wt.D)(r).pipe(wu(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,l).pipe(Zd(C=>{if(C instanceof gD)return vt(null);throw C}))),gl(m=>!!m),Zd((m,_)=>{if(ES(m))return Vx(t,o,u)?vt(new Yt([],{})):X_(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,l,m){return Lx(o,t,u,l)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,l):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l):X_(t):X_(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Bx(u):this.lineralizeSegments(r,u).pipe((0,li.z)(l=>{const m=new Yt(l,{});return this.expandSegment(e,m,t,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){const{matched:m,consumedSegments:_,remainingSegments:C,positionalParamSegments:S}=IS(t,o,u);if(!m)return X_(t);const N=this.applyRedirectCommands(_,o.redirectTo,S);return o.redirectTo.startsWith("/")?Bx(N):this.lineralizeSegments(o,N).pipe((0,li.z)(B=>this.expandSegment(e,t,r,B.concat(C),l,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){return"**"===r.path?(e=Nx(r,e),r.loadChildren?(r._loadedRoutes?vt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,xt.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Yt(o,{})))):vt(new Yt(o,{}))):Fx(t,r,o,e).pipe(pi(({matched:l,consumedSegments:m,remainingSegments:_})=>l?this.getChildConfig(e=r._injector??e,r,o).pipe((0,li.z)(S=>{const N=S.injector??e,B=S.routes,{segmentGroup:Z,slicedSegments:ne}=hD(t,m,_,B),Ae=new Yt(Z.segments,Z.children);if(0===ne.length&&Ae.hasChildren())return this.expandChildren(N,B,Ae).pipe((0,xt.U)(Ot=>new Yt(m,Ot)));if(0===B.length&&0===ne.length)return vt(new Yt(m,{}));const je=Po(r)===u;return this.expandSegment(N,Ae,B,ne,je?Ht:u,!0).pipe((0,xt.U)(Lt=>new Yt(m.concat(Lt.segments),Lt.children)))})):X_(t)))}getChildConfig(e,t,r){return t.children?vt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?vt({routes:t._loadedRoutes,injector:t._loadedInjector}):function uk(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?vt(!0):vt(o.map(l=>{const m=Bm(l,n);return Yd(function KP(n){return n&&J_(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(jm(),kx())}(e,t,r).pipe((0,li.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Ki.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function gk(n){return U_(Ax(pD&&`Cannot load children because the guard of the route "path: '${n.path}'" returned false`,3))}(t))):vt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return vt(r);if(o.numberOfChildren>1||!o.children[Ht])return pk(e.redirectTo);o=o.children[Ht]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Qd(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Pi(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let l={};return Pi(t.children,(m,_)=>{l[_]=this.createSegmentGroup(e,m,r,o)}),new Yt(u,l)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new h.vHH(4001,pD&&`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class _k{}class Ik{constructor(e,t,r,o,u,l,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=l,this.urlSerializer=m}recognize(){const e=hD(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ht).pipe((0,xt.U)(t=>{if(null===t)return null;const r=new uD([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new ml(r,t),u=new bx(this.url,o);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=Cx(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,Wt.D)(Object.keys(r.children)).pipe(wu(o=>{const u=r.children[o],l=Ox(t,o);return this.processSegmentGroup(e,l,u,o)}),XM((o,u)=>o&&u?(o.push(...u),o):null),function jO(n,e=!1){return(0,$i.e)((t,r)=>{let o=0;t.subscribe((0,An.x)(r,u=>{const l=n(u,o++);(l||e)&&r.next(u),!l&&r.complete()}))})}(o=>null!==o),zI(null),ex(),(0,xt.U)(o=>{if(null===o)return null;const u=$x(o);return function Dk(n){n.sort((e,t)=>e.value.outlet===Ht?-1:t.value.outlet===Ht?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,o,u){return(0,Wt.D)(t).pipe(wu(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,o,u)),gl(l=>!!l),Zd(l=>{if(ES(l))return Vx(r,o,u)?vt([]):vt(null);throw l}))}processSegmentAgainstRoute(e,t,r,o,u){if(t.redirectTo||!Lx(t,r,o,u))return vt(null);let l;if("**"===t.path){const m=o.length>0?rx(o).parameters:{},_=Gx(r)+o.length;l=vt({snapshot:new uD(o,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zx(t),Po(t),t.component??t._loadedComponent??null,t,Hx(r),_,qx(t)),consumedSegments:[],remainingSegments:[]})}else l=Fx(r,t,o,e).pipe((0,xt.U)(({matched:m,consumedSegments:_,remainingSegments:C,parameters:S})=>{if(!m)return null;const N=Gx(r)+_.length;return{snapshot:new uD(_,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zx(t),Po(t),t.component??t._loadedComponent??null,t,Hx(r),N,qx(t)),consumedSegments:_,remainingSegments:C}}));return l.pipe(pi(m=>{if(null===m)return vt(null);const{snapshot:_,consumedSegments:C,remainingSegments:S}=m;e=t._injector??e;const N=t._loadedInjector??e,B=function Ck(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Z,slicedSegments:ne}=hD(r,C,S,B.filter(je=>void 0===je.redirectTo));if(0===ne.length&&Z.hasChildren())return this.processChildren(N,B,Z).pipe((0,xt.U)(je=>null===je?null:[new ml(_,je)]));if(0===B.length&&0===ne.length)return vt([new ml(_,[])]);const Ae=Po(t)===u;return this.processSegment(N,B,Z,ne,Ae?Ht:u).pipe((0,xt.U)(je=>null===je?null:[new ml(_,je)]))}))}}function bk(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function $x(n){const e=[],t=new Set;for(const r of n){if(!bk(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=$x(r.children);e.push(new ml(r.value,o))}return e.filter(r=>!t.has(r))}function Hx(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Gx(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function zx(n){return n.data||{}}function qx(n){return n.resolve||{}}function Wx(n){return"string"==typeof n.title||null===n.title}function DS(n){return pi(e=>{const t=n(e);return t?(0,Wt.D)(t).pipe((0,xt.U)(()=>e)):vt(e)})}const $m=new h.OlP("ROUTES");let CS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return vt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Yd(t.loadComponent()).pipe((0,xt.U)(Zx),(0,Ki.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),nS(()=>{this.componentLoaders.delete(t)})),o=new JM(r,()=>new Wd.x).pipe(eS());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return vt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,xt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,C,S=!1;Array.isArray(m)?C=m:(_=m.create(t).injector,C=nx(_.get($m,[],h.XFs.Self|h.XFs.Optional)));return{routes:C.map(_S),injector:_}}),nS(()=>{this.childrenLoaders.delete(r)})),l=new JM(u,()=>new Wd.x).pipe(eS());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return Yd(t()).pipe((0,xt.U)(Zx),(0,li.z)(r=>r instanceof h.YKP||Array.isArray(r)?vt(r):(0,Wt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zx(n){return function Ok(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let yD=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Wd.x,this.configLoader=(0,h.f3M)(CS),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)($_),this.rootContexts=(0,h.f3M)(K_),this.navigationId=0,this.afterPreactivation=()=>vt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new EP(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new _P(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Ha({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:q_,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gs(r=>0!==r.id),(0,xt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),pi(r=>{let o=!1,u=!1;return vt(r).pipe((0,Ki.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pi(l=>{const m=t.browserUrlTree.toString(),_=!t.navigated||l.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!_&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new aD(l.id,t.serializeUrl(r.rawUrl),S,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Kd.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Yx(l.source)&&(t.browserUrlTree=l.extractedUrl),vt(l).pipe(pi(S=>{const N=this.transitions?.getValue();return this.events.next(new cS(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),N!==this.transitions?.getValue()?Kd.E:Promise.resolve(S)}),function vk(n,e,t,r){return pi(o=>function mk(n,e,t,r,o){return new yk(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,xt.U)(u=>({...o,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Ki.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function Sk(n,e,t,r,o){return(0,li.z)(u=>function wk(n,e,t,r,o,u,l="emptyOnly"){return new Ik(n,e,t,r,o,l,u).recognize().pipe(pi(m=>null===m?function Ek(n){return new Bn.y(e=>e.error(n))}(new _k):vt(m)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,o).pipe((0,xt.U)(l=>({...u,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Ki.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const B=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl(B,S)}t.browserUrlTree=S.urlAfterRedirects}const N=new pP(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(N)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:N,source:B,restoredState:Z,extras:ne}=l,Ae=new cS(S,this.urlSerializer.serialize(N),B,Z);this.events.next(Ae);const je=Dx(N,this.rootComponentType).snapshot;return vt(r={...l,targetSnapshot:je,urlAfterRedirects:N,extras:{...ne,skipLocationChange:!1,replaceUrl:!1}})}{const S="";return this.events.next(new aD(l.id,t.serializeUrl(r.extractedUrl),S,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Kd.E}}),(0,Ki.b)(l=>{const m=new gP(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(m)}),(0,xt.U)(l=>r={...l,guards:HP(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function ek(n,e){return(0,li.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?vt({...t,guardsResult:!0}):function tk(n,e,t,r){return(0,Wt.D)(n).pipe((0,li.z)(o=>function ak(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?vt(u.map(m=>{const _=Z_(e)??o,C=Bm(m,_);return Yd(function QP(n){return n&&J_(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):_.runInContext(()=>C(n,e,t,r))).pipe(gl())})).pipe(jm()):vt(!0)}(o.component,o.route,t,e,r)),gl(o=>!0!==o,!0))}(l,r,o,n).pipe((0,li.z)(m=>m&&function WP(n){return"boolean"==typeof n}(m)?function nk(n,e,t,r){return(0,Wt.D)(e).pipe(wu(o=>XT(function ik(n,e){return null!==n&&e&&e(new wP(n)),vt(!0)}(o.route.parent,r),function rk(n,e){return null!==n&&e&&e(new DP(n)),vt(!0)}(o.route,r),function ok(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function GP(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>YM(()=>vt(l.guards.map(_=>{const C=Z_(l.node)??t,S=Bm(_,C);return Yd(function YP(n){return n&&J_(n.canActivateChild)}(S)?S.canActivateChild(r,n):C.runInContext(()=>S(r,n))).pipe(gl())})).pipe(jm())));return vt(u).pipe(jm())}(n,o.path,t),function sk(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return vt(!0);const o=r.map(u=>YM(()=>{const l=Z_(e)??t,m=Bm(u,l);return Yd(function ZP(n){return n&&J_(n.canActivate)}(m)?m.canActivate(e,n):l.runInContext(()=>m(e,n))).pipe(gl())}));return vt(o).pipe(jm())}(n,o.route,t))),gl(o=>!0!==o,!0))}(r,u,n,e):vt(m)),(0,xt.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Ki.b)(l=>{if(r.guardsResult=l.guardsResult,ep(l.guardsResult))throw Sx(0,l.guardsResult);const m=new mP(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(m)}),Gs(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),DS(l=>{if(l.guards.canActivateChecks.length)return vt(l).pipe((0,Ki.b)(m=>{const _=new yP(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}),pi(m=>{let _=!1;return vt(m).pipe(function Ak(n,e){return(0,li.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return vt(t);let u=0;return(0,Wt.D)(o).pipe(wu(l=>function Mk(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!Wx(o)&&(u[B_]=o.title),function xk(n,e,t,r){const o=function Rk(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return vt({});const u={};return(0,Wt.D)(o).pipe((0,li.z)(l=>function Nk(n,e,t,r){const o=Z_(e)??r,u=Bm(n,o);return Yd(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(gl(),(0,Ki.b)(m=>{u[l]=m}))),tS(1),function $O(n){return(0,xt.U)(()=>n)}(u),Zd(l=>ES(l)?Kd.E:U_(l)))}(u,n,e,r).pipe((0,xt.U)(l=>(n._resolvedData=l,n.data=Cx(n,t).resolve,o&&Wx(o)&&(n.data[B_]=o.title),null)))}(l.route,r,n,e)),(0,Ki.b)(()=>u++),tS(1),(0,li.z)(l=>u===o.length?vt(t):Kd.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Ki.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,Ki.b)(m=>{const _=new vP(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}))}),DS(l=>{const m=_=>{const C=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Ki.b)(S=>{_.component=S}),(0,xt.U)(()=>{})));for(const S of _.children)C.push(...m(S));return C};return KM(m(l.targetSnapshot.root)).pipe(zI(),Nm(1))}),DS(()=>this.afterPreactivation()),(0,xt.U)(l=>{const m=function NP(n,e,t){const r=W_(n,e._root,t?t._root:void 0);return new Ix(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:m}}),(0,Ki.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,xt.U)(r=>(new $P(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),Nm(1),(0,Ki.b)({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new tp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),nS(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Zd(l=>{if(u=!0,xx(l)){Mx(l)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new oD(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(m),Mx(l)){const _=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Yx(r.source)};t.scheduleNavigation(_,q_,null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new lS(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(l))}catch(_){r.reject(_)}}return Kd.E}))}))}cancelNavigationTransition(t,r,o){const u=new oD(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yx(n){return n!==q_}let Qx=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===Ht);return r}getResolvedTitleForRoute(t){return t.data[B_]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Pk)},providedIn:"root"}),n})(),Pk=(()=>{class n extends Qx{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(po))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Lk)},providedIn:"root"}),n})();class Fk{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Lk=(()=>{class n extends Fk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vD=new h.OlP("",{providedIn:"root",factory:()=>({})});let Uk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Bk)},providedIn:"root"}),n})(),Bk=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jk(n){throw n}function $k(n,e,t){return e.parse("/")}const Hk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Js=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(vD,{optional:!0})||{},this.errorHandler=this.options.errorHandler||jk,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$k,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(Uk),this.routeReuseStrategy=(0,h.f3M)(kk),this.urlCreationStrategy=(0,h.f3M)(MP),this.titleStrategy=(0,h.f3M)(Qx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=nx((0,h.f3M)($m,{optional:!0})??[]),this.navigationTransitions=(0,h.f3M)(yD),this.urlSerializer=(0,h.f3M)($_),this.location=(0,h.f3M)(Pe),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Dx(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),q_,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const u={replaceUrl:!0},l=o?.navigationId?o:null;if(o){const _={...o};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(u.state=_)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(_S),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:l,queryParamsHandling:m,preserveFragment:_}=r,C=_?this.currentUrlTree.fragment:l;let S=null;switch(m){case"merge":S={...this.currentUrlTree.queryParams,...u};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}return null!==S&&(S=this.removeEmptyProps(S)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,S,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=ep(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,q_,null,r)}navigate(t,r={skipLocationChange:!1}){return function zk(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new h.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...Hk}:!1===r?{...Gk}:r,ep(t))return sx(this.currentUrlTree,t,o);const u=this.parseUrl(t);return sx(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(t,r,o,u,l){if(this.disposed)return Promise.resolve(!1);let m,_,C,S;return l?(m=l.resolve,_=l.reject,C=l.promise):C=new Promise((N,B)=>{m=N,_=B}),S="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:S,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:m,reject:_,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(N=>Promise.reject(N))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Jx{}let Kk=(()=>{class n{constructor(t,r,o,u,l){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Gs(t=>t instanceof tp),wu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,m=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,Wt.D)(o).pipe((0,V_.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):vt(null);const u=o.pipe((0,li.z)(l=>null===l?vt(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Wt.D)([u,l]).pipe((0,V_.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Js),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(Jx),h.LFG(CS))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SS=new h.OlP("");let Xx=(()=>{class n{constructor(t,r,o,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof cS?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof tp&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ex&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ex(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();var Xs=(()=>((Xs=Xs||{})[Xs.COMPLETE=0]="COMPLETE",Xs[Xs.FAILED=1]="FAILED",Xs[Xs.REDIRECTING=2]="REDIRECTING",Xs))();const Hm=!1;function Jd(n,e){return{\u0275kind:n,\u0275providers:e}}const AS=new h.OlP("",{providedIn:"root",factory:()=>!1});function tR(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Js),o=n.get(nR);1===n.get(MS)&&r.initialNavigation(),n.get(rR,null,h.XFs.Optional)?.setUpPreloading(),n.get(SS,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const nR=new h.OlP(Hm?"bootstrap done indicator":"",{factory:()=>new Wd.x}),MS=new h.OlP(Hm?"initial navigation":"",{providedIn:"root",factory:()=>1});function Xk(){let n=[];return n=Hm?[{provide:h.Xts,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Js);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function bP(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Jd(1,n)}const rR=new h.OlP(Hm?"router preloader":"");function e1(n){return Jd(0,[{provide:rR,useExisting:Kk},{provide:Jx,useExisting:n}])}const eE=!1,iR=new h.OlP(eE?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),t1=[Pe,{provide:$_,useClass:rS},Js,K_,{provide:Um,useFactory:function eR(n){return n.routerState.root},deps:[Js]},CS,eE?{provide:AS,useValue:!0}:[]];function n1(){return new h.PXZ("Router",Js)}let sR=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[t1,eE&&r?.enableTracing?Xk().\u0275providers:[],{provide:$m,multi:!0,useValue:t},{provide:iR,useFactory:o1,deps:[[Js,new h.FiY,new h.tp0]]},{provide:vD,useValue:r||{}},r?.useHash?{provide:it,useClass:ve}:{provide:it,useClass:me},{provide:SS,useFactory:()=>{const n=(0,h.f3M)($o),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(vD),r=(0,h.f3M)(yD),o=(0,h.f3M)($_);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Xx(o,r,n,e,t)}},r?.preloadingStrategy?e1(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:n1},r?.initialNavigation?a1(r):[],[{provide:oR,useFactory:tR},{provide:h.tb,multi:!0,useExisting:oR}]]}}static forChild(t){return{ngModule:n,providers:[{provide:$m,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(iR,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[yS]}),n})();function o1(n){if(eE&&n)throw new h.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function a1(n){return["disabled"===n.initialNavigation?Jd(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Js);return()=>{e.setUpLocationChangeListener()}}},{provide:MS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Jd(2,[{provide:MS,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(we,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(Js),u=e.get(nR);(function Zk(n,e){n.events.pipe(Gs(t=>t instanceof tp||t instanceof oD||t instanceof lS||t instanceof aD),(0,xt.U)(t=>t instanceof tp||t instanceof aD?Xs.COMPLETE:t instanceof oD&&(0===t.code||1===t.code)?Xs.REDIRECTING:Xs.FAILED),Gs(t=>t!==Xs.REDIRECTING),Nm(1)).subscribe(()=>{e()})})(o,()=>{r(!0)}),e.get(yD).afterPreactivation=()=>(r(!0),u.closed?vt(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const oR=new h.OlP(eE?"Router Initializer":""),c1=[];let l1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[sR.forRoot(c1),sR]}),n})();var Gm=k(8277);let _D=(()=>{class n{constructor(t){this.http=t,this.app=(0,Kp.ZF)(WM_firebaseConfig),this.auth=(0,Gm.o)(this.app),this.db=function XR(n,e){const t="object"==typeof n?n:(0,Do.getApp)(),r="string"==typeof n?n:e||"(default)",o=(0,Do._getProvider)(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=(0,Si.P0)("firestore");u&&function YR(n,e,t,r={}){var o;const u=(n=nn(n,x_))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&xa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,m;if("string"==typeof r.mockUserToken)l=r.mockUserToken,m=En.MOCK_USER;else{l=(0,Si.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Te(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new En(_)}n._authCredentials=new A0(new nf(l,m))}}(o,...u)}return o}(this.app),(0,Gm.x)(this.auth,u=>{u&&(this.signedInUser=u)}),function gN(n,...e){var t,r,o;n=(0,Si.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||wT(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(wT(e[l])){const N=e[l];e[l]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[l+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[l+2]=null===(o=N.complete)||void 0===o?void 0:o.bind(N)}let _,C,S;if(n instanceof Ar)C=nn(n.firestore,zn),S=Pu(n._key.path),_={next:N=>{e[l]&&e[l](function RT(n,e,t){const r=t.docs.get(e._key),o=new qd(n);return new xm(n,o,e._key,r,new Jf(t.hasPendingWrites,t.fromCache),e.converter)}(C,n,N))},error:e[l+1],complete:e[l+2]};else{const N=nn(n,Ni);C=nn(N.firestore,zn),S=N._query;const B=new qd(C);_={next:Z=>{e[l]&&e[l](new Rm(C,B,N,Z))},error:e[l+1],complete:e[l+2]},cM(n._query)}(function(N,B,Z,ne){const Ae=new AI(ne),je=new Ub(B,Ae,Z);N.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return Pb(yield Tm(N),je)}))})($r(C),S,m,_)}(lM(KA(this.db,"users")),u=>{const l=[];u.forEach(m=>{l.push(m.data())}),this.usersList=l})}signIn(t){var r=this;return(0,et.Z)(function*(){try{return yield(0,Gm.a9)(r.auth,t.email,t.password),yield xT(OI(r.db,"users",r.signedInUser.uid),{displayName:r.signedInUser.displayName,email:r.signedInUser.email,signedIn:!0,uid:r.signedInUser.uid}),"success"}catch(o){return console.log(o.code),o.code}})()}createAccount(t){var r=this;return(0,et.Z)(function*(){const o=lM(KA(r.db,"users"),function lN(n,e,t){const r=e,o=LI("where",n);return P_._create(o,r,t)}("displayName","==",t.displayName));if(!(yield function pN(n){n=nn(n,Ni);const e=nn(n.firestore,zn),t=$r(e),r=new qd(e);return cM(n._query),function $A(n,e,t={}){const r=new pr;return n.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return function(o,u,l,m,_){const C=new AI({next:N=>{u.enqueueAndForget(()=>Fb(o,S)),N.fromCache&&"server"===m.source?_.reject(new Te(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),S=new Ub(l,C,{includeMetadataChanges:!0,xu:!0});return Pb(o,S)}(yield Tm(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(o=>new Rm(e,r,n,o))}(o)).empty)return"Display name is already in use";try{const m=(yield(0,Gm.a8)(r.auth,t.email,t.password)).user;return yield(0,Gm.ai)(m,{displayName:t.displayName}),yield xT(OI(r.db,"users",m.uid),{displayName:t.displayName,email:t.email,signedIn:!0,uid:m.uid}),"success"}catch(l){return console.log(l.code),l.code}})()}signout(){var t=this;return(0,et.Z)(function*(){try{return yield(0,Gm.B)(t.auth),yield xT(OI(t.db,"users",t.signedInUser.uid),{displayName:t.signedInUser.displayName,email:t.signedInUser.email,signedIn:!1,uid:t.signedInUser.uid}),"success"}catch(r){return r}})()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(bE))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function d1(n,e){1&n&&h._UZ(0,"input",2)}function h1(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"p"),h._uU(1),h.TgZ(2,"a",3),h.NdJ("click",function(){h.CHM(t);const o=h.oxw();return h.KtG(o.onSignOut())}),h._uU(3," Sign Out "),h.qZA(),h._uU(4,")"),h.qZA()}if(2&n){const t=h.oxw();h.xp6(1),h.hij("",t.signedInUser.displayName," (")}}let f1=(()=>{class n{constructor(t){this.user=t}onSignOut(){var t=this;return(0,et.Z)(function*(){const r=yield t.user.signout();"success"===r?location.reload():console.log(r)})()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(_D))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-header"]],inputs:{signedInUser:"signedInUser"},decls:5,vars:2,consts:[["type","text","placeholder","search",4,"ngIf"],[4,"ngIf"],["type","text","placeholder","search"],["href","#",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"header")(1,"h1"),h._uU(2,"DISCUSS"),h.qZA(),h.YNc(3,d1,1,0,"input",0),h.YNc(4,h1,5,1,"p",1),h.qZA()),2&t&&(h.xp6(3),h.Q6J("ngIf",r.signedInUser),h.xp6(1),h.Q6J("ngIf",r.signedInUser))},dependencies:[Vi],styles:["h1[_ngcontent-%COMP%]{color:#fff;margin:0;padding-left:10px}header[_ngcontent-%COMP%]{border-bottom:solid rgba(188,101,217,.384) 10px;background-color:#363636;height:100px;display:flex;align-items:center;justify-content:space-between}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:.75em}a[_ngcontent-%COMP%]:hover{cursor:pointer}p[_ngcontent-%COMP%]{color:#fff;font-size:1.5em}"]}),n})();function p1(n,e){if(1&n&&(h.TgZ(0,"ul")(1,"li"),h._UZ(2,"div",2),h._uU(3),h.qZA()()),2&n){const t=e.$implicit;h.xp6(2),h.Q6J("ngClass",t.signedIn?"online":""),h.xp6(1),h.Oqu(t.displayName)}}let g1=(()=>{class n{constructor(t){this.user=t}get userList(){return this.user.usersList}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(_D))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-sidebar"]],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"],[1,"status",3,"ngClass"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h.YNc(1,p1,4,2,"ul",1),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngForOf",r.userList))},dependencies:[Qe,On],styles:[".container[_ngcontent-%COMP%]{background-color:#363636;height:calc(100vh - 100px);width:15vw;border-right:solid rgba(188,101,217,.384) 10px}ul[_ngcontent-%COMP%]{padding-top:20px}li[_ngcontent-%COMP%]{color:#fff;font-size:1.5em;list-style:none}li[_ngcontent-%COMP%]:hover{cursor:pointer}.status[_ngcontent-%COMP%]{height:10px;width:10px;border:1px solid white;border-radius:50%;display:inline-block;margin-right:10px}.status.online[_ngcontent-%COMP%]{background-color:green;border:1px solid black}"]}),n})(),m1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-main"]],decls:6,vars:0,consts:[[1,"container"],[1,"messages"],[1,"message-input"],["rows","2","cols","100"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.TgZ(2,"div",2),h._UZ(3,"textarea",3),h.TgZ(4,"button"),h._uU(5,"Send"),h.qZA()()())},styles:[".container[_ngcontent-%COMP%]{background-color:#363636;height:calc(100vh - 100px);width:85vw;display:flex;align-items:end}p[_ngcontent-%COMP%]{color:#fff;margin:0}button[_ngcontent-%COMP%]{width:10%;height:56px}textarea[_ngcontent-%COMP%]{height:50px;width:90%}.message-input[_ngcontent-%COMP%]{display:flex;align-items:end;width:100%}"]}),n})();const y1=n=>{const e=n.get("password"),t=n.get("confirmedPassword");return e.value!==t.value?{passwordMismatch:!0}:null},v1=n=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(n.value)?null:{invalidEmailFormat:!0};function _1(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"form",5),h.NdJ("ngSubmit",function(){h.CHM(t);const o=h.oxw();return h.KtG(o.onSignIn())}),h.TgZ(1,"div",6)(2,"label",7),h._uU(3,"EMAIL:"),h.qZA(),h.TgZ(4,"input",8),h.NdJ("ngModelChange",function(o){h.CHM(t);const u=h.oxw();return h.KtG(u.userSignInInfo.email=o)}),h.qZA()(),h.TgZ(5,"div",6)(6,"label",9),h._uU(7,"PASSWORD:"),h.qZA(),h.TgZ(8,"input",10),h.NdJ("ngModelChange",function(o){h.CHM(t);const u=h.oxw();return h.KtG(u.userSignInInfo.password=o)}),h.qZA()(),h.TgZ(9,"button",11),h._uU(10,"SIGN IN"),h.qZA(),h.TgZ(11,"p"),h._uU(12,"OR"),h.qZA(),h.TgZ(13,"button",12),h.NdJ("click",function(o){h.CHM(t);const u=h.oxw();return h.KtG(u.createAccountToggle(o))}),h._uU(14,"CREATE ACCOUNT"),h.qZA()()}if(2&n){const t=h.oxw();h.xp6(4),h.Q6J("ngModel",t.userSignInInfo.email),h.xp6(4),h.Q6J("ngModel",t.userSignInInfo.password),h.xp6(1),h.Q6J("disabled",""===t.userSignInInfo.email||""===t.userSignInInfo.password)}}function E1(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"form",13),h.NdJ("ngSubmit",function(){h.CHM(t);const o=h.oxw();return h.KtG(o.onCreateAccount())}),h.TgZ(1,"div",6)(2,"label",14),h._uU(3,"DISPLAY NAME:"),h.qZA(),h._UZ(4,"input",15),h.qZA(),h.TgZ(5,"div",6)(6,"label",7),h._uU(7,"EMAIL:"),h.qZA(),h._UZ(8,"input",16),h.qZA(),h.TgZ(9,"div",6)(10,"label",9),h._uU(11,"PASSWORD:"),h.qZA(),h._UZ(12,"input",17),h.qZA(),h.TgZ(13,"div",6)(14,"label",18),h._uU(15,"CONFIRM PASSWORD:"),h.qZA(),h._UZ(16,"input",19),h.qZA(),h.TgZ(17,"button",11),h._uU(18,"CREATE ACCOUNT"),h.qZA(),h.TgZ(19,"p"),h._uU(20,"OR"),h.qZA(),h.TgZ(21,"button",12),h.NdJ("click",function(o){h.CHM(t);const u=h.oxw();return h.KtG(u.createAccountToggle(o))}),h._uU(22,"SIGN IN"),h.qZA()()}if(2&n){const t=h.oxw();h.Q6J("formGroup",t.createAccountForm),h.xp6(17),h.Q6J("disabled",!t.createAccountForm.valid)}}function w1(n,e){1&n&&(h.ynx(0),h.TgZ(1,"p"),h._uU(2,"Username is required"),h.qZA(),h.BQk())}function I1(n,e){1&n&&(h.ynx(0),h.TgZ(1,"p"),h._uU(2,"Email is required"),h.qZA(),h.BQk())}function D1(n,e){1&n&&(h.ynx(0),h.TgZ(1,"p"),h._uU(2,"Email must be a valid email address"),h.qZA(),h.BQk())}function C1(n,e){1&n&&(h.ynx(0),h.TgZ(1,"p"),h._uU(2,"Password must be at least 8 characters"),h.qZA(),h.BQk())}function b1(n,e){1&n&&(h.ynx(0),h.TgZ(1,"p"),h._uU(2,"Passwords must match"),h.qZA(),h.BQk())}function T1(n,e){if(1&n&&(h.TgZ(0,"div",20),h.YNc(1,w1,3,0,"ng-container",21),h.YNc(2,I1,3,0,"ng-container",21),h.YNc(3,D1,3,0,"ng-container",21),h.YNc(4,C1,3,0,"ng-container",21),h.YNc(5,b1,3,0,"ng-container",21),h.qZA()),2&n){const t=h.oxw();let r,o,u,l,m;h.xp6(1),h.Q6J("ngIf",(null==(r=t.createAccountForm.get("username"))?null:r.hasError("required"))&&(null==(r=t.createAccountForm.get("username"))?null:r.touched)),h.xp6(1),h.Q6J("ngIf",(null==(o=t.createAccountForm.get("email"))?null:o.hasError("required"))&&(null==(o=t.createAccountForm.get("email"))?null:o.touched)),h.xp6(1),h.Q6J("ngIf",(null==(u=t.createAccountForm.get("email"))?null:u.hasError("invalidEmailFormat"))&&(null==(u=t.createAccountForm.get("email"))?null:u.touched)),h.xp6(1),h.Q6J("ngIf",(null==(l=t.createAccountForm.get("password"))?null:l.hasError("minlength"))&&(null==(l=t.createAccountForm.get("password"))?null:l.touched)),h.xp6(1),h.Q6J("ngIf",t.createAccountForm.hasError("passwordMismatch")&&(null==(m=t.createAccountForm.get("confirmedPassword"))?null:m.touched))}}let S1=(()=>{class n{constructor(t){this.user=t,this.userSignIn=new h.vpe,this.signIn=!0,this.createAccount=!1,this.errorMessage="",this.userSignInInfo={email:"",password:""},this.createAccountForm=new Tc({displayName:new ad("",ut.required),email:new ad("",[ut.required,v1]),password:new ad("",[ut.required,ut.minLength(8)]),confirmedPassword:new ad("",ut.required)},{validators:y1})}get test(){return this.user.signedInUser}createAccountToggle(t){this.signIn=!this.signIn,this.createAccount=!this.createAccount}onSignIn(){var t=this;return(0,et.Z)(function*(){const r=yield t.user.signIn(t.userSignInInfo);"success"!==r&&(t.errorMessage=r)})()}onCreateAccount(){var t=this;return(0,et.Z)(function*(){const r={displayName:t.createAccountForm.get("displayName").value,email:t.createAccountForm.get("email").value,password:t.createAccountForm.get("password").value},o=yield t.user.createAccount(r);"success"!==o&&(t.errorMessage=o)})()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(_D))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-sign-in"]],outputs:{userSignIn:"userSignIn"},decls:7,vars:4,consts:[[1,"container"],[1,"errorMessage","top"],[3,"ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","formCheck",4,"ngIf"],[3,"ngSubmit"],[1,"form-field"],["for","email"],["id","email","type","text","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["id","password","type","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit",3,"disabled"],[3,"click"],[3,"formGroup","ngSubmit"],["for","displayName"],["formControlName","displayName","type","text"],["formControlName","email","type","text"],["formControlName","password","type","password"],["for","confirmedPassword"],["formControlName","confirmedPassword","type","password"],[1,"formCheck"],[4,"ngIf"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"p"),h._uU(3),h.qZA()(),h.YNc(4,_1,15,3,"form",2),h.YNc(5,E1,23,2,"form",3),h.YNc(6,T1,6,5,"div",4),h.qZA()),2&t&&(h.xp6(3),h.Oqu(r.errorMessage),h.xp6(1),h.Q6J("ngIf",r.signIn),h.xp6(1),h.Q6J("ngIf",r.createAccount),h.xp6(1),h.Q6J("ngIf",r.createAccount))},dependencies:[Vi,oE,M,bp,Wl,jp,sE,sd,Fp,fE],styles:[".container[_ngcontent-%COMP%]{width:100vw;height:100%;margin:0;display:flex;justify-content:center;padding-top:150px;background-color:#363636}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-bottom:20px}label[_ngcontent-%COMP%]{color:#fff;text-align:center;font:1.5em sans-serif;margin-bottom:20px}input[_ngcontent-%COMP%]{background-color:#363636;color:#fff;border-left:none;border-right:none;border-top:none;border-bottom:1px solid rgba(188,101,217,.384);text-align:center;font:1.25em sans-serif}input[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{background-color:#bc65d962;color:#fff;width:100%;height:30px;border:1px solid rgb(255,255,255);border-radius:25px}button[_ngcontent-%COMP%]:hover{cursor:pointer}button[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}p[_ngcontent-%COMP%]{text-align:center;color:#fff}.errorMessage[_ngcontent-%COMP%]{position:absolute;top:100px}.errorMessage[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red;font:1.25em sans-serif}.formCheck[_ngcontent-%COMP%]{position:absolute;top:800px;font:1em sans-serif}.formCheck[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red;font:1.25em sans-serif}"]}),n})();function A1(n,e){1&n&&(h.ynx(0),h.TgZ(1,"div",2),h._UZ(2,"app-sidebar")(3,"app-main"),h.qZA(),h.BQk())}function M1(n,e){1&n&&h._UZ(0,"app-sign-in")}let x1=(()=>{class n{constructor(t){this.user=t,this.title="discuss"}get signedInUser(){return this.user.signedInUser}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(_D))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:3,consts:[[3,"signedInUser"],[4,"ngIf"],[1,"container"]],template:function(t,r){1&t&&(h._UZ(0,"app-header",0),h.YNc(1,A1,4,0,"ng-container",1),h.YNc(2,M1,1,0,"app-sign-in",1)),2&t&&(h.Q6J("signedInUser",r.signedInUser),h.xp6(1),h.Q6J("ngIf",r.signedInUser),h.xp6(1),h.Q6J("ngIf",!r.signedInUser))},dependencies:[Vi,f1,g1,m1,S1],styles:[".container[_ngcontent-%COMP%]{display:flex}"]}),n})(),R1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[x1]}),n.\u0275inj=h.cJS({imports:[da,l1,my,_E,QD,bu.hO.initializeApp(WM_firebaseConfig),PO,_M]}),n})();la().bootstrapModule(R1).catch(n=>console.error(n))},9751:(mt,be,k)=>{k.d(be,{y:()=>ye});var h=k(2961),F=k(727),G=k(8822),ie=k(9635),se=k(2416),oe=k(576),Re=k(2806);let ye=(()=>{class K{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const He=new K;return He.source=this,He.operator=Ee,He}subscribe(Ee,He,it){const ue=function $(K){return K&&K instanceof h.Lv||function j(K){return K&&(0,oe.m)(K.next)&&(0,oe.m)(K.error)&&(0,oe.m)(K.complete)}(K)&&(0,F.Nn)(K)}(Ee)?Ee:new h.Hp(Ee,He,it);return(0,Re.x)(()=>{const{operator:me,source:ve}=this;ue.add(me?me.call(ue,ve):ve?this._subscribe(ue):this._trySubscribe(ue))}),ue}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(He){Ee.error(He)}}forEach(Ee,He){return new(He=we(He))((it,ue)=>{const me=new h.Hp({next:ve=>{try{Ee(ve)}catch(Pe){ue(Pe),me.unsubscribe()}},error:ue,complete:it});this.subscribe(me)})}_subscribe(Ee){var He;return null===(He=this.source)||void 0===He?void 0:He.subscribe(Ee)}[G.L](){return this}pipe(...Ee){return(0,ie.U)(Ee)(this)}toPromise(Ee){return new(Ee=we(Ee))((He,it)=>{let ue;this.subscribe(me=>ue=me,me=>it(me),()=>He(ue))})}}return K.create=Ue=>new K(Ue),K})();function we(K){var Ue;return null!==(Ue=K??se.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(mt,be,k)=>{k.d(be,{x:()=>Re});var h=k(9751),F=k(727);const ie=(0,k(3888).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=k(8737),oe=k(2806);let Re=(()=>{class we extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const K=new ye(this,this);return K.operator=$,K}_throwIfClosed(){if(this.closed)throw new ie}next($){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next($)}})}error($){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:K}=this;for(;K.length;)K.shift().error($)}})}complete(){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:K,isStopped:Ue,observers:Ee}=this;return K||Ue?F.Lc:(this.currentObservers=null,Ee.push($),new F.w0(()=>{this.currentObservers=null,(0,se.P)(Ee,$)}))}_checkFinalizedStatuses($){const{hasError:K,thrownError:Ue,isStopped:Ee}=this;K?$.error(Ue):Ee&&$.complete()}asObservable(){const $=new h.y;return $.source=this,$}}return we.create=(j,$)=>new ye(j,$),we})();class ye extends Re{constructor(j,$){super(),this.destination=j,this.source=$}next(j){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===K||K.call($,j)}error(j){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===K||K.call($,j)}complete(){var j,$;null===($=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===$||$.call(j)}_subscribe(j){var $,K;return null!==(K=null===($=this.source)||void 0===$?void 0:$.subscribe(j))&&void 0!==K?K:F.Lc}}},2961:(mt,be,k)=>{k.d(be,{Hp:()=>it,Lv:()=>K});var h=k(576),F=k(727),G=k(2416),ie=k(7849);function se(){}const oe=we("C",void 0,void 0);function we(Ie,ge,De){return{kind:Ie,value:ge,error:De}}var j=k(3410),$=k(2806);class K extends F.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,F.Nn)(ge)&&ge.add(this)):this.destination=Pe}static create(ge,De,Ve){return new it(ge,De,Ve)}next(ge){this.isStopped?ve(function ye(Ie){return we("N",Ie,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?ve(function Re(Ie){return we("E",void 0,Ie)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?ve(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ee(Ie,ge){return Ue.call(Ie,ge)}class He{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:De}=this;if(De.next)try{De.next(ge)}catch(Ve){ue(Ve)}}error(ge){const{partialObserver:De}=this;if(De.error)try{De.error(ge)}catch(Ve){ue(Ve)}else ue(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(De){ue(De)}}}class it extends K{constructor(ge,De,Ve){let Me;if(super(),(0,h.m)(ge)||!ge)Me={next:ge??void 0,error:De??void 0,complete:Ve??void 0};else{let U;this&&G.v.useDeprecatedNextContext?(U=Object.create(ge),U.unsubscribe=()=>this.unsubscribe(),Me={next:ge.next&&Ee(ge.next,U),error:ge.error&&Ee(ge.error,U),complete:ge.complete&&Ee(ge.complete,U)}):Me=ge}this.destination=new He(Me)}}function ue(Ie){G.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ie):(0,ie.h)(Ie)}function ve(Ie,ge){const{onStoppedNotification:De}=G.v;De&&j.z.setTimeout(()=>De(Ie,ge))}const Pe={closed:!0,next:se,error:function me(Ie){throw Ie},complete:se}},727:(mt,be,k)=>{k.d(be,{Lc:()=>oe,w0:()=>se,Nn:()=>Re});var h=k(576);const G=(0,k(3888).d)(we=>function($){we(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((K,Ue)=>`${Ue+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ie=k(8737);class se{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ee of $)Ee.remove(this);else $.remove(this);const{initialTeardown:K}=this;if((0,h.m)(K))try{K()}catch(Ee){j=Ee instanceof G?Ee.errors:[Ee]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ee of Ue)try{ye(Ee)}catch(He){j=j??[],He instanceof G?j=[...j,...He.errors]:j.push(He)}}if(j)throw new G(j)}}add(j){var $;if(j&&j!==this)if(this.closed)ye(j);else{if(j instanceof se){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(j)}}_hasParent(j){const{_parentage:$}=this;return $===j||Array.isArray($)&&$.includes(j)}_addParent(j){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(j),$):$?[$,j]:j}_removeParent(j){const{_parentage:$}=this;$===j?this._parentage=null:Array.isArray($)&&(0,ie.P)($,j)}remove(j){const{_finalizers:$}=this;$&&(0,ie.P)($,j),j instanceof se&&j._removeParent(this)}}se.EMPTY=(()=>{const we=new se;return we.closed=!0,we})();const oe=se.EMPTY;function Re(we){return we instanceof se||we&&"closed"in we&&(0,h.m)(we.remove)&&(0,h.m)(we.add)&&(0,h.m)(we.unsubscribe)}function ye(we){(0,h.m)(we)?we():we.unsubscribe()}},2416:(mt,be,k)=>{k.d(be,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,be,k)=>{k.d(be,{E:()=>F});const F=new(k(9751).y)(se=>se.complete())},8996:(mt,be,k)=>{k.d(be,{D:()=>ge});var h=k(8421),F=k(5363),G=k(9468),oe=k(9751),ye=k(2202),we=k(576),j=k(9672);function K(De,Ve){if(!De)throw new Error("Iterable cannot be null");return new oe.y(Me=>{(0,j.f)(Me,Ve,()=>{const U=De[Symbol.asyncIterator]();(0,j.f)(Me,Ve,()=>{U.next().then(he=>{he.done?Me.complete():Me.next(he.value)})},0,!0)})})}var Ue=k(3670),Ee=k(8239),He=k(1144),it=k(6495),ue=k(2206),me=k(4532),ve=k(3260);function ge(De,Ve){return Ve?function Ie(De,Ve){if(null!=De){if((0,Ue.c)(De))return function ie(De,Ve){return(0,h.Xf)(De).pipe((0,G.R)(Ve),(0,F.Q)(Ve))}(De,Ve);if((0,He.z)(De))return function Re(De,Ve){return new oe.y(Me=>{let U=0;return Ve.schedule(function(){U===De.length?Me.complete():(Me.next(De[U++]),Me.closed||this.schedule())})})}(De,Ve);if((0,Ee.t)(De))return function se(De,Ve){return(0,h.Xf)(De).pipe((0,G.R)(Ve),(0,F.Q)(Ve))}(De,Ve);if((0,ue.D)(De))return K(De,Ve);if((0,it.T)(De))return function $(De,Ve){return new oe.y(Me=>{let U;return(0,j.f)(Me,Ve,()=>{U=De[ye.h](),(0,j.f)(Me,Ve,()=>{let he,Be;try{({value:he,done:Be}=U.next())}catch(Ge){return void Me.error(Ge)}Be?Me.complete():Me.next(he)},0,!0)}),()=>(0,we.m)(U?.return)&&U.return()})}(De,Ve);if((0,ve.L)(De))return function Pe(De,Ve){return K((0,ve.Q)(De),Ve)}(De,Ve)}throw(0,me.z)(De)}(De,Ve):(0,h.Xf)(De)}},8421:(mt,be,k)=>{k.d(be,{Xf:()=>Ue});var h=k(655),F=k(1144),G=k(8239),ie=k(9751),se=k(3670),oe=k(2206),Re=k(4532),ye=k(6495),we=k(3260),j=k(576),$=k(7849),K=k(8822);function Ue(Ie){if(Ie instanceof ie.y)return Ie;if(null!=Ie){if((0,se.c)(Ie))return function Ee(Ie){return new ie.y(ge=>{const De=Ie[K.L]();if((0,j.m)(De.subscribe))return De.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,F.z)(Ie))return function He(Ie){return new ie.y(ge=>{for(let De=0;De<Ie.length&&!ge.closed;De++)ge.next(Ie[De]);ge.complete()})}(Ie);if((0,G.t)(Ie))return function it(Ie){return new ie.y(ge=>{Ie.then(De=>{ge.closed||(ge.next(De),ge.complete())},De=>ge.error(De)).then(null,$.h)})}(Ie);if((0,oe.D)(Ie))return me(Ie);if((0,ye.T)(Ie))return function ue(Ie){return new ie.y(ge=>{for(const De of Ie)if(ge.next(De),ge.closed)return;ge.complete()})}(Ie);if((0,we.L)(Ie))return function ve(Ie){return me((0,we.Q)(Ie))}(Ie)}throw(0,Re.z)(Ie)}function me(Ie){return new ie.y(ge=>{(function Pe(Ie,ge){var De,Ve,Me,U;return(0,h.mG)(this,void 0,void 0,function*(){try{for(De=(0,h.KL)(Ie);!(Ve=yield De.next()).done;)if(ge.next(Ve.value),ge.closed)return}catch(he){Me={error:he}}finally{try{Ve&&!Ve.done&&(U=De.return)&&(yield U.call(De))}finally{if(Me)throw Me.error}}ge.complete()})})(Ie,ge).catch(De=>ge.error(De))})}},6451:(mt,be,k)=>{k.d(be,{T:()=>oe});var h=k(8189),F=k(8421),G=k(515),ie=k(7669),se=k(8996);function oe(...Re){const ye=(0,ie.yG)(Re),we=(0,ie._6)(Re,1/0),j=Re;return j.length?1===j.length?(0,F.Xf)(j[0]):(0,h.J)(we)((0,se.D)(j,ye)):G.E}},5403:(mt,be,k)=>{k.d(be,{x:()=>F});var h=k(2961);function F(ie,se,oe,Re,ye){return new G(ie,se,oe,Re,ye)}class G extends h.Lv{constructor(se,oe,Re,ye,we,j){super(se),this.onFinalize=we,this.shouldUnsubscribe=j,this._next=oe?function($){try{oe($)}catch(K){se.error(K)}}:super._next,this._error=ye?function($){try{ye($)}catch(K){se.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch($){se.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(mt,be,k)=>{k.d(be,{U:()=>G});var h=k(4482),F=k(5403);function G(ie,se){return(0,h.e)((oe,Re)=>{let ye=0;oe.subscribe((0,F.x)(Re,we=>{Re.next(ie.call(se,we,ye++))}))})}},8189:(mt,be,k)=>{k.d(be,{J:()=>G});var h=k(5577),F=k(4671);function G(ie=1/0){return(0,h.z)(F.y,ie)}},5577:(mt,be,k)=>{k.d(be,{z:()=>ye});var h=k(4004),F=k(8421),G=k(4482),ie=k(9672),se=k(5403),Re=k(576);function ye(we,j,$=1/0){return(0,Re.m)(j)?ye((K,Ue)=>(0,h.U)((Ee,He)=>j(K,Ee,Ue,He))((0,F.Xf)(we(K,Ue))),$):("number"==typeof j&&($=j),(0,G.e)((K,Ue)=>function oe(we,j,$,K,Ue,Ee,He,it){const ue=[];let me=0,ve=0,Pe=!1;const Ie=()=>{Pe&&!ue.length&&!me&&j.complete()},ge=Ve=>me<K?De(Ve):ue.push(Ve),De=Ve=>{Ee&&j.next(Ve),me++;let Me=!1;(0,F.Xf)($(Ve,ve++)).subscribe((0,se.x)(j,U=>{Ue?.(U),Ee?ge(U):j.next(U)},()=>{Me=!0},void 0,()=>{if(Me)try{for(me--;ue.length&&me<K;){const U=ue.shift();He?(0,ie.f)(j,He,()=>De(U)):De(U)}Ie()}catch(U){j.error(U)}}))};return we.subscribe((0,se.x)(j,ge,()=>{Pe=!0,Ie()})),()=>{it?.()}}(K,Ue,we,$)))}},5363:(mt,be,k)=>{k.d(be,{Q:()=>ie});var h=k(9672),F=k(4482),G=k(5403);function ie(se,oe=0){return(0,F.e)((Re,ye)=>{Re.subscribe((0,G.x)(ye,we=>(0,h.f)(ye,se,()=>ye.next(we),oe),()=>(0,h.f)(ye,se,()=>ye.complete(),oe),we=>(0,h.f)(ye,se,()=>ye.error(we),oe)))})}},3099:(mt,be,k)=>{k.d(be,{B:()=>se});var h=k(8421),F=k(7579),G=k(2961),ie=k(4482);function se(Re={}){const{connector:ye=(()=>new F.x),resetOnError:we=!0,resetOnComplete:j=!0,resetOnRefCountZero:$=!0}=Re;return K=>{let Ue,Ee,He,it=0,ue=!1,me=!1;const ve=()=>{Ee?.unsubscribe(),Ee=void 0},Pe=()=>{ve(),Ue=He=void 0,ue=me=!1},Ie=()=>{const ge=Ue;Pe(),ge?.unsubscribe()};return(0,ie.e)((ge,De)=>{it++,!me&&!ue&&ve();const Ve=He=He??ye();De.add(()=>{it--,0===it&&!me&&!ue&&(Ee=oe(Ie,$))}),Ve.subscribe(De),!Ue&&it>0&&(Ue=new G.Hp({next:Me=>Ve.next(Me),error:Me=>{me=!0,ve(),Ee=oe(Pe,we,Me),Ve.error(Me)},complete:()=>{ue=!0,ve(),Ee=oe(Pe,j),Ve.complete()}}),(0,h.Xf)(ge).subscribe(Ue))})(K)}}function oe(Re,ye,...we){if(!0===ye)return void Re();if(!1===ye)return;const j=new G.Hp({next:()=>{j.unsubscribe(),Re()}});return ye(...we).subscribe(j)}},9468:(mt,be,k)=>{k.d(be,{R:()=>F});var h=k(4482);function F(G,ie=0){return(0,h.e)((se,oe)=>{oe.add(G.schedule(()=>se.subscribe(oe),ie))})}},8505:(mt,be,k)=>{k.d(be,{b:()=>se});var h=k(576),F=k(4482),G=k(5403),ie=k(4671);function se(oe,Re,ye){const we=(0,h.m)(oe)||Re||ye?{next:oe,error:Re,complete:ye}:oe;return we?(0,F.e)((j,$)=>{var K;null===(K=we.subscribe)||void 0===K||K.call(we);let Ue=!0;j.subscribe((0,G.x)($,Ee=>{var He;null===(He=we.next)||void 0===He||He.call(we,Ee),$.next(Ee)},()=>{var Ee;Ue=!1,null===(Ee=we.complete)||void 0===Ee||Ee.call(we),$.complete()},Ee=>{var He;Ue=!1,null===(He=we.error)||void 0===He||He.call(we,Ee),$.error(Ee)},()=>{var Ee,He;Ue&&(null===(Ee=we.unsubscribe)||void 0===Ee||Ee.call(we)),null===(He=we.finalize)||void 0===He||He.call(we)}))}):ie.y}},6063:(mt,be,k)=>{k.d(be,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(mt,be,k)=>{k.d(be,{z:()=>h});const h={setTimeout(F,G,...ie){const{delegate:se}=h;return se?.setTimeout?se.setTimeout(F,G,...ie):setTimeout(F,G,...ie)},clearTimeout(F){const{delegate:G}=h;return(G?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(mt,be,k)=>{k.d(be,{h:()=>F});const F=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,be,k)=>{k.d(be,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(mt,be,k)=>{k.d(be,{_6:()=>oe,jO:()=>ie,yG:()=>se});var h=k(576);function G(Re){return Re[Re.length-1]}function ie(Re){return(0,h.m)(G(Re))?Re.pop():void 0}function se(Re){return function F(Re){return Re&&(0,h.m)(Re.schedule)}(G(Re))?Re.pop():void 0}function oe(Re,ye){return"number"==typeof G(Re)?Re.pop():ye}},8737:(mt,be,k)=>{function h(F,G){if(F){const ie=F.indexOf(G);0<=ie&&F.splice(ie,1)}}k.d(be,{P:()=>h})},3888:(mt,be,k)=>{function h(F){const ie=F(se=>{Error.call(se),se.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}k.d(be,{d:()=>h})},2806:(mt,be,k)=>{k.d(be,{O:()=>ie,x:()=>G});var h=k(2416);let F=null;function G(se){if(h.v.useDeprecatedSynchronousErrorHandling){const oe=!F;if(oe&&(F={errorThrown:!1,error:null}),se(),oe){const{errorThrown:Re,error:ye}=F;if(F=null,Re)throw ye}}else se()}function ie(se){h.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=se)}},9672:(mt,be,k)=>{function h(F,G,ie,se=0,oe=!1){const Re=G.schedule(function(){ie(),oe?F.add(this.schedule(null,se)):this.unsubscribe()},se);if(F.add(Re),!oe)return Re}k.d(be,{f:()=>h})},4671:(mt,be,k)=>{function h(F){return F}k.d(be,{y:()=>h})},1144:(mt,be,k)=>{k.d(be,{z:()=>h});const h=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(mt,be,k)=>{k.d(be,{D:()=>F});var h=k(576);function F(G){return Symbol.asyncIterator&&(0,h.m)(G?.[Symbol.asyncIterator])}},576:(mt,be,k)=>{function h(F){return"function"==typeof F}k.d(be,{m:()=>h})},3670:(mt,be,k)=>{k.d(be,{c:()=>G});var h=k(8822),F=k(576);function G(ie){return(0,F.m)(ie[h.L])}},6495:(mt,be,k)=>{k.d(be,{T:()=>G});var h=k(2202),F=k(576);function G(ie){return(0,F.m)(ie?.[h.h])}},8239:(mt,be,k)=>{k.d(be,{t:()=>F});var h=k(576);function F(G){return(0,h.m)(G?.then)}},3260:(mt,be,k)=>{k.d(be,{L:()=>ie,Q:()=>G});var h=k(655),F=k(576);function G(se){return(0,h.FC)(this,arguments,function*(){const Re=se.getReader();try{for(;;){const{value:ye,done:we}=yield(0,h.qq)(Re.read());if(we)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(ye)}}finally{Re.releaseLock()}})}function ie(se){return(0,F.m)(se?.getReader)}},4482:(mt,be,k)=>{k.d(be,{A:()=>F,e:()=>G});var h=k(576);function F(ie){return(0,h.m)(ie?.lift)}function G(ie){return se=>{if(F(se))return se.lift(function(oe){try{return ie(oe,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(mt,be,k)=>{k.d(be,{U:()=>G,z:()=>F});var h=k(4671);function F(...ie){return G(ie)}function G(ie){return 0===ie.length?h.y:1===ie.length?ie[0]:function(oe){return ie.reduce((Re,ye)=>ye(Re),oe)}}},7849:(mt,be,k)=>{k.d(be,{h:()=>G});var h=k(2416),F=k(3410);function G(ie){F.z.setTimeout(()=>{const{onUnhandledError:se}=h.v;if(!se)throw ie;se(ie)})}},4532:(mt,be,k)=>{function h(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(be,{z:()=>h})},655:(mt,be,k)=>{function ie(te,ae){var le={};for(var Ce in te)Object.prototype.hasOwnProperty.call(te,Ce)&&ae.indexOf(Ce)<0&&(le[Ce]=te[Ce]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(Ce=Object.getOwnPropertySymbols(te);Oe<Ce.length;Oe++)ae.indexOf(Ce[Oe])<0&&Object.prototype.propertyIsEnumerable.call(te,Ce[Oe])&&(le[Ce[Oe]]=te[Ce[Oe]])}return le}function K(te,ae,le,Ce){return new(le||(le=Promise))(function($e,tt){function Ne(Kt){try{ft(Ce.next(Kt))}catch(Et){tt(Et)}}function wt(Kt){try{ft(Ce.throw(Kt))}catch(Et){tt(Et)}}function ft(Kt){Kt.done?$e(Kt.value):function Oe($e){return $e instanceof le?$e:new le(function(tt){tt($e)})}(Kt.value).then(Ne,wt)}ft((Ce=Ce.apply(te,ae||[])).next())})}function Ie(te){return this instanceof Ie?(this.v=te,this):new Ie(te)}function ge(te,ae,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,Ce=le.apply(te,ae||[]),$e=[];return Oe={},tt("next"),tt("throw"),tt("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function tt(Gt){Ce[Gt]&&(Oe[Gt]=function(Fn){return new Promise(function(un,Dn){$e.push([Gt,Fn,un,Dn])>1||Ne(Gt,Fn)})})}function Ne(Gt,Fn){try{!function wt(Gt){Gt.value instanceof Ie?Promise.resolve(Gt.value.v).then(ft,Kt):Et($e[0][2],Gt)}(Ce[Gt](Fn))}catch(un){Et($e[0][3],un)}}function ft(Gt){Ne("next",Gt)}function Kt(Gt){Ne("throw",Gt)}function Et(Gt,Fn){Gt(Fn),$e.shift(),$e.length&&Ne($e[0][0],$e[0][1])}}function Ve(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,ae=te[Symbol.asyncIterator];return ae?ae.call(te):(te=function it(te){var ae="function"==typeof Symbol&&Symbol.iterator,le=ae&&te[ae],Ce=0;if(le)return le.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&Ce>=te.length&&(te=void 0),{value:te&&te[Ce++],done:!te}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),le={},Ce("next"),Ce("throw"),Ce("return"),le[Symbol.asyncIterator]=function(){return this},le);function Ce($e){le[$e]=te[$e]&&function(tt){return new Promise(function(Ne,wt){!function Oe($e,tt,Ne,wt){Promise.resolve(wt).then(function(ft){$e({value:ft,done:Ne})},tt)}(Ne,wt,(tt=te[$e](tt)).done,tt.value)})}}}k.d(be,{FC:()=>ge,KL:()=>Ve,_T:()=>ie,mG:()=>K,qq:()=>Ie})},4650:(mt,be,k)=>{k.d(be,{$8M:()=>hu,$WT:()=>ds,$Z:()=>Oc,AFp:()=>d_,AaK:()=>ye,BQk:()=>_g,CHM:()=>Bs,CRH:()=>kf,CZH:()=>Qs,CqO:()=>Eg,D6c:()=>Wf,EJc:()=>ub,EpF:()=>Jh,F4k:()=>Xh,FYo:()=>$D,FiY:()=>kr,GfV:()=>AE,Gpc:()=>$,JOm:()=>es,KtG:()=>ih,LFG:()=>ke,Lbi:()=>f_,Lck:()=>lw,MMx:()=>vf,MR2:()=>yy,NdJ:()=>wg,OlP:()=>fn,Oqu:()=>bv,P3R:()=>UD,PXZ:()=>hb,Q6J:()=>gg,QGY:()=>Uc,Qsj:()=>GS,R0b:()=>as,RDi:()=>aE,Rgc:()=>Tf,SBq:()=>Wp,Sil:()=>Vf,Suo:()=>Vd,TTD:()=>$o,TgZ:()=>Dd,X6Q:()=>oI,XFs:()=>yt,Xpm:()=>Ga,Xts:()=>my,Y36:()=>md,YKP:()=>qv,YNc:()=>d0,Yjl:()=>Wu,Yz7:()=>Et,Z0I:()=>Dn,ZZ4:()=>hl,_Bn:()=>yf,_UZ:()=>yg,_Vd:()=>Mh,_c5:()=>bb,_uU:()=>M0,aQg:()=>A_,c2e:()=>p_,cJS:()=>Fn,cg1:()=>Mi,dDg:()=>dm,dqk:()=>It,eFA:()=>rI,eJc:()=>Hn,ekj:()=>Dv,eoX:()=>eI,f3M:()=>nt,g9A:()=>om,h0i:()=>ka,hGG:()=>Tb,hij:()=>Mg,iGM:()=>Of,ifc:()=>J,ip1:()=>Fu,jDz:()=>Gg,kL8:()=>xd,lG2:()=>qu,lqb:()=>Iu,lri:()=>Jw,n5z:()=>Vl,oAB:()=>Fo,oxw:()=>g0,q4F:()=>Dy,qLn:()=>dd,qOj:()=>Fc,qZA:()=>Qh,rWj:()=>Xw,sBO:()=>vb,s_b:()=>xs,soG:()=>ul,tb:()=>__,tp0:()=>Ti,uIk:()=>Ks,vHH:()=>ue,vpe:()=>os,wAp:()=>bt,xp6:()=>OE,ynx:()=>vg,z2F:()=>Uu,zSh:()=>ld,zs3:()=>ts});var h=k(7579),F=k(727),G=k(9751),ie=k(6451),se=k(3099);function oe(i){for(let s in i)if(i[s]===oe)return s;throw Error("Could not find renamed property on target object.")}function Re(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ye(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ye).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function we(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const j=oe({__forward_ref__:oe});function $(i){return i.__forward_ref__=$,i.toString=function(){return ye(this())},i}function K(i){return Ue(i)?i():i}function Ue(i){return"function"==typeof i&&i.hasOwnProperty(j)&&i.__forward_ref__===$}function Ee(i){return i&&!!i.\u0275providers}const it="https://g.co/ng/security#xss";class ue extends Error{constructor(s,a){super(me(s,a)),this.code=s}}function me(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}function ve(i){return"string"==typeof i?i:null==i?"":String(i)}function Ve(i,s){throw new ue(-201,!1)}function tt(i,s){null==i&&function Ne(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Et(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Fn(i){return{providers:i.providers||[],imports:i.imports||[]}}function un(i){return qn(i,gi)||qn(i,_n)}function Dn(i){return null!==un(i)}function qn(i,s){return i.hasOwnProperty(s)?i[s]:null}function ti(i){return i&&(i.hasOwnProperty(cs)||i.hasOwnProperty(Qn))?i[cs]:null}const gi=oe({\u0275prov:oe}),cs=oe({\u0275inj:oe}),_n=oe({ngInjectableDef:oe}),Qn=oe({ngInjectorDef:oe});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let ls;function Rn(i){const s=ls;return ls=i,s}function Ln(i,s,a){const c=un(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&yt.Optional?null:void 0!==s?s:void Ve(ye(i))}const It=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Jn={},Cn="__NG_DI_FLAG__",hr="ngTempTokenPath",mr="ngTokenPath",to=/\n/gm,yn="\u0275",Os="__source";let Zt;function xr(i){const s=Zt;return Zt=i,s}function Rr(i,s=yt.Default){if(void 0===Zt)throw new ue(-203,!1);return null===Zt?Ln(i,void 0,s):Zt.get(i,s&yt.Optional?null:void 0,s)}function ke(i,s=yt.Default){return(function mi(){return ls}()||Rr)(K(i),s)}function nt(i,s=yt.Default){return ke(i,gt(s))}function gt(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Bt(i){const s=[];for(let a=0;a<i.length;a++){const c=K(i[a]);if(Array.isArray(c)){if(0===c.length)throw new ue(900,!1);let d,p=yt.Default;for(let y=0;y<c.length;y++){const w=c[y],I=Nn(w);"number"==typeof I?-1===I?d=w.token:p|=I:d=w}s.push(ke(d,p))}else s.push(ke(c))}return s}function jt(i,s){return i[Cn]=s,i.prototype[Cn]=s,i}function Nn(i){return i[Cn]}function W(i){return{toString:i}.toString()}var ce=(()=>((ce=ce||{})[ce.OnPush=0]="OnPush",ce[ce.Default=1]="Default",ce))(),J=(()=>{return(i=J||(J={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",J;var i})();const Xe={},qe=[],on=oe({\u0275cmp:oe}),Vn=oe({\u0275dir:oe}),vn=oe({\u0275pipe:oe}),Xn=oe({\u0275mod:oe}),Vt=oe({\u0275fac:oe}),Nr=oe({__NG_ELEMENT_ID__:oe});let yi=0;function Ga(i){return W(()=>{const s=yr(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===ce.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||J.Emulated,id:"c"+yi++,styles:i.styles||qe,_:null,schemas:i.schemas||null,tView:null};Fi(a);const c=i.dependencies;return a.directiveDefs=hs(c,!1),a.pipeDefs=hs(c,!0),a})}function Gu(i){return Jt(i)||bn(i)}function ko(i){return null!==i}function Fo(i){return W(()=>({type:i.type,bootstrap:i.bootstrap||qe,declarations:i.declarations||qe,imports:i.imports||qe,exports:i.exports||qe,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Lo(i,s){if(null==i)return Xe;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,s&&(s[d]=p)}return a}function qu(i){return W(()=>{const s=yr(i);return Fi(s),s})}function Wu(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Jt(i){return i[on]||null}function bn(i){return i[Vn]||null}function er(i){return i[vn]||null}function ds(i){const s=Jt(i)||bn(i)||er(i);return null!==s&&s.standalone}function Hr(i,s){const a=i[Xn]||null;if(!a&&!0===s)throw new Error(`Type ${ye(i)} does not have '\u0275mod' property.`);return a}function yr(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||qe,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Lo(i.inputs,s),outputs:Lo(i.outputs)}}function Fi(i){i.features?.forEach(s=>s(i))}function hs(i,s){if(!i)return null;const a=s?er:Gu;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(ko)}const Li=0,Qe=1,ot=2,cn=3,vi=4,Ps=5,On=6,fs=7,Tn=8,Vi=9,Ku=10,Mt=11,Vo=12,ps=13,no=14,ks=15,vr=16,gs=17,Fs=18,_i=19,Ls=20,Zu=21,zt=22,Uo=1,za=2,Zi=7,ni=8,ro=9,tr=10;function _r(i){return Array.isArray(i)&&"object"==typeof i[Uo]}function Ei(i){return Array.isArray(i)&&!0===i[Uo]}function Bo(i){return 0!=(4&i.flags)}function ms(i){return i.componentOffset>-1}function Or(i){return 1==(1&i.flags)}function Gr(i){return!!i.template}function Yu(i){return 0!=(256&i[ot])}function ii(i,s){return i.hasOwnProperty(Vt)?i[Vt]:null}class El{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function $o(){return ys}function ys(i){return i.type.prototype.ngOnChanges&&(i.setInput=io),Qa}function Qa(){const i=so(this),s=i?.current;if(s){const a=i.previous;if(a===Xe)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function io(i,s,a,c){const d=this.declaredInputs[a],p=so(i)||function Ja(i,s){return i[Qu]=s}(i,{previous:Xe,current:null}),y=p.current||(p.current={}),w=p.previous,I=w[d];y[d]=new El(I&&I.currentValue,s,w===Xe),i[c]=s}$o.ngInherit=!0;const Qu="__ngSimpleChanges__";function so(i){return i[Qu]||null}const rn=function(i,s,a){};function Sn(i){for(;Array.isArray(i);)i=i[Li];return i}function vs(i,s){return Sn(s[i])}function nr(i,s){return Sn(s[i.index])}function Go(i,s){return i.data[s]}function rr(i,s){const a=s[i];return _r(a)?a:a[Li]}function oo(i){return 64==(64&i[ot])}function Ii(i,s){return null==s?null:i[s]}function Us(i){i[Fs]=0}function zo(i,s){i[Ps]+=s;let a=i,c=i[cn];for(;null!==c&&(1===s&&1===a[Ps]||-1===s&&0===a[Ps]);)c[Ps]+=s,a=c,c=c[cn]}const St={lFrame:Sl(null),bindingsEnabled:!0};function Il(){return St.bindingsEnabled}function _e(){return St.lFrame.lView}function qt(){return St.lFrame.tView}function Bs(i){return St.lFrame.contextLView=i,i[Tn]}function ih(i){return St.lFrame.contextLView=null,i}function Pn(){let i=sh();for(;null!==i&&64===i.type;)i=i.parent;return i}function sh(){return St.lFrame.currentTNode}function Di(i,s){const a=St.lFrame;a.currentTNode=i,a.isParent=s}function nu(){return St.lFrame.isParent}function qo(){St.lFrame.isParent=!1}function Ko(){return St.lFrame.bindingIndex++}function sc(i,s){const a=St.lFrame;a.bindingIndex=a.bindingRootIndex=i,ao(s)}function ao(i){St.lFrame.currentDirectiveIndex=i}function su(){return St.lFrame.currentQueryIndex}function ou(i){St.lFrame.currentQueryIndex=i}function Tl(i){const s=i[Qe];return 2===s.type?s.declTNode:1===s.type?i[On]:null}function oc(i,s,a){if(a&yt.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||a&yt.Host||(d=Tl(p),null===d||(p=p[ks],10&d.type))););if(null===d)return!1;s=d,i=p}const c=St.lFrame=ap();return c.currentTNode=s,c.lView=i,!0}function au(i){const s=ap(),a=i[Qe];St.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function ap(){const i=St.lFrame,s=null===i?null:i.child;return null===s?Sl(i):s}function Sl(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ac(){const i=St.lFrame;return St.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Al=ac;function Ml(){const i=ac();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ir(){return St.lFrame.selectedIndex}function uo(i){St.lFrame.selectedIndex=i}function an(){const i=St.lFrame;return Go(i.tView,i.selectedIndex)}function Rl(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:x}=p;y&&(i.contentHooks??(i.contentHooks=[])).push(-a,y),w&&((i.contentHooks??(i.contentHooks=[])).push(a,w),(i.contentCheckHooks??(i.contentCheckHooks=[])).push(a,w)),I&&(i.viewHooks??(i.viewHooks=[])).push(-a,I),T&&((i.viewHooks??(i.viewHooks=[])).push(a,T),(i.viewCheckHooks??(i.viewCheckHooks=[])).push(a,T)),null!=x&&(i.destroyHooks??(i.destroyHooks=[])).push(a,x)}}function Nl(i,s,a){Es(i,s,3,a)}function uu(i,s,a,c){(3&i[ot])===a&&Es(i,s,a,c)}function Zo(i,s){let a=i[ot];(3&a)===s&&(a&=2047,a+=1,i[ot]=a)}function Es(i,s,a,c){const p=c??-1,y=s.length-1;let w=0;for(let I=void 0!==c?65535&i[Fs]:0;I<y;I++)if("number"==typeof s[I+1]){if(w=s[I],null!=c&&w>=c)break}else s[I]<0&&(i[Fs]+=65536),(w<p||-1==p)&&(lp(i,a,s,I),i[Fs]=(4294901760&i[Fs])+I+2),I++}function lp(i,s,a,c){const d=a[c]<0,p=a[c+1],w=i[d?-a[c]:a[c]];if(d){if(i[ot]>>11<i[Fs]>>16&&(3&i[ot])===s){i[ot]+=2048,rn(4,w,p);try{p.call(w)}finally{rn(5,w,p)}}}else{rn(4,w,p);try{p.call(w)}finally{rn(5,w,p)}}}const Ui=-1;class Yo{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function co(i,s,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const p=a[c++],y=a[c++],w=a[c++];i.setAttribute(s,y,w,p)}else{const p=d,y=a[++c];ws(p)?i.setProperty(s,p,y):i.setAttribute(s,p,y),c++}}return c}function lo(i){return 3===i||4===i||6===i}function ws(i){return 64===i.charCodeAt(0)}function Bi(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||Jo(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function Jo(i,s,a,c,d){let p=0,y=i.length;if(-1===s)y=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===s){y=-1;break}if(w>s){y=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===a){if(null===c)return void(null!==d&&(i[p+1]=d));if(c===i[p+1])return void(i[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==y&&(i.splice(y,0,s),p=y+1),i.splice(p++,0,a),null!==c&&i.splice(p++,0,c),null!==d&&i.splice(p++,0,d)}function ho(i){return i!==Ui}function Xo(i){return 32767&i}function fo(i,s){let a=function lh(i){return i>>16}(i),c=s;for(;a>0;)c=c[ks],a--;return c}let cu=!0;function ea(i){const s=cu;return cu=i,s}const lu=255,ta=5;let na=0;const oi={};function ra(i,s){const a=du(i,s);if(-1!==a)return a;const c=s[Qe];c.firstCreatePass&&(i.injectorIndex=s.length,hn(c.data,i),hn(s,null),hn(c.blueprint,null));const d=Is(i,s),p=i.injectorIndex;if(ho(d)){const y=Xo(d),w=fo(d,s),I=w[Qe].data;for(let T=0;T<8;T++)s[p+T]=w[y+T]|I[y+T]}return s[p+8]=d,p}function hn(i,s){i.push(0,0,0,0,0,0,0,0,s)}function du(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Is(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){if(c=Ul(d),null===c)return Ui;if(a++,d=d[ks],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Ui}function ia(i,s,a){!function js(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Nr)&&(c=a[Nr]),null==c&&(c=a[Nr]=na++);const d=c&lu;s.data[i+(d>>ta)]|=1<<d}(i,s,a)}function sa(i,s,a){if(a&yt.Optional||void 0!==i)return i;Ve()}function kl(i,s,a,c){if(a&yt.Optional&&void 0===c&&(c=null),!(a&(yt.Self|yt.Host))){const d=i[Vi],p=Rn(void 0);try{return d?d.get(s,c,a&yt.Optional):Ln(s,c,a&yt.Optional)}finally{Rn(p)}}return sa(c,0,a)}function oa(i,s,a,c=yt.Default,d){if(null!==i){if(1024&s[ot]){const y=function hc(i,s,a,c,d){let p=i,y=s;for(;null!==p&&null!==y&&1024&y[ot]&&!(256&y[ot]);){const w=Fl(p,y,a,c|yt.Self,oi);if(w!==oi)return w;let I=p.parent;if(!I){const T=y[Zu];if(T){const x=T.get(a,oi,c);if(x!==oi)return x}I=Ul(y),y=y[ks]}p=I}return d}(i,s,a,c,oi);if(y!==oi)return y}const p=Fl(i,s,a,c,oi);if(p!==oi)return p}return kl(s,a,c,d)}function Fl(i,s,a,c,d){const p=function Ds(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Nr)?i[Nr]:void 0;return"number"==typeof s?s>=0?s&lu:ca:s}(a);if("function"==typeof p){if(!oc(s,i,c))return c&yt.Host?sa(d,0,c):kl(s,a,c,d);try{const y=p(c);if(null!=y||c&yt.Optional)return y;Ve()}finally{Al()}}else if("number"==typeof p){let y=null,w=du(i,s),I=Ui,T=c&yt.Host?s[vr][On]:null;for((-1===w||c&yt.SkipSelf)&&(I=-1===w?Is(i,s):s[w+8],I!==Ui&&ua(c,!1)?(y=s[Qe],w=Xo(I),s=fo(I,s)):w=-1);-1!==w;){const x=s[Qe];if(Ll(p,w,x.data)){const P=Pr(w,s,a,y,c,T);if(P!==oi)return P}I=s[w+8],I!==Ui&&ua(c,s[Qe].data[w+8]===T)&&Ll(p,w,s)?(y=x,w=Xo(I),s=fo(I,s)):w=-1}}return d}function Pr(i,s,a,c,d,p){const y=s[Qe],w=y.data[i+8],x=aa(w,y,a,null==c?ms(w)&&cu:c!=y&&0!=(3&w.type),d&yt.Host&&p===w);return null!==x?Ci(s,y,x,w):oi}function aa(i,s,a,c,d){const p=i.providerIndexes,y=s.data,w=1048575&p,I=i.directiveStart,x=p>>20,H=d?w+x:i.directiveEnd;for(let Y=c?w:w+x;Y<H;Y++){const de=y[Y];if(Y<I&&a===de||Y>=I&&de.type===a)return Y}if(d){const Y=y[I];if(Y&&Gr(Y)&&Y.type===a)return I}return null}function Ci(i,s,a,c){let d=i[a];const p=s.data;if(function uh(i){return i instanceof Yo}(d)){const y=d;y.resolving&&function Ie(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new ue(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ve(i)}(p[a]));const w=ea(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?Rn(y.injectImpl):null;oc(i,c,yt.Default);try{d=i[a]=y.factory(void 0,p,i,c),s.firstCreatePass&&a>=c.directiveStart&&function ah(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(c){const y=ys(s);(a.preOrderHooks??(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,y)}d&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-i,d),p&&((a.preOrderHooks??(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==I&&Rn(I),ea(w),y.resolving=!1,Al()}}return d}function Ll(i,s,a){return!!(a[s+(i>>ta)]&1<<i)}function ua(i,s){return!(i&yt.Self||i&yt.Host&&s)}class wr{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return oa(this._tNode,this._lView,s,gt(c),a)}}function ca(){return new wr(Pn(),_e())}function Vl(i){return W(()=>{const s=i.prototype.constructor,a=s[Vt]||la(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const p=d[Vt]||la(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function la(i){return Ue(i)?()=>{const s=la(K(i));return s&&s()}:ii(i)}function Ul(i){const s=i[Qe],a=s.type;return 2===a?s.declTNode:1===a?i[On]:null}function hu(i){return function dc(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(lo(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(Pn(),i)}const Cs="__parameters__";function po(i,s,a){return W(()=>{const c=function Bl(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...p){if(this instanceof d)return c.apply(this,p),this;const y=new d(...p);return w.annotation=y,w;function w(I,T,x){const P=I.hasOwnProperty(Cs)?I[Cs]:Object.defineProperty(I,Cs,{value:[]})[Cs];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(y),I}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class fn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Et({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function go(i,s){i.forEach(a=>Array.isArray(a)?go(a,s):s(a))}function $l(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function mc(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Wt(i,s,a){let c=ji(i,s);return c>=0?i[1|c]=a:(c=~c,function vc(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function Bn(i,s){const a=ji(i,s);if(a>=0)return i[1|a]}function ji(i,s){return function fu(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const p=c+(d-c>>1),y=i[p<<a];if(s===y)return p<<a;y>s?d=p:c=p+1}return~(d<<a)}(i,s,1)}const kr=jt(po("Optional"),8),Ti=jt(po("SkipSelf"),4);var es=(()=>((es=es||{})[es.Important=1]="Important",es[es.DashCase=2]="DashCase",es))();const Cp=new Map;let tE=0;const Sp="__ngContext__";function Zr(i,s){_r(s)?(i[Sp]=s[Ls],function Wl(i){Cp.set(i[Ls],i)}(s)):i[Sp]=s}let mu;function _a(i,s){return mu(i,s)}function wo(i){const s=i[cn];return Ei(s)?s[cn]:s}function td(i){return Ih(i[ps])}function yu(i){return Ih(i[vi])}function Ih(i){for(;null!==i&&!Ei(i);)i=i[vi];return i}function wa(i,s,a,c,d){if(null!=c){let p,y=!1;Ei(c)?p=c:_r(c)&&(y=!0,c=c[Li]);const w=Sn(c);0===i&&null!==a?null==d?vu(s,a,w):ci(s,a,w,d||null,!0):1===i&&null!==a?ci(s,a,w,d||null,!0):2===i?function sd(i,s,a){const c=Ia(i,s);c&&function Rp(i,s,a,c){i.removeChild(s,a,c)}(i,c,s,a)}(s,w,y):3===i&&s.destroyNode(w),null!=p&&function wD(i,s,a,c,d){const p=a[Zi];p!==Sn(a)&&wa(s,i,c,p,d);for(let w=tr;w<a.length;w++){const I=a[w];od(I[Qe],I,i,s,c,p)}}(s,i,p,a,d)}}function xp(i,s,a){return i.createElement(s,a)}function R(i,s){const a=i[ro],c=a.indexOf(s),d=s[cn];512&s[ot]&&(s[ot]&=-513,zo(d,-1)),a.splice(c,1)}function z(i,s){if(i.length<=tr)return;const a=tr+s,c=i[a];if(c){const d=c[gs];null!==d&&d!==i&&R(d,c),s>0&&(i[a-1][vi]=c[vi]);const p=mc(i,tr+s);!function ny(i,s){od(i,s,s[Mt],2,null,null),s[Li]=null,s[On]=null}(c[Qe],c);const y=p[_i];null!==y&&y.detachView(p[Qe]),c[cn]=null,c[vi]=null,c[ot]&=-65}return c}function ee(i,s){if(!(128&s[ot])){const a=s[Mt];a.destroyNode&&od(i,s,a,3,null,null),function g(i){let s=i[ps];if(!s)return Fe(i[Qe],i);for(;s;){let a=null;if(_r(s))a=s[ps];else{const c=s[tr];c&&(a=c)}if(!a){for(;s&&!s[vi]&&s!==i;)_r(s)&&Fe(s[Qe],s),s=s[cn];null===s&&(s=i),_r(s)&&Fe(s[Qe],s),a=s&&s[vi]}s=a}}(s)}}function Fe(i,s){if(!(128&s[ot])){s[ot]&=-65,s[ot]|=128,function ct(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof Yo)){const p=a[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=d[p[y]],I=p[y+1];rn(4,w,I);try{I.call(w)}finally{rn(5,w,I)}}else{rn(4,d,p);try{p.call(d)}finally{rn(5,d,p)}}}}}(i,s),function ze(i,s){const a=i.cleanup,c=s[fs];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?c[d=y]():c[d=-y].unsubscribe(),p+=2}else{const y=c[d=a[p+1]];a[p].call(y)}if(null!==c){for(let p=d+1;p<c.length;p++)(0,c[p])();s[fs]=null}}(i,s),1===s[Qe].type&&s[Mt].destroy();const a=s[gs];if(null!==a&&Ei(s[cn])){a!==s[cn]&&R(a,s);const c=s[_i];null!==c&&c.detachView(i)}!function Zl(i){Cp.delete(i[Ls])}(s)}}function Pt(i,s,a){return function Lr(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[Li];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:p}=i.data[c.directiveStart+d];if(p===J.None||p===J.Emulated)return null}return nr(c,a)}}(i,s.parent,a)}function ci(i,s,a,c,d){i.insertBefore(s,a,c,d)}function vu(i,s,a){i.appendChild(s,a)}function Dh(i,s,a,c,d){null!==c?ci(i,s,a,c,d):vu(i,s,a)}function Ia(i,s){return i.parentNode(s)}let Ac,oy,ay,rd=function Sc(i,s,a){return 40&i.type?nr(i,a):null};function _u(i,s,a,c){const d=Pt(i,c,s),p=s[Mt],w=function Op(i,s,a){return rd(i,s,a)}(c.parent||s[On],c,s);if(null!=d)if(Array.isArray(a))for(let I=0;I<a.length;I++)Dh(p,d,a[I],w,!1);else Dh(p,d,a,w,!1);void 0!==Ac&&Ac(p,c,s,a,d)}function Ch(i,s){if(null!==s){const a=s.type;if(3&a)return nr(s,i);if(4&a)return Mc(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return Ch(i,c);{const d=i[s.index];return Ei(d)?Mc(-1,d):Sn(d)}}if(32&a)return _a(s,i)()||Sn(i[s.index]);{const c=nE(i,s);return null!==c?Array.isArray(c)?c[0]:Ch(wo(i[vr]),c):Ch(i,s.next)}}return null}function nE(i,s){return null!==s?i[vr][On].projection[s.projection]:null}function Mc(i,s){const a=tr+i+1;if(a<s.length){const c=s[a],d=c[Qe].firstChild;if(null!==d)return Ch(c,d)}return s[Zi]}function Pp(i,s,a,c,d,p,y){for(;null!=a;){const w=c[a.index],I=a.type;if(y&&0===s&&(w&&Zr(Sn(w),c),a.flags|=2),32!=(32&a.flags))if(8&I)Pp(i,s,a.child,c,d,p,!1),wa(s,i,d,w,p);else if(32&I){const T=_a(a,c);let x;for(;x=T();)wa(s,i,d,x,p);wa(s,i,d,w,p)}else 16&I?ED(i,s,c,a,d,p):wa(s,i,d,w,p);a=y?a.projectionNext:a.next}}function od(i,s,a,c,d,p){Pp(a,c,i.firstChild,s,d,p,!1)}function ED(i,s,a,c,d,p){const y=a[vr],I=y[On].projection[c.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)wa(s,i,d,I[T],p);else Pp(i,s,I,y[cn],d,p,!0)}function ID(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function DD(i,s,a){const{mergedAttrs:c,classes:d,styles:p}=a;null!==c&&co(i,s,c),null!==d&&ID(i,s,d),null!==p&&function xS(i,s,a){i.setAttribute(s,"style",a)}(i,s,p)}function aE(i){oy=i}function lE(i){return function kp(){if(void 0===ay&&(ay=null,It.trustedTypes))try{ay=It.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return ay}()?.createScriptURL(i)||i}class cy{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}function Eu(i){return i instanceof cy?i.changingThisBreaksApplicationSecurity:i}function Rc(i,s){const a=function SD(i){return i instanceof cy&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${it})`)}return a===s}const RD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var or=(()=>((or=or||{})[or.NONE=0]="NONE",or[or.HTML=1]="HTML",or[or.STYLE=2]="STYLE",or[or.SCRIPT=3]="SCRIPT",or[or.URL=4]="URL",or[or.RESOURCE_URL=5]="RESOURCE_URL",or))();function LD(i){const s=Hp();return s?s.sanitize(or.URL,i)||"":Rc(i,"URL")?Eu(i):function Lp(i){return(i=String(i)).match(RD)?i:"unsafe:"+i}(ve(i))}function gy(i){const s=Hp();if(s)return lE(s.sanitize(or.RESOURCE_URL,i)||"");if(Rc(i,"ResourceURL"))return lE(Eu(i));throw new ue(904,!1)}function UD(i,s,a){return function US(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?gy:LD}(s,a)(i)}function Hp(){const i=_e();return i&&i[Vo]}const my=new fn("ENVIRONMENT_INITIALIZER"),_E=new fn("INJECTOR",-1),vt=new fn("INJECTOR_DEF_TYPES");class li{get(s,a=Jn){if(a===Jn){const c=new Error(`NullInjectorError: No provider for ${ye(s)}!`);throw c.name="NullInjectorError",c}return a}}function yy(i){return{\u0275providers:i}}function wu(...i){return{\u0275providers:$i(0,i),\u0275fromNgModule:!0}}function $i(i,...s){const a=[],c=new Set;let d;return go(s,p=>{const y=p;cd(y,a,[],c)&&(d||(d=[]),d.push(y))}),void 0!==d&&Gs(d,a),a}function Gs(i,s){for(let a=0;a<i.length;a++){const{providers:d}=i[a];zs(d,p=>{s.push(p)})}}function cd(i,s,a,c){if(!(i=K(i)))return!1;let d=null,p=ti(i);const y=!p&&Jt(i);if(p||y){if(y&&!y.standalone)return!1;d=i}else{const I=i.ngModule;if(p=ti(I),!p)return!1;d=I}const w=c.has(d);if(y){if(w)return!1;if(c.add(d),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of I)cd(T,s,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let T;c.add(d);try{go(p.imports,x=>{cd(x,s,a,c)&&(T||(T=[]),T.push(x))})}finally{}void 0!==T&&Gs(T,s)}if(!w){const T=ii(d)||(()=>new d);s.push({provide:d,useFactory:T,deps:qe},{provide:vt,useValue:d,multi:!0},{provide:my,useValue:()=>ke(d),multi:!0})}const I=p.providers;null==I||w||zs(I,x=>{s.push(x)})}}return d!==i&&void 0!==i.providers}function zs(i,s){for(let a of i)Ee(a)&&(a=a.\u0275providers),Array.isArray(a)?zs(a,s):s(a)}const BS=oe({provide:String,useValue:oe});function vy(i){return null!==i&&"object"==typeof i&&BS in i}function Nc(i){return"function"==typeof i}const ld=new fn("Set Injector scope."),qs={},jS={};let _y;function Gp(){return void 0===_y&&(_y=new li),_y}class Iu{}class Ey extends Iu{get destroyed(){return this._destroyed}constructor(s,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sh(s,y=>this.processProvider(y)),this.records.set(_E,Du(void 0,this)),d.has("environment")&&this.records.set(Iu,Du(void 0,this));const p=this.records.get(ld);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(vt.multi,qe,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=xr(this),c=Rn(void 0);try{return s()}finally{xr(a),Rn(c)}}get(s,a=Jn,c=yt.Default){this.assertNotDestroyed(),c=gt(c);const d=xr(this),p=Rn(void 0);try{if(!(c&yt.SkipSelf)){let w=this.records.get(s);if(void 0===w){const I=function CE(i){return"function"==typeof i||"object"==typeof i&&i instanceof fn}(s)&&un(s);w=I&&this.injectableDefInScope(I)?Du(zp(s),qs):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(c&yt.Self?Gp():this.parent).get(s,a=c&yt.Optional&&a===Jn?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[hr]=y[hr]||[]).unshift(ye(s)),d)throw y;return function V(i,s,a,c){const d=i[hr];throw s[Os]&&d.unshift(s[Os]),i.message=function L(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==yn?i.slice(2):i;let d=ye(s);if(Array.isArray(s))d=s.map(ye).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let w=s[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):ye(w)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(to,"\n  ")}`}("\n"+i.message,d,a,c),i[mr]=d,i[hr]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Rn(p),xr(d)}}resolveInjectorInitializers(){const s=xr(this),a=Rn(void 0);try{const c=this.get(my.multi,qe,yt.Self);for(const d of c)d()}finally{xr(s),Rn(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(ye(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(s){let a=Nc(s=K(s))?s:K(s&&s.provide);const c=function Th(i){return vy(i)?Du(void 0,i.useValue):Du(ar(i),qs)}(s);if(Nc(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Du(void 0,qs,!0),d.factory=()=>Bt(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===qs&&(a.value=jS,a.value=a.factory()),"object"==typeof a.value&&a.value&&function qp(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=K(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function zp(i){const s=un(i),a=null!==s?s.factory:ii(i);if(null!==a)return a;if(i instanceof fn)throw new ue(204,!1);if(i instanceof Function)return function BD(i){const s=i.length;if(s>0)throw function mo(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new ue(204,!1);const a=function ki(i){const s=i&&(i[gi]||i[_n]);return s?(function us(i){if(i.hasOwnProperty("name"))return i.name;(""+i).match(/^function\s*([^\s(]+)/)}(i),s):null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new ue(204,!1)}function ar(i,s,a){let c;if(Nc(i)){const d=K(i);return ii(d)||zp(d)}if(vy(i))c=()=>K(i.useValue);else if(function IE(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Bt(i.deps||[]));else if(function wE(i){return!(!i||!i.useExisting)}(i))c=()=>ke(K(i.useExisting));else{const d=K(i&&(i.useClass||i.provide));if(!function wy(i){return!!i.deps}(i))return ii(d)||zp(d);c=()=>new d(...Bt(i.deps))}return c}function Du(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Sh(i,s){for(const a of i)Array.isArray(a)?Sh(a,s):a&&Ee(a)?Sh(a.\u0275providers,s):s(a)}class bE{}class Iy{}class Ah{resolveComponentFactory(s){throw function jD(i){const s=Error(`No component factory found for ${ye(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Mh=(()=>{class i{}return i.NULL=new Ah,i})();function SE(){return xh(Pn(),_e())}function xh(i,s){return new Wp(nr(i,s))}let Wp=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=SE,i})();function HS(i){return i instanceof Wp?i.nativeElement:i}class $D{}let GS=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function zS(){const i=_e(),a=rr(Pn().index,i);return(_r(a)?a:i)[Mt]}(),i})(),HD=(()=>{class i{}return i.\u0275prov=Et({token:i,providedIn:"root",factory:()=>null}),i})();class AE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Dy=new AE("15.2.7"),Cy={},ME="ngOriginalError";function by(i){return i[ME]}class dd{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&by(s);for(;a&&by(a);)a=by(a);return a||null}}function Cu(i){return i instanceof Function?i():i}function KD(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===c||i.charCodeAt(d+p)<=32)return d}a=d+1}}const ZD="ng-template";function KS(i,s,a){let c=0,d=!0;for(;c<i.length;){let p=i[c++];if("string"==typeof p&&d){const y=i[c++];if(a&&"class"===p&&-1!==KD(y.toLowerCase(),s,0))return!0}else{if(1===p){for(;c<i.length&&"string"==typeof(p=i[c++]);)if(p.toLowerCase()===s)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function YD(i){return 4===i.type&&i.value!==ZD}function ZS(i,s,a){return s===(4!==i.type||a?i.value:ZD)}function QD(i,s,a){let c=4;const d=i.attrs||[],p=function Kp(i){for(let s=0;s<i.length;s++)if(lo(i[s]))return s;return i.length}(d);let y=!1;for(let w=0;w<s.length;w++){const I=s[w];if("number"!=typeof I){if(!y)if(4&c){if(c=2|1&c,""!==I&&!ZS(i,I,a)||""===I&&1===s.length){if(Io(c))return!1;y=!0}}else{const T=8&c?I:s[++w];if(8&c&&null!==i.attrs){if(!KS(i.attrs,T,a)){if(Io(c))return!1;y=!0}continue}const P=YS(8&c?"class":I,d,YD(i),a);if(-1===P){if(Io(c))return!1;y=!0;continue}if(""!==T){let H;H=P>p?"":d[P+1].toLowerCase();const Y=8&c?H:null;if(Y&&-1!==KD(Y,T,0)||2&c&&T!==H){if(Io(c))return!1;y=!0}}}}else{if(!y&&!Io(c)&&!Io(I))return!1;if(y&&Io(I))continue;y=!1,c=I|1&c}}return Io(c)||y}function Io(i){return 0==(1&i)}function YS(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let p=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=s[++d];for(;"string"==typeof w;)w=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function Rh(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function bu(i,s,a=!1){for(let c=0;c<s.length;c++)if(QD(i,s[c],a))return!0;return!1}function XD(i,s){return i?":not("+s.trim()+")":s}function eC(i){let s=i[0],a=1,c=2,d="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const w=i[++a];d+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!Io(y)&&(s+=XD(p,d),d=""),c=y,p=p||!Io(c);a++}return""!==d&&(s+=XD(p,d)),s}const Ft={};function OE(i){PE(qt(),_e(),ir()+i,!1)}function PE(i,s,a,c){if(!c)if(3==(3&s[ot])){const p=i.preOrderCheckHooks;null!==p&&Nl(s,p,a)}else{const p=i.preOrderHooks;null!==p&&uu(s,p,0,a)}uo(a)}function Do(i,s=null,a=null,c){const d=Zp(i,s,a,c);return d.resolveInjectorInitializers(),d}function Zp(i,s=null,a=null,c,d=new Set){const p=[a||qe,wu(i)];return c=c||("object"==typeof i?void 0:ye(i)),new Ey(p,s||Gp(),c||null,d)}let ts=(()=>{class i{static create(a,c){if(Array.isArray(a))return Do({name:""},c,a,"");{const d=a.name??"";return Do({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=Jn,i.NULL=new li,i.\u0275prov=Et({token:i,providedIn:"any",factory:()=>ke(_E)}),i.__NG_ELEMENT_ID__=-1,i})();function md(i,s=yt.Default){const a=_e();return null===a?ke(i,s):oa(Pn(),a,K(i),s)}function Oc(){throw new Error("invalid")}function Jp(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c+1];if(-1!==p){const y=i.data[p];ou(a[c]),y.contentQueries(2,s[p],p)}}}function Ph(i,s,a,c,d,p,y,w,I,T,x){const P=s.blueprint.slice();return P[Li]=d,P[ot]=76|c,(null!==x||i&&1024&i[ot])&&(P[ot]|=1024),Us(P),P[cn]=P[ks]=i,P[Tn]=a,P[Ku]=y||i&&i[Ku],P[Mt]=w||i&&i[Mt],P[Vo]=I||i&&i[Vo]||null,P[Vi]=T||i&&i[Vi]||null,P[On]=p,P[Ls]=function bp(){return tE++}(),P[Zu]=x,P[vr]=2==s.type?i[vr]:P,P}function Ca(i,s,a,c,d){let p=i.data[s];if(null===p)p=function kh(i,s,a,c,d){const p=sh(),y=nu(),I=i.data[s]=function tg(i,s,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=I),null!==p&&(y?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I,I.prev=p)),I}(i,s,a,c,d),function iu(){return St.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const y=function _s(){const i=St.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Di(p,!0),p}function Pc(i,s,a,c){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function Fh(i,s,a){au(s);try{const c=i.viewQuery;null!==c&&Hh(1,c,a);const d=i.template;null!==d&&jE(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Jp(i,s),i.staticViewQueries&&Hh(2,i.viewQuery,a);const p=i.components;null!==p&&function aC(i,s){for(let a=0;a<s.length;a++)pC(i,s[a])}(s,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[ot]&=-5,Ml()}}function Xp(i,s,a,c){const d=s[ot];if(128!=(128&d)){au(s);try{Us(s),function ic(i){return St.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&jE(i,s,a,2,c);const y=3==(3&d);if(y){const T=i.preOrderCheckHooks;null!==T&&Nl(s,T,null)}else{const T=i.preOrderHooks;null!==T&&uu(s,T,0,null),Zo(s,0)}if(function fC(i){for(let s=td(i);null!==s;s=yu(s)){if(!s[za])continue;const a=s[ro];for(let c=0;c<a.length;c++){const d=a[c];512&d[ot]||zo(d[cn],1),d[ot]|=512}}}(s),function hC(i){for(let s=td(i);null!==s;s=yu(s))for(let a=tr;a<s.length;a++){const c=s[a],d=c[Qe];oo(c)&&Xp(d,c,d.template,c[Tn])}}(s),null!==i.contentQueries&&Jp(i,s),y){const T=i.contentCheckHooks;null!==T&&Nl(s,T)}else{const T=i.contentHooks;null!==T&&uu(s,T,1),Zo(s,1)}!function UE(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)uo(~d);else{const p=d,y=a[++c],w=a[++c];sc(y,p),w(2,s[p])}}}finally{uo(-1)}}(i,s);const w=i.components;null!==w&&function BE(i,s){for(let a=0;a<s.length;a++)ZE(i,s[a])}(s,w);const I=i.viewQuery;if(null!==I&&Hh(2,I,c),y){const T=i.viewCheckHooks;null!==T&&Nl(s,T)}else{const T=i.viewHooks;null!==T&&uu(s,T,2),Zo(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[ot]&=-41,512&s[ot]&&(s[ot]&=-513,zo(s[cn],-1))}finally{Ml()}}}function jE(i,s,a,c,d){const p=ir(),y=2&c;try{uo(-1),y&&s.length>zt&&PE(i,s,zt,!1),rn(y?2:0,d),a(c,d)}finally{uo(p),rn(y?3:1,d)}}function Lh(i,s,a){if(Bo(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const y=i.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function eg(i,s,a){Il()&&(function WE(i,s,a,c){const d=a.directiveStart,p=a.directiveEnd;ms(a)&&function Qr(i,s,a){const c=nr(s,i),d=yd(a),p=i[Ku],y=$h(i,Ph(i,d,null,a.onPush?32:16,c,s,p,p.createRenderer(c,a),null,null,null));i[s.index]=y}(s,a,i.data[d+a.componentOffset]),i.firstCreatePass||ra(a,s),Zr(c,s);const y=a.initialInputs;for(let w=d;w<p;w++){const I=i.data[w],T=Ci(s,i,w,a);Zr(T,s),null!==y&&lC(0,w-d,T,I,0,y),Gr(I)&&(rr(a.index,s)[Tn]=Ci(s,i,w,a))}}(i,s,a,nr(a,s)),64==(64&a.flags)&&$y(i,s,a))}function Fy(i,s,a=nr){const c=s.localNames;if(null!==c){let d=s.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],w=-1===y?a(s,i):i[y];i[d++]=w}}}function yd(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Ly(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Ly(i,s,a,c,d,p,y,w,I,T){const x=zt+c,P=x+d,H=function Vh(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:Ft);return a}(x,P),Y="function"==typeof T?T():T;return H[Qe]={type:i,blueprint:H,template:a,queries:null,viewQuery:w,declTNode:s,data:H.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:Y,incompleteFirstPass:!1}}function $E(i,s,a,c){const d=QE(s);null===a?d.push(c):(d.push(a),i.firstCreatePass&&vd(i).push(c,d.length-1))}function ng(i,s,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const p=i[d];null===c?Vy(a,s,d,p):c.hasOwnProperty(d)&&Vy(a,s,c[d],p)}return a}function Vy(i,s,a,c){i.hasOwnProperty(a)?i[a].push(s,c):i[a]=[s,c]}function Uh(i,s,a,c){if(Il()){const d=null===c?null:{"":-1},p=function KE(i,s){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(bu(s,y.selectors,!1))if(c||(c=[]),Gr(y))if(null!==y.findHostDirectiveDefs){const w=[];d=d||new Map,y.findHostDirectiveDefs(y,w,d),c.unshift(...w,y),Gy(i,s,w.length)}else c.unshift(y),Gy(i,s,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,c,d),c.push(y)}return null===c?null:[c,d]}(i,a);let y,w;null===p?y=w=null:[y,w]=p,null!==y&&jy(i,s,a,y,d,w),d&&function zy(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new ue(-301,!1);c.push(s[d],p)}}}(a,c,d)}a.mergedAttrs=Bi(a.mergedAttrs,a.attrs)}function jy(i,s,a,c,d,p){for(let T=0;T<c.length;T++)ia(ra(a,s),i,c[T].type);!function Wy(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,c.length);for(let T=0;T<c.length;T++){const x=c[T];x.providersResolver&&x.providersResolver(x)}let y=!1,w=!1,I=Pc(i,s,c.length,null);for(let T=0;T<c.length;T++){const x=c[T];a.mergedAttrs=Bi(a.mergedAttrs,x.hostAttrs),Ur(i,a,s,I,x),qy(I,x,d),null!==x.contentQueries&&(a.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(a.flags|=64);const P=x.type.prototype;!y&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((i.preOrderHooks??(i.preOrderHooks=[])).push(a.index),y=!0),!w&&(P.ngOnChanges||P.ngDoCheck)&&((i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(a.index),w=!0),I++}!function HE(i,s,a){const d=s.directiveEnd,p=i.data,y=s.attrs,w=[];let I=null,T=null;for(let x=s.directiveStart;x<d;x++){const P=p[x],H=a?a.get(P):null,de=H?H.outputs:null;I=ng(P.inputs,x,I,H?H.inputs:null),T=ng(P.outputs,x,T,de);const Le=null===I||null===y||YD(s)?null:dC(I,x,y);w.push(Le)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=8),I.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=w,s.inputs=I,s.outputs=T}(i,a,p)}function $y(i,s,a){const c=a.directiveStart,d=a.directiveEnd,p=a.index,y=function oh(){return St.lFrame.currentDirectiveIndex}();try{uo(p);for(let w=c;w<d;w++){const I=i.data[w],T=s[w];ao(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Hy(I,T)}}finally{uo(-1),ao(y)}}function Hy(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Gy(i,s,a){s.componentOffset=a,(i.components??(i.components=[])).push(s.index)}function qy(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;Gr(s)&&(a[""]=i)}}function Ur(i,s,a,c,d){i.data[c]=d;const p=d.factory||(d.factory=ii(d.type)),y=new Yo(p,Gr(d),md);i.blueprint[c]=y,a[c]=y,function qE(i,s,a,c,d){const p=d.hostBindings;if(p){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const w=~s.index;(function cC(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=w&&y.push(w),y.push(a,c,p)}}(i,s,c,Pc(i,a,d.hostVars,Ft),d)}function ns(i,s,a,c,d,p){const y=nr(i,s);!function Bh(i,s,a,c,d,p,y){if(null==p)i.removeAttribute(s,d,a);else{const w=null==y?ve(p):y(p,c||"",d);i.setAttribute(s,d,w,a)}}(s[Mt],y,p,i.value,a,c,d)}function lC(i,s,a,c,d,p){const y=p[s];if(null!==y){const w=c.setInput;for(let I=0;I<y.length;){const T=y[I++],x=y[I++],P=y[I++];null!==w?c.setInput(a,P,T,x):a[x]=P}}}function dC(i,s,a){let c=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===c&&(c=[]);const y=i[p];for(let w=0;w<y.length;w+=2)if(y[w]===s){c.push(p,y[w+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Ky(i,s,a,c){return[i,!0,!1,s,null,0,c,a,null,null]}function ZE(i,s){const a=rr(s,i);if(oo(a)){const c=a[Qe];48&a[ot]?Xp(c,a,c.template,a[Tn]):a[Ps]>0&&jh(a)}}function jh(i){for(let c=td(i);null!==c;c=yu(c))for(let d=tr;d<c.length;d++){const p=c[d];if(oo(p))if(512&p[ot]){const y=p[Qe];Xp(y,p,y.template,p[Tn])}else p[Ps]>0&&jh(p)}const a=i[Qe].components;if(null!==a)for(let c=0;c<a.length;c++){const d=rr(a[c],i);oo(d)&&d[Ps]>0&&jh(d)}}function pC(i,s){const a=rr(s,i),c=a[Qe];(function Zy(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),Fh(c,a,a[Tn])}function $h(i,s){return i[ps]?i[no][vi]=s:i[ps]=s,i[no]=s,s}function rg(i){for(;i;){i[ot]|=32;const s=wo(i);if(Yu(i)&&!s)return i;i=s}return null}function kc(i,s,a,c=!0){const d=s[Ku];d.begin&&d.begin();try{Xp(i,s,i.template,a)}catch(y){throw c&&Qy(s,y),y}finally{d.end&&d.end()}}function Hh(i,s,a){ou(0),s(i,a)}function QE(i){return i[fs]||(i[fs]=[])}function vd(i){return i.cleanup||(i.cleanup=[])}function Qy(i,s){const a=i[Vi],c=a?a.get(dd,null):null;c&&c.handleError(s)}function ig(i,s,a,c,d){for(let p=0;p<a.length;){const y=a[p++],w=a[p++],I=s[y],T=i.data[y];null!==T.setInput?T.setInput(I,d,c,w):I[w]=d}}function sg(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?p=w:1==p?d=we(d,w):2==p&&(c=we(c,w+": "+s[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function og(i,s,a,c,d=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&c.push(Sn(p)),Ei(p))for(let w=tr;w<p.length;w++){const I=p[w],T=I[Qe].firstChild;null!==T&&og(I[Qe],I,T,c)}const y=a.type;if(8&y)og(i,s,a.child,c);else if(32&y){const w=_a(a,s);let I;for(;I=w();)c.push(I)}else if(16&y){const w=nE(s,a);if(Array.isArray(w))c.push(...w);else{const I=wo(s[vr]);og(I[Qe],I,w,c,!0)}}a=d?a.projectionNext:a.next}return c}class Co{get rootNodes(){const s=this._lView,a=s[Qe];return og(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tn]}set context(s){this._lView[Tn]=s}get destroyed(){return 128==(128&this._lView[ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[cn];if(Ei(s)){const a=s[ni],c=a?a.indexOf(this):-1;c>-1&&(z(s,c),mc(a,c))}this._attachedToViewContainer=!1}ee(this._lView[Qe],this._lView)}onDestroy(s){$E(this._lView[Qe],this._lView,null,s)}markForCheck(){rg(this._cdRefInjectingView||this._lView)}detach(){this._lView[ot]&=-65}reattach(){this._lView[ot]|=64}detectChanges(){kc(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function f(i,s){od(i,s,s[Mt],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=s}}class mC extends Co{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;kc(s[Qe],s,s[Tn],!1)}checkNoChanges(){}get context(){return null}}class JE extends Mh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Jt(s);return new _d(a,this.ngModule)}}function Au(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class ag{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){c=gt(c);const d=this.injector.get(s,Cy,c);return d!==Cy||a===Cy?d:this.parentInjector.get(s,a,c)}}class _d extends Iy{get inputs(){return Au(this.componentDef.inputs)}get outputs(){return Au(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Ay(i){return i.map(eC).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,c,d){let p=(d=d||this.ngModule)instanceof Iu?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new ag(s,p):s,w=y.get($D,null);if(null===w)throw new ue(407,!1);const I=y.get(HD,null),T=w.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",P=c?function uC(i,s,a){return i.selectRootElement(s,a===J.ShadowDom)}(T,c,this.componentDef.encapsulation):xp(T,x,function XE(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(x)),H=this.componentDef.onPush?288:272,Y=Ly(0,null,null,1,0,null,null,null,null,null),de=Ph(null,Y,null,H,null,null,w,T,I,y,null);let Le,We;au(de);try{const st=this.componentDef;let Ct,Se=null;st.findHostDirectiveDefs?(Ct=[],Se=new Map,st.findHostDirectiveDefs(st,Ct,Se),Ct.push(st)):Ct=[st];const Rt=function Ai(i,s){const a=i[Qe],c=zt;return i[c]=s,Ca(a,c,2,"#host",null)}(de,P),kn=function e0(i,s,a,c,d,p,y,w){const I=d[Qe];!function zh(i,s,a,c){for(const d of i)s.mergedAttrs=Bi(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(sg(s,s.mergedAttrs,!0),null!==a&&DD(c,a,s))}(c,i,s,y);const T=p.createRenderer(s,a),x=Ph(d,yd(a),null,a.onPush?32:16,d[i.index],i,p,T,w||null,null,null);return I.firstCreatePass&&Gy(I,i,c.length-1),$h(d,x),d[i.index]=x}(Rt,P,st,Ct,de,w,T);We=Go(Y,zt),P&&function t0(i,s,a,c){if(c)co(i,a,["ng-version",Dy.full]);else{const{attrs:d,classes:p}=function QS(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++c]):8===d&&a.push(p);else{if(!Io(d))break;d=p}c++}return{attrs:s,classes:a}}(s.selectors[0]);d&&co(i,a,d),p&&p.length>0&&ID(i,a,p.join(" "))}}(T,st,P,c),void 0!==a&&function Jy(i,s,a){const c=i.projection=[];for(let d=0;d<s.length;d++){const p=a[d];c.push(null!=p?Array.from(p):null)}}(We,this.ngContentSelectors,a),Le=function ug(i,s,a,c,d,p){const y=Pn(),w=d[Qe],I=nr(y,d);jy(w,d,y,a,null,c);for(let x=0;x<a.length;x++)Zr(Ci(d,w,y.directiveStart+x,y),d);$y(w,d,y),I&&Zr(I,d);const T=Ci(d,w,y.directiveStart+y.componentOffset,y);if(i[Tn]=d[Tn]=T,null!==p)for(const x of p)x(T,s);return Lh(w,y,i),T}(kn,st,Ct,Se,de,[n0]),Fh(Y,de,null)}finally{Ml()}return new Gh(this.componentType,Le,xh(We,de),de,We)}}class Gh extends bE{constructor(s,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new mC(d),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){const p=this._rootLView;ig(p[Qe],p,d,s,a),rg(rr(this._tNode.index,p))}}get injector(){return new wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function n0(){const i=Pn();Rl(_e()[Qe],i)}function Fc(i){let s=function Xy(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(Gr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ue(903,!1);d=s.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=qh(i.inputs),y.declaredInputs=qh(i.declaredInputs),y.outputs=qh(i.outputs);const w=d.hostBindings;w&&Wh(i,w);const I=d.viewQuery,T=d.contentQueries;if(I&&tv(i,I),T&&cg(i,T),Re(i.inputs,d.inputs),Re(i.declaredInputs,d.declaredInputs),Re(i.outputs,d.outputs),Gr(d)&&d.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(i),w===Fc&&(a=!1)}}s=Object.getPrototypeOf(s)}!function ev(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=Bi(d.hostAttrs,a=Bi(a,d.hostAttrs))}}(c)}function qh(i){return i===Xe?{}:i===qe?[]:i}function tv(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function cg(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,p)=>{s(c,d,p),a(c,d,p)}:s}function Wh(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}function Kh(i){return!!ba(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function ba(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Jr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Ks(i,s,a,c){const d=_e();return Jr(d,Ko(),s)&&(qt(),ns(an(),d,i,s,a,c)),Ks}function d0(i,s,a,c,d,p,y,w){const I=_e(),T=qt(),x=i+zt,P=T.firstCreatePass?function EC(i,s,a,c,d,p,y,w,I){const T=s.consts,x=Ca(s,i,4,y||null,Ii(T,w));Uh(s,a,x,Ii(T,I)),Rl(s,x);const P=x.tView=Ly(2,x,c,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,x),P.queries=s.queries.embeddedTView(x)),x}(x,T,I,s,a,c,d,p,y):T.data[x];Di(P,!1);const H=I[Mt].createComment("");_u(T,I,H,P),Zr(H,I),$h(I,I[x]=Ky(H,I,H,P)),Or(P)&&eg(T,I,P),null!=y&&Fy(I,P,w)}function gg(i,s,a){const c=_e();return Jr(c,Ko(),s)&&function di(i,s,a,c,d,p,y,w){const I=nr(s,a);let x,T=s.inputs;!w&&null!=T&&(x=T[c])?(ig(i,a,x,c,d),ms(s)&&function Uy(i,s){const a=rr(s,i);16&a[ot]||(a[ot]|=32)}(a,s.index)):3&s.type&&(c=function GE(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,s.value||"",c):d,p.setProperty(I,c,d))}(qt(),an(),c,i,s,c[Mt],a,!1),gg}function mg(i,s,a,c,d){const y=d?"class":"style";ig(i,a,s.inputs[y],y,c)}function Dd(i,s,a,c){const d=_e(),p=qt(),y=zt+i,w=d[Mt],I=p.firstCreatePass?function uv(i,s,a,c,d,p){const y=s.consts,I=Ca(s,i,2,c,Ii(y,d));return Uh(s,a,I,Ii(y,p)),null!==I.attrs&&sg(I,I.attrs,!1),null!==I.mergedAttrs&&sg(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(y,p,d,s,a,c):p.data[y],T=d[y]=xp(w,s,function cp(){return St.lFrame.currentNamespace}()),x=Or(I);return Di(I,!0),DD(w,T,I),32!=(32&I.flags)&&_u(p,d,T,I),0===function ec(){return St.lFrame.elementDepthCount}()&&Zr(T,d),function tc(){St.lFrame.elementDepthCount++}(),x&&(eg(p,d,I),Lh(p,I,d)),null!==c&&Fy(d,I),Dd}function Qh(){let i=Pn();nu()?qo():(i=i.parent,Di(i,!1));const s=i;!function nc(){St.lFrame.elementDepthCount--}();const a=qt();return a.firstCreatePass&&(Rl(a,i),Bo(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function ch(i){return 0!=(8&i.flags)}(s)&&mg(a,s,_e(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Qo(i){return 0!=(16&i.flags)}(s)&&mg(a,s,_e(),s.stylesWithoutHost,!1),Qh}function yg(i,s,a,c){return Dd(i,s,a,c),Qh(),yg}function vg(i,s,a){const c=_e(),d=qt(),p=i+zt,y=d.firstCreatePass?function cv(i,s,a,c,d){const p=s.consts,y=Ii(p,c),w=Ca(s,i,8,"ng-container",y);return null!==y&&sg(w,y,!0),Uh(s,a,w,Ii(p,d)),null!==s.queries&&s.queries.elementStart(s,w),w}(p,d,c,s,a):d.data[p];Di(y,!0);const w=c[p]=c[Mt].createComment("");return _u(d,c,w,y),Zr(w,c),Or(y)&&(eg(d,c,y),Lh(d,y,c)),null!=a&&Fy(c,y),vg}function _g(){let i=Pn();const s=qt();return nu()?qo():(i=i.parent,Di(i,!1)),s.firstCreatePass&&(Rl(s,i),Bo(i)&&s.queries.elementEnd(i)),_g}function Jh(){return _e()}function Uc(i){return!!i&&"function"==typeof i.then}function Xh(i){return!!i&&"function"==typeof i.subscribe}const Eg=Xh;function wg(i,s,a,c){const d=_e(),p=qt(),y=Pn();return function p0(i,s,a,c,d,p,y){const w=Or(c),T=i.firstCreatePass&&vd(i),x=s[Tn],P=QE(s);let H=!0;if(3&c.type||y){const Le=nr(c,s),We=y?y(Le):Le,st=P.length,Ct=y?Rt=>y(Sn(Rt[c.index])):c.index;let Se=null;if(!y&&w&&(Se=function ef(i,s,a,c){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===c){const w=s[fs],I=d[p+2];return w.length>I?w[I]:null}"string"==typeof y&&(p+=2)}return null}(i,s,d,c.index)),null!==Se)(Se.__ngLastListenerFn__||Se).__ngNextListenerFn__=p,Se.__ngLastListenerFn__=p,H=!1;else{p=lv(c,s,x,p,!1);const Rt=a.listen(We,d,p);P.push(p,Rt),T&&T.push(d,Ct,st,st+1)}}else p=lv(c,s,x,p,!1);const Y=c.outputs;let de;if(H&&null!==Y&&(de=Y[d])){const Le=de.length;if(Le)for(let We=0;We<Le;We+=2){const kn=s[de[We]][de[We+1]].subscribe(p),Gn=P.length;P.push(p,kn),T&&T.push(d,c.index,Gn,-(Gn+1))}}}(p,d,d[Mt],y,i,s,c),wg}function jn(i,s,a,c){try{return rn(6,s,a),!1!==a(c)}catch(d){return Qy(i,d),!1}finally{rn(7,s,a)}}function lv(i,s,a,c,d){return function p(y){if(y===Function)return c;rg(i.componentOffset>-1?rr(i.index,s):s);let I=jn(s,a,c,y),T=p.__ngNextListenerFn__;for(;T;)I=jn(s,a,T,y)&&I,T=T.__ngNextListenerFn__;return d&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function g0(i=1){return function uc(i){return(St.lFrame.contextLView=function xl(i,s){for(;i>0;)s=s[ks],i--;return s}(i,St.lFrame.contextLView))[Tn]}(i)}function Td(i,s){return i<<17|s<<2}function Zs(i){return i>>17&32767}function mv(i){return 2|i}function xu(i){return(131068&i)>>2}function Bc(i,s){return-131069&i|s<<2}function bg(i){return 1|i}function yv(i,s,a,c,d){const p=i[a+1],y=null===s;let w=c?Zs(p):xu(p),I=!1;for(;0!==w&&(!1===I||y);){const x=i[w+1];I0(i[w],s)&&(I=!0,i[w+1]=c?bg(x):mv(x)),w=c?Zs(x):xu(x)}I&&(i[a+1]=c?mv(p):bg(p))}function I0(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ji(i,s)>=0}function Dv(i,s){return function hi(i,s,a,c){const d=_e(),p=qt(),y=function si(i){const s=St.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);p.firstUpdatePass&&function TC(i,s,a,c){const d=i.data;if(null===d[a+1]){const p=d[ir()],y=function Ag(i,s){return s>=i.expandoStartIndex}(i,a);(function A0(i,s){return 0!=(i.flags&(s?8:16))})(p,c)&&null===s&&!y&&(s=!1),s=function xe(i,s,a,c){const d=function bl(i){const s=St.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=at(a=rt(null,i,s,a,c),s.attrs,c),p=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(a=rt(d,i,s,a,c),null===p){let I=function cr(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==xu(c))return i[Zs(c)]}(i,s,c);void 0!==I&&Array.isArray(I)&&(I=rt(null,i,s,I[1],c),I=at(I,s.attrs,c),function xa(i,s,a,c){i[Zs(a?s.classBindings:s.styleBindings)]=c}(i,s,c,I))}else p=function Cv(i,s,a){let c;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)c=at(c,i[p].hostAttrs,a);return at(c,s.attrs,a)}(i,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,c),function w0(i,s,a,c,d,p){let y=p?s.classBindings:s.styleBindings,w=Zs(y),I=xu(y);i[c]=a;let x,T=!1;if(Array.isArray(a)?(x=a[1],(null===x||ji(a,x)>0)&&(T=!0)):x=a,d)if(0!==I){const H=Zs(i[w+1]);i[c+1]=Td(H,w),0!==H&&(i[H+1]=Bc(i[H+1],c)),i[w+1]=function Cg(i,s){return 131071&i|s<<17}(i[w+1],c)}else i[c+1]=Td(w,0),0!==w&&(i[w+1]=Bc(i[w+1],c)),w=c;else i[c+1]=Td(I,0),0===w?w=c:i[I+1]=Bc(i[I+1],c),I=c;T&&(i[c+1]=mv(i[c+1])),yv(i,x,c,!0),yv(i,x,c,!1),function Tg(i,s,a,c,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&ji(p,s)>=0&&(a[c+1]=bg(a[c+1]))}(s,x,i,c,p),y=Td(w,I),p?s.classBindings=y:s.styleBindings=y}(d,p,s,a,y,c)}}(p,i,y,c),s!==Ft&&Jr(d,y,s)&&function Te(i,s,a,c,d,p,y,w){if(!(3&s.type))return;const I=i.data,T=I[w+1],x=function v0(i){return 1==(1&i)}(T)?pr(I,s,a,d,xu(T),y):void 0;nf(x)||(nf(p)||function y0(i){return 2==(2&i)}(T)&&(p=pr(I,null,a,d,w,y)),function rE(i,s,a,c,d){if(s)d?i.addClass(a,c):i.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:es.DashCase;null==d?i.removeStyle(a,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=es.Important),i.setStyle(a,c,d,p))}}(c,y,vs(ir(),a),d,p))}(p,p.data[ir()],d,d[Mt],i,d[y+1]=function SC(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ye(Eu(i)))),i}(s,a),c,y)}(i,s,null,!0),Dv}function rt(i,s,a,c,d){let p=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(p=s[w],c=at(c,p.hostAttrs,d),p!==i);)w++;return null!==i&&(a.directiveStylingLast=w),c}function at(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Wt(i,y,!!a||s[++p]))}return void 0===i?null:i}function pr(i,s,a,c,d,p){const y=null===s;let w;for(;d>0;){const I=i[d],T=Array.isArray(I),x=T?I[1]:I,P=null===x;let H=a[d+1];H===Ft&&(H=P?qe:void 0);let Y=P?Bn(H,c):x===c?H:void 0;if(T&&!nf(Y)&&(Y=Bn(I,c)),nf(Y)&&(w=Y,y))return w;const de=i[d+1];d=y?Zs(de):xu(de)}if(null!==s){let I=p?s.residualClasses:s.residualStyles;null!=I&&(w=Bn(I,c))}return w}function nf(i){return void 0!==i}function M0(i,s=""){const a=_e(),c=qt(),d=i+zt,p=c.firstCreatePass?Ca(c,d,1,s,null):c.data[d],y=a[d]=function nd(i,s){return i.createText(s)}(a[Mt],s);_u(c,a,y,p),Di(p,!1)}function bv(i){return Mg("",i,""),bv}function Mg(i,s,a){const c=_e(),d=function Sa(i,s,a,c){return Jr(i,Ko(),a)?s+ve(a)+c:Ft}(c,i,s,a);return d!==Ft&&function Ss(i,s,a){const c=vs(s,i);!function Tc(i,s,a){i.setValue(s,a)}(i[Mt],c,a)}(c,ir(),d),Mg}const ss=void 0;var Nv=["en",[["a","p"],["AM","PM"],ss],[["AM","PM"],ss,ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ss,"{1} 'at' {0}",ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function L0(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Md={};function Mi(i){const s=function V0(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Ov(s);if(a)return a;const c=s.split("-")[0];if(a=Ov(c),a)return a;if("en"===c)return Nv;throw new ue(701,!1)}function xd(i){return Mi(i)[bt.PluralCase]}function Ov(i){return i in Md||(Md[i]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[i]),Md[i]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const Oa="en-US";let j0=Oa;function Hv(i,s,a,c,d){if(i=K(i),Array.isArray(i))for(let p=0;p<i.length;p++)Hv(i[p],s,a,c,d);else{const p=qt(),y=_e();let w=Nc(i)?i:K(i.provide),I=ar(i);const T=Pn(),x=1048575&T.providerIndexes,P=T.directiveStart,H=T.providerIndexes>>20;if(Nc(i)||!i.multi){const Y=new Yo(I,d,md),de=Gv(w,s,d?x:x+H,P);-1===de?(ia(ra(T,y),p,w),$g(p,i,s.length),s.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(Y),y.push(Y)):(a[de]=Y,y[de]=Y)}else{const Y=Gv(w,s,x+H,P),de=Gv(w,s,x,x+H),We=de>=0&&a[de];if(d&&!We||!d&&!(Y>=0&&a[Y])){ia(ra(T,y),p,w);const st=function mf(i,s,a,c,d){const p=new Yo(i,a,md);return p.multi=[],p.index=s,p.componentProviders=0,cw(p,d,c&&!a),p}(d?zv:$C,a.length,d,c,I);!d&&We&&(a[de].providerFactory=st),$g(p,i,s.length,0),s.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(st),y.push(st)}else $g(p,i,Y>-1?Y:de,cw(a[d?de:Y],I,!d&&c));!d&&c&&We&&a[de].componentProviders++}}}function $g(i,s,a,c){const d=Nc(s),p=function DE(i){return!!i.useClass}(s);if(d||p){const I=(p?K(s.useClass):s).prototype.ngOnDestroy;if(I){const T=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const x=T.indexOf(a);-1===x?T.push(a,[c,I]):T[x+1].push(c,I)}else T.push(a,I)}}}function cw(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Gv(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function $C(i,s,a,c){return Pa(this.multi,[])}function zv(i,s,a,c){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Ci(a,a[Qe],this.providerFactory.index,c);p=w.slice(0,y),Pa(d,p);for(let I=y;I<w.length;I++)p.push(w[I])}else p=[],Pa(d,p);return p}function Pa(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function yf(i,s=[]){return a=>{a.providersResolver=(c,d)=>function uw(i,s,a){const c=qt();if(c.firstCreatePass){const d=Gr(i);Hv(a,c.data,c.blueprint,d,!0),Hv(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class ka{}class qv{}function lw(i,s){return new Wv(i,s??null)}class Wv extends ka{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new JE(this);const c=Hr(s);this._bootstrapComponents=Cu(c.bootstrap),this._r3Injector=Zp(s,a,[{provide:ka,useValue:this},{provide:Mh,useValue:this.componentFactoryResolver}],ye(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Pu extends qv{constructor(s){super(),this.moduleType=s}create(s){return new Wv(this.moduleType,s)}}class dw extends ka{constructor(s,a,c){super(),this.componentFactoryResolver=new JE(this),this.instance=null;const d=new Ey([...s,{provide:ka,useValue:this},{provide:Mh,useValue:this.componentFactoryResolver}],a||Gp(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function vf(i,s,a=null){return new dw(i,s,a).injector}let Hg=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=$i(0,a.type),d=c.length>0?vf([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Et({token:i,providedIn:"environment",factory:()=>new i(ke(Iu))}),i})();function Gg(i){i.getStandaloneInjector=s=>s.get(Hg).getOrCreateStandaloneInjector(i)}function In(i){return s=>{setTimeout(i,void 0,s)}}const os=class KC extends h.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let d=s,p=a||(()=>null),y=c;if(s&&"object"==typeof s){const I=s;d=I.next?.bind(I),p=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(p=In(p),d&&(d=In(d)),y&&(y=In(y)));const w=super.subscribe({next:d,error:p,complete:y});return s instanceof F.w0&&s.add(w),w}};function Wg(){return this._results[Symbol.iterator]()}class Kg{get changes(){return this._changes||(this._changes=new os)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Kg.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Wg)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=function ai(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function mp(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],p=s[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Tf=(()=>{class i{}return i.__NG_ELEMENT_ID__=Cw,i})();const Sf=Tf,ZC=class extends Sf{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s,a){const c=this._declarationTContainer.tView,d=Ph(this._declarationLView,c,s,16,null,c.declTNode,null,null,null,null,a||null);d[gs]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[_i];return null!==y&&(d[_i]=y.createEmbeddedView(c)),Fh(c,d,s),new Co(d)}};function Cw(){return Va(Pn(),_e())}function Va(i,s){return 4&i.type?new ZC(s,i,xh(i,s)):null}let xs=(()=>{class i{}return i.__NG_ELEMENT_ID__=bw,i})();function bw(){return Zg(Pn(),_e())}const Tw=xs,Qv=class extends Tw{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return xh(this._hostTNode,this._hostLView)}get injector(){return new wr(this._hostTNode,this._hostLView)}get parentInjector(){const s=Is(this._hostTNode,this._hostLView);if(ho(s)){const a=fo(s,this._hostLView),c=Xo(s);return new wr(a[Qe].data[c+8],a)}return new wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=el(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-tr}createEmbeddedView(s,a,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const y=s.createEmbeddedView(a||{},p);return this.insert(y,d),y}createComponent(s,a,c,d,p){const y=s&&!function $s(i){return"function"==typeof i}(s);let w;if(y)w=a;else{const P=a||{};w=P.index,c=P.injector,d=P.projectableNodes,p=P.environmentInjector||P.ngModuleRef}const I=y?s:new _d(Jt(s)),T=c||this.parentInjector;if(!p&&null==I.ngModule){const H=(y?T:this.parentInjector).get(Iu,null);H&&(p=H)}const x=I.create(T,d,void 0,p);return this.insert(x.hostView,w),x}insert(s,a){const c=s._lView,d=c[Qe];if(function Ju(i){return Ei(i[cn])}(c)){const x=this.indexOf(s);if(-1!==x)this.detach(x);else{const P=c[cn],H=new Qv(P,P[On],P[cn]);H.detach(H.indexOf(s))}}const p=this._adjustIndex(a),y=this._lContainer;!function E(i,s,a,c){const d=tr+c,p=a.length;c>0&&(a[d-1][vi]=s),c<p-tr?(s[vi]=a[d],$l(a,tr+c,s)):(a.push(s),s[vi]=null),s[cn]=a;const y=s[gs];null!==y&&a!==y&&function A(i,s){const a=i[ro];s[vr]!==s[cn][cn][vr]&&(i[za]=!0),null===a?i[ro]=[s]:a.push(s)}(y,s);const w=s[_i];null!==w&&w.insertView(i),s[ot]|=64}(d,c,y,p);const w=Mc(p,y),I=c[Mt],T=Ia(I,y[Zi]);return null!==T&&function v(i,s,a,c,d,p){c[Li]=d,c[On]=s,od(i,c,a,1,d,p)}(d,y[On],I,c,T,w),s.attachToViewContainerRef(),$l(Af(y),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=el(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=z(this._lContainer,a);c&&(mc(Af(this._lContainer),a),ee(c[Qe],c))}detach(s){const a=this._adjustIndex(s,-1),c=z(this._lContainer,a);return c&&null!=mc(Af(this._lContainer),a)?new Co(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function el(i){return i[ni]}function Af(i){return i[ni]||(i[ni]=[])}function Zg(i,s){let a;const c=s[i.index];if(Ei(c))a=c;else{let d;if(8&i.type)d=Sn(c);else{const p=s[Mt];d=p.createComment("");const y=nr(i,s);ci(p,Ia(p,y),d,function Np(i,s){return i.nextSibling(s)}(p,y),!1)}s[i.index]=a=Ky(c,s,d,i),$h(s,a)}return new Qv(a,i,s)}class Mf{constructor(s){this.queryList=s,this.matches=null}clone(){return new Mf(this.queryList)}setDirty(){this.queryList.setDirty()}}class xf{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new xf(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==n_(s,a).matches&&this.queries[a].setDirty()}}class Sw{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class Rf{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(s,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new Rf(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Jv{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Jv(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(s,a,YC(a,p)),this.matchTNodeWithReadOption(s,a,aa(a,s,p,!1,!1))}else c===Tf?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,aa(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Wp||d===xs||d===Tf&&4&a.type)this.addMatch(a.index,-2);else{const p=aa(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function YC(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function tn(i,s,a,c){return-1===a?function gr(i,s){return 11&i.type?xh(i,s):4&i.type?Va(i,s):null}(s,i):-2===a?function Aw(i,s,a){return a===Wp?xh(s,i):a===Tf?Va(s,i):a===xs?Zg(s,i):void 0}(i,s,c):Ci(i,i[Qe],a,s)}function Xv(i,s,a,c){const d=s[_i].queries[c];if(null===d.matches){const p=i.data,y=a.matches,w=[];for(let I=0;I<y.length;I+=2){const T=y[I];w.push(T<0?null:tn(s,p[T],y[I+1],a.metadata.read))}d.matches=w}return d.matches}function Nf(i,s,a,c){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const y=Xv(i,s,d,a);for(let w=0;w<p.length;w+=2){const I=p[w];if(I>0)c.push(y[w/2]);else{const T=p[w+1],x=s[-I];for(let P=tr;P<x.length;P++){const H=x[P];H[gs]===H[cn]&&Nf(H[Qe],H,T,c)}if(null!==x[ro]){const P=x[ro];for(let H=0;H<P.length;H++){const Y=P[H];Nf(Y[Qe],Y,T,c)}}}}}return c}function Of(i){const s=_e(),a=qt(),c=su();ou(c+1);const d=n_(a,c);if(i.dirty&&function wl(i){return 4==(4&i[ot])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?Nf(a,s,c,[]):Xv(a,s,d,c);i.reset(p,HS),i.notifyOnChanges()}return!0}return!1}function Vd(i,s,a,c){const d=qt();if(d.firstCreatePass){const p=Pn();(function t_(i,s,a){null===i.queries&&(i.queries=new Rf),i.queries.track(new Jv(s,a))})(d,new Sw(s,a,c),p.index),function QC(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function e_(i,s,a){const c=new Kg(4==(4&a));$E(i,s,c,c.destroy),null===s[_i]&&(s[_i]=new xf),s[_i].queries.push(new Mf(c))}(d,_e(),a)}function kf(){return function Mw(i,s){return i[_i].queries[s].queryList}(_e(),su())}function n_(i,s){return i.queries.getByIndex(s)}function Hn(i){return!!Hr(i)}function im(...i){}const Fu=new fn("Application Initializer");let Qs=(()=>{class i{constructor(a){this.appInits=a,this.resolve=im,this.reject=im,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Uc(p))a.push(p);else if(Eg(p)){const y=new Promise((w,I)=>{p.subscribe({complete:w,error:I})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(ke(Fu,8))},i.\u0275prov=Et({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const d_=new fn("AppId",{providedIn:"root",factory:function Gw(){return`${h_()}${h_()}${h_()}`}});function h_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const om=new fn("Platform Initializer"),f_=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let p_=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Et({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const ul=new fn("LocaleId",{providedIn:"root",factory:()=>nt(ul,yt.Optional|yt.SkipSelf)||function qw(){return typeof $localize<"u"&&$localize.locale||Oa}()}),ub=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Kw{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Vf=(()=>{class i{compileModuleSync(a){return new Pu(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=Cu(Hr(a).declarations).reduce((y,w)=>{const I=Jt(w);return I&&y.push(new _d(I)),y},[]);return new Kw(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Et({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const cm=(()=>Promise.resolve(0))();function lm(i){typeof Zone>"u"?cm.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class as{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new os(!1),this.onMicrotaskEmpty=new os(!1),this.onStable=new os(!1),this.onError=new os(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Lu(){let i=It.requestAnimationFrame,s=It.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Yw(i){const s=()=>{!function Hd(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(It,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Oo(i),i.isCheckStableRunning=!0,y_(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Oo(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,y,w)=>{try{return v_(i),a.invokeTask(d,p,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),Qw(i)}},onInvoke:(a,c,d,p,y,w,I)=>{try{return v_(i),a.invoke(d,p,y,w,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),Qw(i)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Oo(i),y_(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!as.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(as.isInAngularZone())throw new ue(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,s,cl,im,im);try{return p.runTask(y,a,c)}finally{p.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const cl={};function y_(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Oo(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function v_(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Qw(i){i._nesting--,y_(i)}class lb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new os,this.onMicrotaskEmpty=new os,this.onStable=new os,this.onError=new os}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}const Jw=new fn(""),Xw=new fn("");let hm,dm=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,hm||(function db(i){hm=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{as.assertNotInAngularZone(),lm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(ke(as),ke(eI),ke(Xw))},i.\u0275prov=Et({token:i,factory:i.\u0275fac}),i})(),eI=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return hm?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Et({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Ba=!1;let ja=null;const Vu=new fn("AllowMultipleToken"),ll=new fn("PlatformDestroyListeners"),__=new fn("appBootstrapListener");class hb{constructor(s,a){this.name=s,this.token=a}}function rI(i,s,a=[]){const c=`Platform: ${s}`,d=new fn(c);return(p=[])=>{let y=w_();if(!y||y.injector.get(Vu,!1)){const w=[...a,...p,{provide:d,useValue:!0}];i?i(w):function fb(i){if(ja&&!ja.get(Vu,!1))throw new ue(400,!1);ja=i;const s=i.get(Bf);(function Sr(i){const s=i.get(om,null);s&&s.forEach(a=>a())})(i)}(function iI(i=[],s){return ts.create({name:s,providers:[{provide:ld,useValue:"platform"},{provide:ll,useValue:new Set([()=>ja=null])},...i]})}(w,c))}return function pb(i){const s=w_();if(!s)throw new ue(401,!1);return s}()}}function w_(){return ja?.get(Bf)??null}let Bf=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function I_(i,s){let a;return a="noop"===i?new lb:("zone.js"===i?void 0:i)||new as(s),a}(c?.ngZone,function sI(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:as,useValue:d}];return d.run(()=>{const y=ts.create({providers:p,parent:this.injector,name:a.moduleType.name}),w=a.create(y),I=w.injector.get(dd,null);if(!I)throw new ue(402,!1);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:x=>{I.handleError(x)}});w.onDestroy(()=>{dl(this._modules,w),T.unsubscribe()})}),function fm(i,s,a){try{const c=a();return Uc(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(I,d,()=>{const T=w.injector.get(Qs);return T.runInitializers(),T.donePromise.then(()=>(function $0(i){tt(i,"Expected localeId to be defined"),"string"==typeof i&&(j0=i.toLowerCase().replace(/_/g,"-"))}(w.injector.get(ul,Oa)||Oa),this._moduleDoBootstrap(w),w))})})}bootstrapModule(a,c=[]){const d=pm({},c);return function tI(i,s,a){const c=new Pu(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(Uu);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new ue(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(ll,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(ke(ts))},i.\u0275prov=Et({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function pm(i,s){return Array.isArray(s)?s.reduce(pm,i):{...i,...s}}let Uu=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new G.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new G.y(w=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{as.assertNotInAngularZone(),lm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{as.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{I.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ie.T)(p,y.pipe((0,se.B)()))}bootstrap(a,c){const d=a instanceof Iy;if(!this._injector.get(Qs).done){!d&&ds(a);throw new ue(405,Ba)}let y;y=d?a:this._injector.get(Mh).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const w=function nI(i){return i.isBoundToModule}(y)?void 0:this._injector.get(ka),T=y.create(ts.NULL,[],c||y.selector,w),x=T.location.nativeElement,P=T.injector.get(Jw,null);return P?.registerApplication(x),T.onDestroy(()=>{this.detachView(T.hostView),dl(this.components,T),P?.unregisterApplication(x)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;dl(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(__,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>dl(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ue(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(ke(as),ke(Iu),ke(dd))},i.\u0275prov=Et({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function dl(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}function oI(){return!1}let vb=(()=>{class i{}return i.__NG_ELEMENT_ID__=aI,i})();function aI(i){return function _b(i,s,a){if(ms(i)&&!a){const c=rr(i.index,s);return new Co(c,c)}return 47&i.type?new Co(s[vr],s):null}(Pn(),_e(),16==(16&i))}class b_{constructor(){}supports(s){return Kh(s)}create(s){return new yI(s)}}const wb=(i,s)=>s;class yI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||wb}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const y=!c||a&&a.currentIndex<_I(c,d,p)?a:c,w=_I(y,d,p),I=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const T=w-d,x=I-d;if(T!=x){for(let H=0;H<T;H++){const Y=H<p.length?p[H]:p[H]=0,de=Y+H;x<=de&&de<T&&(p[H]=Y+1)}p[y.previousIndex]=x-T}}w!==I&&s(y,w,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Kh(s))throw new ue(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)p=s[w],y=this._trackByFn(w,p),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,p,y,w)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,w),c=!0),a=a._next}else d=0,function Zh(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,w=>{y=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,w,y,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new _m(a,c),p,d),s}_verifyReinsertion(s,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new vI),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vI),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class _m{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class T_{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class vI{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new T_,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _I(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class ei{constructor(){}supports(s){return s instanceof Map||ba(s)}create(){return new Ib}}class Ib{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||ba(s)))throw new ue(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const c=new EI(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class EI{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qf(){return new hl([new b_])}let hl=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||qf()),deps:[[i,new Ti,new kr]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new ue(901,!1)}}return i.\u0275prov=Et({token:i,providedIn:"root",factory:qf}),i})();function S_(){return new A_([new ei])}let A_=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||S_()),deps:[[i,new Ti,new kr]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new ue(901,!1)}}return i.\u0275prov=Et({token:i,providedIn:"root",factory:S_}),i})();const bb=rI(null,"core",[]);let Tb=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(ke(Uu))},i.\u0275mod=Fo({type:i}),i.\u0275inj=Fn({}),i})();function Wf(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(mt,be,k)=>{k.d(be,{Z:()=>He});var h=k(2090),F=k(4859),G=k(9681),ie=k(1877);class se{constructor(ue,me){this._delegate=ue,this.firebase=me,(0,G._addComponent)(ue,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this._delegate.automaticDataCollectionEnabled=ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ue=>{this._delegate.checkDestroyed(),ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(ue,me=G._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(ue);return!Pe.isInitialized()&&"EXPLICIT"===(null===(ve=Pe.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:me})}_removeServiceInstance(ue,me=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ue).clearInstance(me)}_addComponent(ue){(0,G._addComponent)(this._delegate,ue)}_addOrOverwriteComponent(ue){(0,G._addOrOverwriteComponent)(this._delegate,ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function we(){const it=function ye(it){const ue={},me={__esModule:!0,initializeApp:function Ie(Me,U={}){const he=G.initializeApp(Me,U);if((0,h.r3)(ue,he.name))return ue[he.name];const Be=new it(he,me);return ue[he.name]=Be,Be},app:Pe,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function De(Me){const U=Me.name,he=U.replace("-compat","");if(G._registerComponent(Me)&&"PUBLIC"===Me.type){const Be=(Ge=Pe())=>{if("function"!=typeof Ge[he])throw Re.create("invalid-app-argument",{appName:U});return Ge[he]()};void 0!==Me.serviceProps&&(0,h.ZB)(Be,Me.serviceProps),me[he]=Be,it.prototype[he]=function(...Ge){return this._getService.bind(this,U).apply(this,Me.multipleInstances?Ge:[])}}return"PUBLIC"===Me.type?me[he]:null},removeApp:function ve(Me){delete ue[Me]},useAsService:function Ve(Me,U){return"serverAuth"===U?null:U},modularAPIs:G}};function Pe(Me){if(!(0,h.r3)(ue,Me=Me||G._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:Me});return ue[Me]}return me.default=me,Object.defineProperty(me,"apps",{get:function ge(){return Object.keys(ue).map(Me=>ue[Me])}}),Pe.App=it,me}(se);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function ue(me){(0,h.ZB)(it,me)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),it}(),$=new ie.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const He=j;!function Ee(it){(0,G.registerVersion)("@firebase/app-compat","0.2.8",it)}()},9681:(mt,be,k)=>{k.r(be),k.d(be,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>ki,_DEFAULT_ENTRY_NAME:()=>Oe,_addComponent:()=>wt,_addOrOverwriteComponent:()=>ft,_apps:()=>tt,_clearComponents:()=>Fn,_components:()=>Ne,_getProvider:()=>Et,_registerComponent:()=>Kt,_removeServiceInstance:()=>Gt,deleteApp:()=>cs,getApp:()=>ti,getApps:()=>gi,initializeApp:()=>us,onLog:()=>yt,registerVersion:()=>Qn,setLogLevel:()=>ls});var h=k(5861),F=k(4859),G=k(1877),ie=k(2090),se=k(8766);class oe{constructor(pe){this.container=pe}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function Re(ke){return"VERSION"===ke.getComponent()?.type}(nt)){const gt=nt.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(nt=>nt).join(" ")}}const ye="@firebase/app",j=new G.Yd("@firebase/app"),Oe="[DEFAULT]",$e={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,Ne=new Map;function wt(ke,pe){try{ke.container.addComponent(pe)}catch(nt){j.debug(`Component ${pe.name} failed to register with FirebaseApp ${ke.name}`,nt)}}function ft(ke,pe){ke.container.addOrOverwriteComponent(pe)}function Kt(ke){const pe=ke.name;if(Ne.has(pe))return j.debug(`There were multiple attempts to register component ${pe}.`),!1;Ne.set(pe,ke);for(const nt of tt.values())wt(nt,ke);return!0}function Et(ke,pe){const nt=ke.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),ke.container.getProvider(pe)}function Gt(ke,pe,nt=Oe){Et(ke,pe).clearInstance(nt)}function Fn(){Ne.clear()}const Dn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qn{constructor(pe,nt,gt){this._isDeleted=!1,this._options=Object.assign({},pe),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pe){this._isDeleted=pe}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}const ki="9.20.0";function us(ke,pe={}){let nt=ke;"object"!=typeof pe&&(pe={name:pe});const gt=Object.assign({name:Oe,automaticDataCollectionEnabled:!1},pe),Bt=gt.name;if("string"!=typeof Bt||!Bt)throw Dn.create("bad-app-name",{appName:String(Bt)});if(nt||(nt=(0,ie.aH)()),!nt)throw Dn.create("no-options");const jt=tt.get(Bt);if(jt){if((0,ie.vZ)(nt,jt.options)&&(0,ie.vZ)(gt,jt.config))return jt;throw Dn.create("duplicate-app",{appName:Bt})}const Nn=new F.H0(Bt);for(const L of Ne.values())Nn.addComponent(L);const V=new qn(nt,gt,Nn);return tt.set(Bt,V),V}function ti(ke=Oe){const pe=tt.get(ke);if(!pe&&ke===Oe)return us();if(!pe)throw Dn.create("no-app",{appName:ke});return pe}function gi(){return Array.from(tt.values())}function cs(ke){return _n.apply(this,arguments)}function _n(){return(_n=(0,h.Z)(function*(ke){const pe=ke.name;tt.has(pe)&&(tt.delete(pe),yield Promise.all(ke.container.getProviders().map(nt=>nt.delete())),ke.isDeleted=!0)})).apply(this,arguments)}function Qn(ke,pe,nt){var gt;let Bt=null!==(gt=$e[ke])&&void 0!==gt?gt:ke;nt&&(Bt+=`-${nt}`);const jt=Bt.match(/\s|\//),Nn=pe.match(/\s|\//);if(jt||Nn){const V=[`Unable to register library "${Bt}" with version "${pe}":`];return jt&&V.push(`library name "${Bt}" contains illegal characters (whitespace or "/")`),jt&&Nn&&V.push("and"),Nn&&V.push(`version name "${pe}" contains illegal characters (whitespace or "/")`),void j.warn(V.join(" "))}Kt(new F.wA(`${Bt}-version`,()=>({library:Bt,version:pe}),"VERSION"))}function yt(ke,pe){if(null!==ke&&"function"!=typeof ke)throw Dn.create("invalid-log-argument");(0,G.Am)(ke,pe)}function ls(ke){(0,G.Ub)(ke)}const mi="firebase-heartbeat-database",Rn=1,Ln="firebase-heartbeat-store";let Rs=null;function It(){return Rs||(Rs=(0,se.X3)(mi,Rn,{upgrade:(ke,pe)=>{0===pe&&ke.createObjectStore(Ln)}}).catch(ke=>{throw Dn.create("idb-open",{originalErrorMessage:ke.message})})),Rs}function At(){return(At=(0,h.Z)(function*(ke){try{return(yield It()).transaction(Ln).objectStore(Ln).get(Cn(ke))}catch(pe){if(pe instanceof ie.ZR)j.warn(pe.message);else{const nt=Dn.create("idb-get",{originalErrorMessage:pe?.message});j.warn(nt.message)}}})).apply(this,arguments)}function Ns(ke,pe){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,h.Z)(function*(ke,pe){try{const gt=(yield It()).transaction(Ln,"readwrite");return yield gt.objectStore(Ln).put(pe,Cn(ke)),gt.done}catch(nt){if(nt instanceof ie.ZR)j.warn(nt.message);else{const gt=Dn.create("idb-set",{originalErrorMessage:nt?.message});j.warn(gt.message)}}})).apply(this,arguments)}function Cn(ke){return`${ke.name}!${ke.options.appId}`}class to{constructor(pe){this.container=pe,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new Zt(nt),this._heartbeatsCachePromise=this._storage.read().then(gt=>(this._heartbeatsCache=gt,gt))}triggerHeartbeat(){var pe=this;return(0,h.Z)(function*(){const gt=pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bt=yn();if(null===pe._heartbeatsCache&&(pe._heartbeatsCache=yield pe._heartbeatsCachePromise),pe._heartbeatsCache.lastSentHeartbeatDate!==Bt&&!pe._heartbeatsCache.heartbeats.some(jt=>jt.date===Bt))return pe._heartbeatsCache.heartbeats.push({date:Bt,agent:gt}),pe._heartbeatsCache.heartbeats=pe._heartbeatsCache.heartbeats.filter(jt=>{const Nn=new Date(jt.date).valueOf();return Date.now()-Nn<=2592e6}),pe._storage.overwrite(pe._heartbeatsCache)})()}getHeartbeatsHeader(){var pe=this;return(0,h.Z)(function*(){if(null===pe._heartbeatsCache&&(yield pe._heartbeatsCachePromise),null===pe._heartbeatsCache||0===pe._heartbeatsCache.heartbeats.length)return"";const nt=yn(),{heartbeatsToSend:gt,unsentEntries:Bt}=function Os(ke,pe=1024){const nt=[];let gt=ke.slice();for(const Bt of ke){const jt=nt.find(Nn=>Nn.agent===Bt.agent);if(jt){if(jt.dates.push(Bt.date),xr(nt)>pe){jt.dates.pop();break}}else if(nt.push({agent:Bt.agent,dates:[Bt.date]}),xr(nt)>pe){nt.pop();break}gt=gt.slice(1)}return{heartbeatsToSend:nt,unsentEntries:gt}}(pe._heartbeatsCache.heartbeats),jt=(0,ie.L)(JSON.stringify({version:2,heartbeats:gt}));return pe._heartbeatsCache.lastSentHeartbeatDate=nt,Bt.length>0?(pe._heartbeatsCache.heartbeats=Bt,yield pe._storage.overwrite(pe._heartbeatsCache)):(pe._heartbeatsCache.heartbeats=[],pe._storage.overwrite(pe._heartbeatsCache)),jt})()}}function yn(){return(new Date).toISOString().substring(0,10)}class Zt{constructor(pe){this.app=pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pe=this;return(0,h.Z)(function*(){return(yield pe._canUseIndexedDBPromise)&&(yield function pt(ke){return At.apply(this,arguments)}(pe.app))||{heartbeats:[]}})()}overwrite(pe){var nt=this;return(0,h.Z)(function*(){var gt;if(yield nt._canUseIndexedDBPromise){const jt=yield nt.read();return Ns(nt.app,{lastSentHeartbeatDate:null!==(gt=pe.lastSentHeartbeatDate)&&void 0!==gt?gt:jt.lastSentHeartbeatDate,heartbeats:pe.heartbeats})}})()}add(pe){var nt=this;return(0,h.Z)(function*(){var gt;if(yield nt._canUseIndexedDBPromise){const jt=yield nt.read();return Ns(nt.app,{lastSentHeartbeatDate:null!==(gt=pe.lastSentHeartbeatDate)&&void 0!==gt?gt:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...pe.heartbeats]})}})()}}function xr(ke){return(0,ie.L)(JSON.stringify({version:2,heartbeats:ke})).length}!function Rr(ke){Kt(new F.wA("platform-logger",pe=>new oe(pe),"PRIVATE")),Kt(new F.wA("heartbeat",pe=>new to(pe),"PRIVATE")),Qn(ye,"0.9.8",ke),Qn(ye,"0.9.8","esm2017"),Qn("fire-js","")}("")},4859:(mt,be,k)=>{k.d(be,{H0:()=>ye,wA:()=>G});var h=k(5861),F=k(2090);class G{constructor(j,$,K){this.name=j,this.instanceFactory=$,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ie="[DEFAULT]";class se{constructor(j,$){this.name=j,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const $=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has($)){const K=new F.BH;if(this.instancesDeferred.set($,K),this.isInitialized($)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:$});Ue&&K.resolve(Ue)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(j){var $;const K=this.normalizeInstanceIdentifier(j?.identifier),Ue=null!==($=j?.optional)&&void 0!==$&&$;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ee){if(Ue)return null;throw Ee}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function Re(we){return"EAGER"===we.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[$,K]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier($);try{const Ee=this.getOrInitializeService({instanceIdentifier:Ue});K.resolve(Ee)}catch{}}}}clearInstance(j=ie){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,h.Z)(function*(){const $=Array.from(j.instances.values());yield Promise.all([...$.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...$.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ie){return this.instances.has(j)}getOptions(j=ie){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:$={}}=j,K=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:K,options:$});for(const[Ee,He]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ee)&&He.resolve(Ue);return Ue}onInit(j,$){var K;const Ue=this.normalizeInstanceIdentifier($),Ee=null!==(K=this.onInitCallbacks.get(Ue))&&void 0!==K?K:new Set;Ee.add(j),this.onInitCallbacks.set(Ue,Ee);const He=this.instances.get(Ue);return He&&j(He,Ue),()=>{Ee.delete(j)}}invokeOnInitCallbacks(j,$){const K=this.onInitCallbacks.get($);if(K)for(const Ue of K)try{Ue(j,$)}catch{}}getOrInitializeService({instanceIdentifier:j,options:$={}}){let K=this.instances.get(j);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(we=j,we===ie?void 0:we),options:$}),this.instances.set(j,K),this.instancesOptions.set(j,$),this.invokeOnInitCallbacks(K,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,K)}catch{}var we;return K||null}normalizeInstanceIdentifier(j=ie){return this.component?this.component.multipleInstances?j:ie:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const $=this.getProvider(j.name);if($.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);$.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const $=new se(j,this);return this.providers.set(j,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,be,k)=>{k.d(be,{Am:()=>we,Ub:()=>ye,Yd:()=>Re,in:()=>F});const h=[];var F=(()=>{return(j=F||(F={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",F;var j})();const G={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},ie=F.INFO,se={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},oe=(j,$,...K)=>{if($<j.logLevel)return;const Ue=(new Date).toISOString(),Ee=se[$];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ee](`[${Ue}]  ${j.name}:`,...K)};class Re{constructor($){this.name=$,this._logLevel=ie,this._logHandler=oe,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in F))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?G[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...$),this._logHandler(this,F.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...$),this._logHandler(this,F.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,F.INFO,...$),this._logHandler(this,F.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,F.WARN,...$),this._logHandler(this,F.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...$),this._logHandler(this,F.ERROR,...$)}}function ye(j){h.forEach($=>{$.setLogLevel(j)})}function we(j,$){for(const K of h){let Ue=null;$&&$.level&&(Ue=G[$.level]),K.userLogHandler=null===j?null:(Ee,He,...it)=>{const ue=it.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");He>=(Ue??Ee.logLevel)&&j({level:F[He].toLowerCase(),message:ue,args:it,type:Ee.name})}}}},259:(mt,be,k)=>{k.d(be,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=k(9681);(0,h.registerVersion)("firebase","9.20.0","app")},9260:(mt,be,k)=>{k.d(be,{Z:()=>h.Z});var h=k(3942);h.Z.registerVersion("firebase","9.20.0","app-compat")},8766:(mt,be,k)=>{k.d(be,{Lj:()=>Ie,X3:()=>Pe});var h=k(5861);const F=(U,he)=>he.some(Be=>U instanceof Be);let G,ie;const Re=new WeakMap,ye=new WeakMap,we=new WeakMap,j=new WeakMap,$=new WeakMap;let Ee={get(U,he,Be){if(U instanceof IDBTransaction){if("done"===he)return ye.get(U);if("objectStoreNames"===he)return U.objectStoreNames||we.get(U);if("store"===he)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return me(U[he])},set:(U,he,Be)=>(U[he]=Be,!0),has:(U,he)=>U instanceof IDBTransaction&&("done"===he||"store"===he)||he in U};function ue(U){return"function"==typeof U?function it(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oe(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...he){return U.apply(ve(this),he),me(Re.get(this))}:function(...he){return me(U.apply(ve(this),he))}:function(he,...Be){const Ge=U.call(ve(this),he,...Be);return we.set(Ge,he.sort?he.sort():[he]),me(Ge)}}(U):(U instanceof IDBTransaction&&function Ue(U){if(ye.has(U))return;const he=new Promise((Be,Ge)=>{const Tt=()=>{U.removeEventListener("complete",Ye),U.removeEventListener("error",te),U.removeEventListener("abort",te)},Ye=()=>{Be(),Tt()},te=()=>{Ge(U.error||new DOMException("AbortError","AbortError")),Tt()};U.addEventListener("complete",Ye),U.addEventListener("error",te),U.addEventListener("abort",te)});ye.set(U,he)}(U),F(U,function se(){return G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,Ee):U)}function me(U){if(U instanceof IDBRequest)return function K(U){const he=new Promise((Be,Ge)=>{const Tt=()=>{U.removeEventListener("success",Ye),U.removeEventListener("error",te)},Ye=()=>{Be(me(U.result)),Tt()},te=()=>{Ge(U.error),Tt()};U.addEventListener("success",Ye),U.addEventListener("error",te)});return he.then(Be=>{Be instanceof IDBCursor&&Re.set(Be,U)}).catch(()=>{}),$.set(he,U),he}(U);if(j.has(U))return j.get(U);const he=ue(U);return he!==U&&(j.set(U,he),$.set(he,U)),he}const ve=U=>$.get(U);function Pe(U,he,{blocked:Be,upgrade:Ge,blocking:Tt,terminated:Ye}={}){const te=indexedDB.open(U,he),ae=me(te);return Ge&&te.addEventListener("upgradeneeded",le=>{Ge(me(te.result),le.oldVersion,le.newVersion,me(te.transaction))}),Be&&te.addEventListener("blocked",()=>Be()),ae.then(le=>{Ye&&le.addEventListener("close",()=>Ye()),Tt&&le.addEventListener("versionchange",()=>Tt())}).catch(()=>{}),ae}function Ie(U,{blocked:he}={}){const Be=indexedDB.deleteDatabase(U);return he&&Be.addEventListener("blocked",()=>he()),me(Be).then(()=>{})}const ge=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Ve=new Map;function Me(U,he){if(!(U instanceof IDBDatabase)||he in U||"string"!=typeof he)return;if(Ve.get(he))return Ve.get(he);const Be=he.replace(/FromIndex$/,""),Ge=he!==Be,Tt=De.includes(Be);if(!(Be in(Ge?IDBIndex:IDBObjectStore).prototype)||!Tt&&!ge.includes(Be))return;const Ye=function(){var te=(0,h.Z)(function*(ae,...le){const Ce=this.transaction(ae,Tt?"readwrite":"readonly");let Oe=Ce.store;return Ge&&(Oe=Oe.index(le.shift())),(yield Promise.all([Oe[Be](...le),Tt&&Ce.done]))[0]});return function(le){return te.apply(this,arguments)}}();return Ve.set(he,Ye),Ye}!function He(U){Ee=U(Ee)}(U=>({...U,get:(he,Be,Ge)=>Me(he,Be)||U.get(he,Be,Ge),has:(he,Be)=>!!Me(he,Be)||U.has(he,Be)}))},5861:(mt,be,k)=>{function h(G,ie,se,oe,Re,ye,we){try{var j=G[ye](we),$=j.value}catch(K){return void se(K)}j.done?ie($):Promise.resolve($).then(oe,Re)}function F(G){return function(){var ie=this,se=arguments;return new Promise(function(oe,Re){var ye=G.apply(ie,se);function we($){h(ye,oe,Re,we,j,"next",$)}function j($){h(ye,oe,Re,we,j,"throw",$)}we(void 0)})}}k.d(be,{Z:()=>F})}},mt=>{mt(mt.s=1458)}]);