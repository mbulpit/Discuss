"use strict";(self.webpackChunkDiscuss=self.webpackChunkDiscuss||[]).push([[179],{2011:(vt,Se,k)=>{k.d(Se,{Dh:()=>ve,GT:()=>ae,cc:()=>Ie,hO:()=>Be,on:()=>j,pX:()=>oe,xv:()=>De});var h=k(4650),L=k(9260),G=k(3069);vt=k.hmd(vt);const se=["ngOnDestroy"],oe=(_e,Ee,ke,be={})=>new Proxy(_e,{get:(ye,Ce)=>ke.runOutsideAngular(()=>{var Ue;if(_e[Ce])return!(null===(Ue=be?.spy)||void 0===Ue)&&Ue.get&&be.spy.get(Ce,_e[Ce]),_e[Ce];if(se.indexOf(Ce)>-1)return()=>{};const xe=Ee.toPromise().then($=>{const fe=$&&$[Ce];return"function"==typeof fe?fe.bind($):fe&&fe.then?fe.then($e=>ke.run(()=>$e)):ke.run(()=>fe)});return new Proxy(()=>{},{get:($,fe)=>xe[fe],apply:($,fe,$e)=>xe.then(Ge=>{var xt;const Qe=Ge&&Ge(...$e);return!(null===(xt=be?.spy)||void 0===xt)&&xt.apply&&be.spy.apply(Ce,$e,Qe),Qe})})})}),ae=(_e,Ee)=>{Ee.forEach(ke=>{Object.getOwnPropertyNames(ke.prototype||ke).forEach(be=>{Object.defineProperty(_e.prototype,be,Object.getOwnPropertyDescriptor(ke.prototype||ke,be))})})};class Ne{constructor(Ee){return Ee}}const ve=new h.OlP("angularfire2.app.options"),De=new h.OlP("angularfire2.app.name");function j(_e,Ee,ke){const ye="object"==typeof ke&&ke||{};ye.name=ye.name||"string"==typeof ke&&ke||"[DEFAULT]";const Ue=L.Z.apps.filter(xe=>xe&&xe.name===ye.name)[0]||Ee.runOutsideAngular(()=>L.Z.initializeApp(_e,ye));try{JSON.stringify(_e)!==JSON.stringify(Ue.options)&&H("error",`${Ue.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ne(Ue)}const H=(_e,...Ee)=>{(0,h.X6Q)()&&typeof console<"u"&&console[_e](...Ee)},Y={provide:Ne,useFactory:j,deps:[ve,h.R0b,[new h.FiY,De]]};let Be=(()=>{class _e{constructor(ke){L.Z.registerVersion("angularfire",G.q4.full,"core"),L.Z.registerVersion("angularfire",G.q4.full,"app-compat"),L.Z.registerVersion("angular",h.q4F.full,ke.toString())}static initializeApp(ke,be){return{ngModule:_e,providers:[{provide:ve,useValue:ke},{provide:De,useValue:be}]}}}return _e.\u0275fac=function(ke){return new(ke||_e)(h.LFG(h.Lbi))},_e.\u0275mod=h.oAB({type:_e}),_e.\u0275inj=h.cJS({providers:[Y]}),_e})();function Ie(_e,Ee,ke,be,ye){const[,Ce,Ue]=globalThis.\u0275AngularfireInstanceCache.find(xe=>xe[0]===_e)||[];if(Ce)return function ze(_e,Ee){try{return _e.toString()===Ee.toString()}catch{return _e===Ee}}(ye,Ue)||(le("error",`${Ee} was already initialized on the ${ke} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),le("warn",{is:ye,was:Ue})),Ce;{const xe=be();return globalThis.\u0275AngularfireInstanceCache.push([_e,xe,ye]),xe}}const st=!!vt.hot,le=(_e,...Ee)=>{(0,h.X6Q)()&&typeof console<"u"&&console[_e](...Ee)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3069:(vt,Se,k)=>{k.d(Se,{q4:()=>Lh,iC:()=>Mr,HU:()=>Vl,vb:()=>xo,JM:()=>Au});var h=k(4650),L=k(259),G=k(5861),se=k(9681),oe=k(2090),ae=k(4859),Ne=k(1877),ve=k(8766);const De="@firebase/installations",j="0.6.4",H=1e4,Y=`w:${j}`,Be="FIS_v2",Ie="https://firebaseinstallations.googleapis.com/v1",ze=36e5,Ee=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ke(b){return b instanceof oe.ZR&&b.code.includes("request-failed")}function be({projectId:b}){return`${Ie}/projects/${b}/installations`}function ye(b){return{token:b.token,requestStatus:2,expiresIn:Ge(b.expiresIn),creationTime:Date.now()}}function Ce(b,C){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,G.Z)(function*(b,C){const P=(yield C.json()).error;return Ee.create("request-failed",{requestName:b,serverCode:P.code,serverMessage:P.message,serverStatus:P.status})})).apply(this,arguments)}function xe({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function fe(b){return $e.apply(this,arguments)}function $e(){return($e=(0,G.Z)(function*(b){const C=yield b();return C.status>=500&&C.status<600?b():C})).apply(this,arguments)}function Ge(b){return Number(b.replace("s","000"))}function ne(){return(ne=(0,G.Z)(function*({appConfig:b,heartbeatServiceProvider:C},{fid:M}){const P=be(b),W=xe(b),J=C.getImmediate({optional:!0});if(J){const lt=yield J.getHeartbeatsHeader();lt&&W.append("x-firebase-client",lt)}const Xe={method:"POST",headers:W,body:JSON.stringify({fid:M,authVersion:Be,appId:b.appId,sdkVersion:Y})},ft=yield fe(()=>fetch(P,Xe));if(ft.ok){const lt=yield ft.json();return{fid:lt.fid||M,registrationStatus:2,refreshToken:lt.refreshToken,authToken:ye(lt.authToken)}}throw yield Ce("Create Installation",ft)})).apply(this,arguments)}function ue(b){return new Promise(C=>{setTimeout(C,b)})}const Te=/^[cdef][\w-]{21}$/,Oe="";function je(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const M=function nt(b){return function de(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Te.test(M)?M:Oe}catch{return Oe}}function Pe(b){return`${b.appName}!${b.appId}`}const Ct=new Map;function mt(b,C){const M=Pe(b);Zt(M,C),function $n(b,C){const M=function Mn(){return!fn&&"BroadcastChannel"in self&&(fn=new BroadcastChannel("[Firebase] FID Change"),fn.onmessage=b=>{Zt(b.data.key,b.data.fid)}),fn}();M&&M.postMessage({key:b,fid:C}),function Qn(){0===Ct.size&&fn&&(fn.close(),fn=null)}()}(M,C)}function Zt(b,C){const M=Ct.get(b);if(M)for(const P of M)P(C)}let fn=null;const zi="firebase-installations-database",ys=1,ui="firebase-installations-store";let bi=null;function _s(){return bi||(bi=(0,ve.X3)(zi,ys,{upgrade:(b,C)=>{0===C&&b.createObjectStore(ui)}})),bi}function Dn(b,C){return nr.apply(this,arguments)}function nr(){return(nr=(0,G.Z)(function*(b,C){const M=Pe(b),W=(yield _s()).transaction(ui,"readwrite"),J=W.objectStore(ui),pe=yield J.get(M);return yield J.put(C,M),yield W.done,(!pe||pe.fid!==C.fid)&&mt(b,C.fid),C})).apply(this,arguments)}function Et(b){return vs.apply(this,arguments)}function vs(){return(vs=(0,G.Z)(function*(b){const C=Pe(b),P=(yield _s()).transaction(ui,"readwrite");yield P.objectStore(ui).delete(C),yield P.done})).apply(this,arguments)}function Ci(b,C){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,G.Z)(function*(b,C){const M=Pe(b),W=(yield _s()).transaction(ui,"readwrite"),J=W.objectStore(ui),pe=yield J.get(M),Xe=C(pe);return void 0===Xe?yield J.delete(M):yield J.put(Xe,M),yield W.done,Xe&&(!pe||pe.fid!==Xe.fid)&&mt(b,Xe.fid),Xe})).apply(this,arguments)}function jn(b){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,G.Z)(function*(b){let C;const M=yield Ci(b.appConfig,P=>{const W=function Tt(b){return Ir(b||{fid:je(),registrationStatus:0})}(P),J=function yt(b,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Ee.create("app-offline"))};const M={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},P=function Pt(b,C){return $s.apply(this,arguments)}(b,M);return{installationEntry:M,registrationPromise:P}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:rr(b)}:{installationEntry:C}}(b,W);return C=J.registrationPromise,J.installationEntry});return M.fid===Oe?{installationEntry:yield C}:{installationEntry:M,registrationPromise:C}}),Bs.apply(this,arguments)}function $s(){return $s=(0,G.Z)(function*(b,C){try{const M=yield function Qe(b,C){return ne.apply(this,arguments)}(b,C);return Dn(b.appConfig,M)}catch(M){throw ke(M)&&409===M.customData.serverCode?yield Et(b.appConfig):yield Dn(b.appConfig,{fid:C.fid,registrationStatus:0}),M}}),$s.apply(this,arguments)}function rr(b){return xn.apply(this,arguments)}function xn(){return(xn=(0,G.Z)(function*(b){let C=yield _r(b.appConfig);for(;1===C.registrationStatus;)yield ue(100),C=yield _r(b.appConfig);if(0===C.registrationStatus){const{installationEntry:M,registrationPromise:P}=yield jn(b);return P||M}return C})).apply(this,arguments)}function _r(b){return Ci(b,C=>{if(!C)throw Ee.create("installation-not-found");return Ir(C)})}function Ir(b){return function fo(b){return 1===b.registrationStatus&&b.registrationTime+H<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function js(){return(js=(0,G.Z)(function*({appConfig:b,heartbeatServiceProvider:C},M){const P=function tn(b,{fid:C}){return`${be(b)}/${C}/authTokens:generate`}(b,M),W=function $(b,{refreshToken:C}){const M=xe(b);return M.append("Authorization",function xt(b){return`${Be} ${b}`}(C)),M}(b,M),J=C.getImmediate({optional:!0});if(J){const lt=yield J.getHeartbeatsHeader();lt&&W.append("x-firebase-client",lt)}const Xe={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:Y,appId:b.appId}})},ft=yield fe(()=>fetch(P,Xe));if(ft.ok)return ye(yield ft.json());throw yield Ce("Generate Auth Token",ft)})).apply(this,arguments)}function Lr(b){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,G.Z)(function*(b,C=!1){let M;const P=yield Ci(b.appConfig,J=>{if(!Gt(J))throw Ee.create("not-registered");const pe=J.authToken;if(!C&&function Vn(b){return 2===b.requestStatus&&!function U(b){const C=Date.now();return C<b.creationTime||b.creationTime+b.expiresIn<C+ze}(b)}(pe))return J;if(1===pe.requestStatus)return M=function Fe(b,C){return ge.apply(this,arguments)}(b,C),J;{if(!navigator.onLine)throw Ee.create("app-offline");const Xe=function V(b){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:C})}(J);return M=function _t(b,C){return zt.apply(this,arguments)}(b,Xe),Xe}});return M?yield M:P.authToken}),Vr.apply(this,arguments)}function ge(){return(ge=(0,G.Z)(function*(b,C){let M=yield rt(b.appConfig);for(;1===M.authToken.requestStatus;)yield ue(100),M=yield rt(b.appConfig);const P=M.authToken;return 0===P.requestStatus?Lr(b,C):P})).apply(this,arguments)}function rt(b){return Ci(b,C=>{if(!Gt(C))throw Ee.create("not-registered");return function K(b){return 1===b.requestStatus&&b.requestTime+H<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function zt(){return zt=(0,G.Z)(function*(b,C){try{const M=yield function wn(b,C){return js.apply(this,arguments)}(b,C),P=Object.assign(Object.assign({},C),{authToken:M});return yield Dn(b.appConfig,P),M}catch(M){if(!ke(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const P=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Dn(b.appConfig,P)}else yield Et(b.appConfig);throw M}}),zt.apply(this,arguments)}function Gt(b){return void 0!==b&&2===b.registrationStatus}function X(){return(X=(0,G.Z)(function*(b){const C=b,{installationEntry:M,registrationPromise:P}=yield jn(C);return P?P.catch(console.error):Lr(C).catch(console.error),M.fid})).apply(this,arguments)}function We(){return We=(0,G.Z)(function*(b,C=!1){const M=b;return yield function cn(b){return Hn.apply(this,arguments)}(M),(yield Lr(M,C)).token}),We.apply(this,arguments)}function Hn(){return(Hn=(0,G.Z)(function*(b){const{registrationPromise:C}=yield jn(b);C&&(yield C)})).apply(this,arguments)}function Qo(b){return Ee.create("missing-app-config-values",{valueName:b})}const Jo="installations",Xo=b=>{const C=b.getProvider("app").getImmediate(),M=function al(b){if(!b||!b.options)throw Qo("App Configuration");if(!b.name)throw Qo("App Name");const C=["projectId","apiKey","appId"];for(const M of C)if(!b.options[M])throw Qo(M);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(C);return{app:C,appConfig:M,heartbeatServiceProvider:(0,se._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},ll=b=>{const C=b.getProvider("app").getImmediate(),M=(0,se._getProvider)(C,Jo).getImmediate();return{getId:()=>function ce(b){return X.apply(this,arguments)}(M),getToken:W=>function tt(b){return We.apply(this,arguments)}(M,W)}};(function cl(){(0,se._registerComponent)(new ae.wA(Jo,Xo,"PUBLIC")),(0,se._registerComponent)(new ae.wA("installations-internal",ll,"PRIVATE"))})(),(0,se.registerVersion)(De,j),(0,se.registerVersion)(De,j,"esm2017");const rn="@firebase/remote-config",Dr=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bs{constructor(C,M,P,W){this.client=C,this.storage=M,this.storageCache=P,this.logger=W}isCachedDataFresh(C,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const P=Date.now()-M,W=P<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${P}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${W}.`),W}fetch(C){var M=this;return(0,G.Z)(function*(){const[P,W]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(W&&M.isCachedDataFresh(C.cacheMaxAgeMillis,P))return W;C.eTag=W&&W.eTag;const J=yield M.client.fetch(C),pe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===J.status&&pe.push(M.storage.setLastSuccessfulFetchResponse(J)),yield Promise.all(pe),J})()}}function Gs(b=navigator){return b.languages&&b.languages[0]||b.language}class Mi{constructor(C,M,P,W,J,pe){this.firebaseInstallations=C,this.sdkVersion=M,this.namespace=P,this.projectId=W,this.apiKey=J,this.appId=pe}fetch(C){var M=this;return(0,G.Z)(function*(){const[P,W]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},ft={sdk_version:M.sdkVersion,app_instance_id:P,app_instance_id_token:W,app_id:M.appId,language_code:Gs()},lt={method:"POST",headers:Xe,body:JSON.stringify(ft)},qt=fetch(pe,lt),St=new Promise((gi,ei)=>{C.signal.addEventListener(()=>{const Ul=new Error("The operation was aborted.");Ul.name="AbortError",ei(Ul)})});let vr;try{yield Promise.race([qt,St]),vr=yield qt}catch(gi){let ei="fetch-client-network";throw"AbortError"===gi?.name&&(ei="fetch-timeout"),Dr.create(ei,{originalErrorMessage:gi?.message})}let Xn=vr.status;const Os=vr.headers.get("ETag")||void 0;let Ra,us;if(200===vr.status){let gi;try{gi=yield vr.json()}catch(ei){throw Dr.create("fetch-client-parse",{originalErrorMessage:ei?.message})}Ra=gi.entries,us=gi.state}if("INSTANCE_STATE_UNSPECIFIED"===us?Xn=500:"NO_CHANGE"===us?Xn=304:("NO_TEMPLATE"===us||"EMPTY_CONFIG"===us)&&(Ra={}),304!==Xn&&200!==Xn)throw Dr.create("fetch-status",{httpStatus:Xn});return{status:Xn,eTag:Os,config:Ra}})()}}class Yt{constructor(C,M){this.client=C,this.storage=M}fetch(C){var M=this;return(0,G.Z)(function*(){const P=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(C,P)})()}attemptFetch(C,{throttleEndTimeMillis:M,backoffCount:P}){var W=this;return(0,G.Z)(function*(){yield function qs(b,C){return new Promise((M,P)=>{const W=Math.max(C-Date.now(),0),J=setTimeout(M,W);b.addEventListener(()=>{clearTimeout(J),P(Dr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,M);try{const J=yield W.client.fetch(C);return yield W.storage.deleteThrottleMetadata(),J}catch(J){if(!function hl(b){if(!(b instanceof oe.ZR&&b.customData))return!1;const C=Number(b.customData.httpStatus);return 429===C||500===C||503===C||504===C}(J))throw J;const pe={throttleEndTimeMillis:Date.now()+(0,oe.$s)(P),backoffCount:P+1};return yield W.storage.setThrottleMetadata(pe),W.attemptFetch(C,pe)}})()}}class su{constructor(C,M,P,W,J){this.app=C,this._client=M,this._storageCache=P,this._storage=W,this._logger=J,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function is(b,C){const M=b.target.error||void 0;return Dr.create(C,{originalErrorMessage:M&&M?.message})}const li="app_namespace_store";class Cr{constructor(C,M,P,W=function Rp(){return new Promise((b,C)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=P=>{C(is(P,"storage-open"))},M.onsuccess=P=>{b(P.target.result)},M.onupgradeneeded=P=>{0===P.oldVersion&&P.target.result.createObjectStore(li,{keyPath:"compositeKey"})}}catch(M){C(Dr.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=C,this.appName=M,this.namespace=P,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var M=this;return(0,G.Z)(function*(){const P=yield M.openDbPromise;return new Promise((W,J)=>{const Xe=P.transaction([li],"readonly").objectStore(li),ft=M.createCompositeKey(C);try{const lt=Xe.get(ft);lt.onerror=qt=>{J(is(qt,"storage-get"))},lt.onsuccess=qt=>{const St=qt.target.result;W(St?St.value:void 0)}}catch(lt){J(Dr.create("storage-get",{originalErrorMessage:lt?.message}))}})})()}set(C,M){var P=this;return(0,G.Z)(function*(){const W=yield P.openDbPromise;return new Promise((J,pe)=>{const ft=W.transaction([li],"readwrite").objectStore(li),lt=P.createCompositeKey(C);try{const qt=ft.put({compositeKey:lt,value:M});qt.onerror=St=>{pe(is(St,"storage-set"))},qt.onsuccess=()=>{J()}}catch(qt){pe(Dr.create("storage-set",{originalErrorMessage:qt?.message}))}})})()}delete(C){var M=this;return(0,G.Z)(function*(){const P=yield M.openDbPromise;return new Promise((W,J)=>{const Xe=P.transaction([li],"readwrite").objectStore(li),ft=M.createCompositeKey(C);try{const lt=Xe.delete(ft);lt.onerror=qt=>{J(is(qt,"storage-delete"))},lt.onsuccess=()=>{W()}}catch(lt){J(Dr.create("storage-delete",{originalErrorMessage:lt?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class xi{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,G.Z)(function*(){const M=C.storage.getLastFetchStatus(),P=C.storage.getLastSuccessfulFetchTimestampMillis(),W=C.storage.getActiveConfig(),J=yield M;J&&(C.lastFetchStatus=J);const pe=yield P;pe&&(C.lastSuccessfulFetchTimestampMillis=pe);const Xe=yield W;Xe&&(C.activeConfig=Xe)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Qr(){return fl.apply(this,arguments)}function fl(){return(fl=(0,G.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function na(){(0,se._registerComponent)(new ae.wA("remote-config",function b(C,{instanceIdentifier:M}){const P=C.getProvider("app").getImmediate(),W=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Dr.create("registration-window");if(!(0,oe.hl)())throw Dr.create("indexed-db-unavailable");const{projectId:J,apiKey:pe,appId:Xe}=P.options;if(!J)throw Dr.create("registration-project-id");if(!pe)throw Dr.create("registration-api-key");if(!Xe)throw Dr.create("registration-app-id");const ft=new Cr(Xe,P.name,M=M||"firebase"),lt=new xi(ft),qt=new Ne.Yd(rn);qt.logLevel=Ne.in.ERROR;const St=new Mi(W,se.SDK_VERSION,M,J,pe,Xe),vr=new Yt(St,ft),Xn=new bs(vr,ft,lt,qt),Os=new su(P,Xn,lt,ft,qt);return function Is(b){const C=(0,oe.m9)(b);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Os),Os},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(rn,"0.4.4"),(0,se.registerVersion)(rn,"0.4.4","esm2017")}();const ss="/firebase-messaging-sw.js",Ch="/firebase-cloud-messaging-push-scope",ou="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Np="https://fcmregistrations.googleapis.com/v1",au="google.c.a.c_id",Pp="google.c.a.c_l",Uc="google.c.a.ts",Op="google.c.a.e";var os=(()=>{return(b=os||(os={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",os;var b})();function Jr(b){const C=new Uint8Array(b);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Iy(b){const M=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),P=atob(M),W=new Uint8Array(P.length);for(let J=0;J<P.length;++J)W[J]=P.charCodeAt(J);return W}const Bc="fcm_token_details_db",ra=5,kp="fcm_token_object_Store";function ci(){return ci=(0,G.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(J=>J.name).includes(Bc))return null;let C=null;return(yield(0,ve.X3)(Bc,ra,{upgrade:(P=(0,G.Z)(function*(W,J,pe,Xe){var ft;if(J<2||!W.objectStoreNames.contains(kp))return;const lt=Xe.objectStore(kp),qt=yield lt.index("fcmSenderId").get(b);if(yield lt.clear(),qt)if(2===J){const St=qt;if(!St.auth||!St.p256dh||!St.endpoint)return;C={token:St.fcmToken,createTime:null!==(ft=St.createTime)&&void 0!==ft?ft:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:Jr(St.vapidKey)}}}else if(3===J){const St=qt;C={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:Jr(St.auth),p256dh:Jr(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:Jr(St.vapidKey)}}}else if(4===J){const St=qt;C={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:Jr(St.auth),p256dh:Jr(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:Jr(St.vapidKey)}}}}),function(J,pe,Xe,ft){return P.apply(this,arguments)})})).close(),yield(0,ve.Lj)(Bc),yield(0,ve.Lj)("fcm_vapid_details_db"),yield(0,ve.Lj)("undefined"),function lu(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:C}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var P}),ci.apply(this,arguments)}const cu="firebase-messaging-database",Dy=1,di="firebase-messaging-store";let $c=null;function ia(){return $c||($c=(0,ve.X3)(cu,Dy,{upgrade:(b,C)=>{0===C&&b.createObjectStore(di)}})),$c}function Ts(b){return du.apply(this,arguments)}function du(){return du=(0,G.Z)(function*(b){const C=Jn(b),P=yield(yield ia()).transaction(di).objectStore(di).get(C);if(P)return P;{const W=yield function uu(b){return ci.apply(this,arguments)}(b.appConfig.senderId);if(W)return yield mo(b,W),W}}),du.apply(this,arguments)}function mo(b,C){return pl.apply(this,arguments)}function pl(){return(pl=(0,G.Z)(function*(b,C){const M=Jn(b),W=(yield ia()).transaction(di,"readwrite");return yield W.objectStore(di).put(C,M),yield W.done,C})).apply(this,arguments)}function hu(){return(hu=(0,G.Z)(function*(b){const C=Jn(b),P=(yield ia()).transaction(di,"readwrite");yield P.objectStore(di).delete(C),yield P.done})).apply(this,arguments)}function Jn({appConfig:b}){return b.appId}const ln=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fu(b,C){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,G.Z)(function*(b,C){const M=yield oa(b),P=ur(C),W={method:"POST",headers:M,body:JSON.stringify(P)};let J;try{J=yield(yield fetch(sa(b.appConfig),W)).json()}catch(pe){throw ln.create("token-subscribe-failed",{errorInfo:pe?.toString()})}if(J.error)throw ln.create("token-subscribe-failed",{errorInfo:J.error.message});if(!J.token)throw ln.create("token-subscribe-no-token");return J.token})).apply(this,arguments)}function pu(){return(pu=(0,G.Z)(function*(b,C){const M=yield oa(b),P=ur(C.subscriptionOptions),W={method:"PATCH",headers:M,body:JSON.stringify(P)};let J;try{J=yield(yield fetch(`${sa(b.appConfig)}/${C.token}`,W)).json()}catch(pe){throw ln.create("token-update-failed",{errorInfo:pe?.toString()})}if(J.error)throw ln.create("token-update-failed",{errorInfo:J.error.message});if(!J.token)throw ln.create("token-update-no-token");return J.token})).apply(this,arguments)}function Ss(b,C){return ar.apply(this,arguments)}function ar(){return(ar=(0,G.Z)(function*(b,C){const P={method:"DELETE",headers:yield oa(b)};try{const J=yield(yield fetch(`${sa(b.appConfig)}/${C}`,P)).json();if(J.error)throw ln.create("token-unsubscribe-failed",{errorInfo:J.error.message})}catch(W){throw ln.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function sa({projectId:b}){return`${Np}/projects/${b}/registrations`}function oa(b){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,G.Z)(function*({appConfig:b,installations:C}){const M=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function ur({p256dh:b,auth:C,endpoint:M,vapidKey:P}){const W={web:{endpoint:M,auth:C,p256dh:b}};return P!==ou&&(W.web.applicationPubKey=P),W}const jc=6048e5;function gl(){return gl=(0,G.Z)(function*(b){const C=yield function yl(b,C){return _l.apply(this,arguments)}(b.swRegistration,b.vapidKey),M={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:C.endpoint,auth:Jr(C.getKey("auth")),p256dh:Jr(C.getKey("p256dh"))},P=yield Ts(b.firebaseDependencies);if(P){if(function vl(b,C){return C.vapidKey===b.vapidKey&&C.endpoint===b.endpoint&&C.auth===b.auth&&C.p256dh===b.p256dh}(P.subscriptionOptions,M))return Date.now()>=P.createTime+jc?function aa(b,C){return Rt.apply(this,arguments)}(b,{token:P.token,createTime:Date.now(),subscriptionOptions:M}):P.token;try{yield Ss(b.firebaseDependencies,P.token)}catch(W){console.warn(W)}return gu(b.firebaseDependencies,M)}return gu(b.firebaseDependencies,M)}),gl.apply(this,arguments)}function Ks(){return Ks=(0,G.Z)(function*(b){const C=yield Ts(b.firebaseDependencies);C&&(yield Ss(b.firebaseDependencies,C.token),yield function yo(b){return hu.apply(this,arguments)}(b.firebaseDependencies));const M=yield b.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Ks.apply(this,arguments)}function Rt(){return Rt=(0,G.Z)(function*(b,C){try{const M=yield function Pn(b,C){return pu.apply(this,arguments)}(b.firebaseDependencies,C),P=Object.assign(Object.assign({},C),{token:M,createTime:Date.now()});return yield mo(b.firebaseDependencies,P),M}catch(M){throw yield function Ni(b){return Ks.apply(this,arguments)}(b),M}}),Rt.apply(this,arguments)}function gu(b,C){return ml.apply(this,arguments)}function ml(){return(ml=(0,G.Z)(function*(b,C){const P={token:yield fu(b,C),createTime:Date.now(),subscriptionOptions:C};return yield mo(b,P),P.token})).apply(this,arguments)}function _l(){return(_l=(0,G.Z)(function*(b,C){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Iy(C)})})).apply(this,arguments)}function Hc(b){const C={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function El(b,C){if(!C.notification)return;b.notification={};const M=C.notification.title;M&&(b.notification.title=M);const P=C.notification.body;P&&(b.notification.body=P);const W=C.notification.image;W&&(b.notification.image=W);const J=C.notification.icon;J&&(b.notification.icon=J)}(C,b),function gn(b,C){C.data&&(b.data=C.data)}(C,b),function we(b,C){var M,P,W,J,pe;if(!(C.fcmOptions||null!==(M=C.notification)&&void 0!==M&&M.click_action))return;b.fcmOptions={};const Xe=null!==(W=null===(P=C.fcmOptions)||void 0===P?void 0:P.link)&&void 0!==W?W:null===(J=C.notification)||void 0===J?void 0:J.click_action;Xe&&(b.fcmOptions.link=Xe);const ft=null===(pe=C.fcmOptions)||void 0===pe?void 0:pe.analytics_label;ft&&(b.fcmOptions.analyticsLabel=ft)}(C,b),C}function Zs(b,C){const M=[];for(let P=0;P<b.length;P++)M.push(b.charAt(P)),P<C.length&&M.push(C.charAt(P));return M.join("")}function Un(b){return ln.create("missing-app-config-values",{valueName:b})}Zs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Zs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Mh{constructor(C,M,P){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function Ah(b){if(!b||!b.options)throw Un("App Configuration Object");if(!b.name)throw Un("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:M}=b;for(const P of C)if(!M[P])throw Un(P);return{appName:b.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:W,installations:M,analyticsProvider:P}}_delete(){return Promise.resolve()}}function As(b){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,G.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(ss,{scope:Ch}),b.swRegistration.update().catch(()=>{})}catch(C){throw ln.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function ua(){return(ua=(0,G.Z)(function*(b,C){if(!C&&!b.swRegistration&&(yield As(b)),C||!b.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw ln.create("invalid-sw-registration");b.swRegistration=C}})).apply(this,arguments)}function zc(){return(zc=(0,G.Z)(function*(b,C){C?b.vapidKey=C:b.vapidKey||(b.vapidKey=ou)})).apply(this,arguments)}function zn(){return zn=(0,G.Z)(function*(b,C){if(!navigator)throw ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ln.create("permission-blocked");return yield function yu(b,C){return zc.apply(this,arguments)}(b,C?.vapidKey),yield function mu(b,C){return ua.apply(this,arguments)}(b,C?.serviceWorkerRegistration),function _o(b){return gl.apply(this,arguments)}(b)}),zn.apply(this,arguments)}function wl(){return(wl=(0,G.Z)(function*(b,C,M){const P=function ca(b){switch(b){case os.NOTIFICATION_CLICKED:return"notification_open";case os.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(P,{message_id:M[au],message_name:M[Pp],message_time:M[Uc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _u(){return _u=(0,G.Z)(function*(b,C){const M=C.data;if(!M.isFirebaseMessaging)return;b.onMessageHandler&&M.messageType===os.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(Hc(M)):b.onMessageHandler.next(Hc(M)));const P=M.data;(function Qt(b){return"object"==typeof b&&!!b&&au in b})(P)&&"1"===P[Op]&&(yield function Sr(b,C,M){return wl.apply(this,arguments)}(b,M.messageType,P))}),_u.apply(this,arguments)}const Gc="@firebase/messaging",xh=b=>{const C=new Mh(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function hi(b,C){return _u.apply(this,arguments)}(C,M)),C},vo=b=>{const C=b.getProvider("messaging").getImmediate();return{getToken:P=>function la(b,C){return zn.apply(this,arguments)}(C,P)}};function vu(){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,G.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qc(){(0,se._registerComponent)(new ae.wA("messaging",xh,"PUBLIC")),(0,se._registerComponent)(new ae.wA("messaging-internal",vo,"PRIVATE")),(0,se.registerVersion)(Gc,"0.12.4"),(0,se.registerVersion)(Gc,"0.12.4","esm2017")}();const Cl="analytics",Qc="firebase_id",lr="origin",Eo=6e4,dn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tl="https://www.googletagmanager.com/gtag/js",cr=new Ne.Yd("@firebase/analytics"),Xr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Vp(b){if(!b.startsWith(Tl)){const C=Xr.create("invalid-gtag-resource",{gtagURL:b});return cr.warn(C.message),""}return b}function Rh(b){return Promise.all(b.map(C=>C.catch(M=>M)))}function Ms(){return(Ms=(0,G.Z)(function*(b,C,M,P,W,J){const pe=P[W];try{if(pe)yield C[pe];else{const ft=(yield Rh(M)).find(lt=>lt.measurementId===W);ft&&(yield C[ft.appId])}}catch(Xe){cr.error(Xe)}b("config",W,J)})).apply(this,arguments)}function Wi(){return(Wi=(0,G.Z)(function*(b,C,M,P,W){try{let J=[];if(W&&W.send_to){let pe=W.send_to;Array.isArray(pe)||(pe=[pe]);const Xe=yield Rh(M);for(const ft of pe){const lt=Xe.find(St=>St.measurementId===ft),qt=lt&&C[lt.appId];if(!qt){J=[];break}J.push(qt)}}0===J.length&&(J=Object.values(C)),yield Promise.all(J),b("event",P,W||{})}catch(J){cr.error(J)}})).apply(this,arguments)}const as=30,fa=new class Ph{constructor(C={},M=1e3){this.throttleMetadata=C,this.intervalMillis=M}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,M){this.throttleMetadata[C]=M}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Sl(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function wo(){return(wo=(0,G.Z)(function*(b){var C;const{appId:M,apiKey:P}=b,W={method:"GET",headers:Sl(P)},J=dn.replace("{app-id}",M),pe=yield fetch(J,W);if(200!==pe.status&&304!==pe.status){let Xe="";try{const ft=yield pe.json();null!==(C=ft.error)&&void 0!==C&&C.message&&(Xe=ft.error.message)}catch{}throw Xr.create("config-fetch-failed",{httpStatus:pe.status,responseMessage:Xe})}return pe.json()})).apply(this,arguments)}function xs(){return(xs=(0,G.Z)(function*(b,C=fa,M){const{appId:P,apiKey:W,measurementId:J}=b.options;if(!P)throw Xr.create("no-app-id");if(!W){if(J)return{measurementId:J,appId:P};throw Xr.create("no-api-key")}const pe=C.getThrottleMetadata(P)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new Oh;return setTimeout((0,G.Z)(function*(){Xe.abort()}),void 0!==M?M:Eo),Ki({appId:P,apiKey:W,measurementId:J},pe,Xe,C)})).apply(this,arguments)}function Ki(b,C,M){return pa.apply(this,arguments)}function pa(){return pa=(0,G.Z)(function*(b,{throttleEndTimeMillis:C,backoffCount:M},P,W=fa){var J;const{appId:pe,measurementId:Xe}=b;try{yield function Do(b,C){return new Promise((M,P)=>{const W=Math.max(C-Date.now(),0),J=setTimeout(M,W);b.addEventListener(()=>{clearTimeout(J),P(Xr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(P,C)}catch(ft){if(Xe)return cr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:pe,measurementId:Xe};throw ft}try{const ft=yield function Bp(b){return wo.apply(this,arguments)}(b);return W.deleteThrottleMetadata(pe),ft}catch(ft){const lt=ft;if(!function ga(b){if(!(b instanceof oe.ZR&&b.customData))return!1;const C=Number(b.customData.httpStatus);return 429===C||500===C||503===C||504===C}(lt)){if(W.deleteThrottleMetadata(pe),Xe)return cr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${lt?.message}]`),{appId:pe,measurementId:Xe};throw ft}const qt=503===Number(null===(J=lt?.customData)||void 0===J?void 0:J.httpStatus)?(0,oe.$s)(M,W.intervalMillis,as):(0,oe.$s)(M,W.intervalMillis),St={throttleEndTimeMillis:Date.now()+qt,backoffCount:M+1};return W.setThrottleMetadata(pe,St),cr.debug(`Calling attemptFetch again in ${qt} millis`),Ki(b,St,P,W)}}),pa.apply(this,arguments)}class Oh{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let bo,Cu;function ma(){return(ma=(0,G.Z)(function*(b,C,M,P,W){if(W&&W.global)b("event",M,P);else{const J=yield C;b("event",M,Object.assign(Object.assign({},P),{send_to:J}))}})).apply(this,arguments)}function Ea(){return(Ea=(0,G.Z)(function*(){if(!(0,oe.hl)())return cr.warn(Xr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(b){return cr.warn(Xr.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function wa(){return wa=(0,G.Z)(function*(b,C,M,P,W,J,pe){var Xe;const ft=function Io(b){return xs.apply(this,arguments)}(b);ft.then(Xn=>{M[Xn.measurementId]=Xn.appId,b.options.measurementId&&Xn.measurementId!==b.options.measurementId&&cr.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${Xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xn=>cr.error(Xn)),C.push(ft);const lt=function Al(){return Ea.apply(this,arguments)}().then(Xn=>{if(Xn)return P.getId()}),[qt,St]=yield Promise.all([ft,lt]);(function ed(b){const C=window.document.getElementsByTagName("script");for(const M of Object.values(C))if(M.src&&M.src.includes(Tl)&&M.src.includes(b))return M;return null})(J)||function Xc(b,C){const M=function Jc(b,C){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(b,C)),M}("firebase-js-sdk-policy",{createScriptURL:Vp}),P=document.createElement("script"),W=`${Tl}?l=${b}&id=${C}`;P.src=M?M?.createScriptURL(W):W,P.async=!0,document.head.appendChild(P)}(J,qt.measurementId),Cu&&(W("consent","default",Cu),function Rs(b){Cu=b}(void 0)),W("js",new Date);const vr=null!==(Xe=pe?.config)&&void 0!==Xe?Xe:{};return vr[lr]="firebase",vr.update=!0,null!=St&&(vr[Qc]=St),W("config",qt.measurementId,vr),bo&&(W("set",bo),function va(b){bo=b}(void 0)),qt.measurementId}),wa.apply(this,arguments)}class rd{constructor(C){this.app=C}_delete(){return delete Br[this.app.options.appId],Promise.resolve()}}let Br={},Ia=[];const Oi={};let Da,Ar,Ns="dataLayer",id="gtag",ba=!1;function Ml(b,C,M){!function Ca(){const b=[];if((0,oe.ru)()&&b.push("This is a browser extension environment."),(0,oe.zI)()||b.push("Cookies are not available."),b.length>0){const C=b.map((P,W)=>`(${W+1}) ${P}`).join(" "),M=Xr.create("invalid-analytics-context",{errorInfo:C});cr.warn(M.message)}}();const P=b.options.appId;if(!P)throw Xr.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Xr.create("no-api-key");cr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Br[P])throw Xr.create("already-exists",{id:P});if(!ba){!function Iu(b){let C=[];Array.isArray(window[b])?C=window[b]:window[b]=C}(Ns);const{wrappedGtag:J,gtagCore:pe}=function Nh(b,C,M,P,W){let J=function(...pe){window[P].push(arguments)};return window[W]&&"function"==typeof window[W]&&(J=window[W]),window[W]=function ha(b,C,M,P){function J(){return J=(0,G.Z)(function*(pe,Xe,ft){try{"event"===pe?yield function Up(b,C,M,P,W){return Wi.apply(this,arguments)}(b,C,M,Xe,ft):"config"===pe?yield function da(b,C,M,P,W,J){return Ms.apply(this,arguments)}(b,C,M,P,Xe,ft):"consent"===pe?b("consent","update",ft):b("set",Xe)}catch(lt){cr.error(lt)}}),J.apply(this,arguments)}return function W(pe,Xe,ft){return J.apply(this,arguments)}}(J,b,C,M),{gtagCore:J,wrappedGtag:window[W]}}(Br,Ia,Oi,Ns,id);Ar=J,Da=pe,ba=!0}return Br[P]=function nd(b,C,M,P,W,J,pe){return wa.apply(this,arguments)}(b,Ia,Oi,C,Da,Ns,M),new rd(b)}function To(){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,G.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const Fh="@firebase/analytics";!function Rl(){(0,se._registerComponent)(new ae.wA(Cl,(C,{options:M})=>Ml(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,se._registerComponent)(new ae.wA("analytics-internal",function b(C){try{const M=C.getProvider(Cl).getImmediate();return{logEvent:(P,W,J)=>function ki(b,C,M,P){b=(0,oe.m9)(b),function Du(b,C,M,P,W){return ma.apply(this,arguments)}(Ar,Br[b.app.options.appId],C,M,P).catch(W=>cr.error(W))}(M,P,W,J)}}catch(M){throw Xr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,se.registerVersion)(Fh,"0.9.5"),(0,se.registerVersion)(Fh,"0.9.5","esm2017")}();var by=k(727);class Cy extends by.w0{constructor(C,M){super()}schedule(C,M=0){return this}}const ud={setInterval(b,C,...M){const{delegate:P}=ud;return P?.setInterval?P.setInterval(b,C,...M):setInterval(b,C,...M)},clearInterval(b){const{delegate:C}=ud;return(C?.clearInterval||clearInterval)(b)},delegate:void 0};var Hp=k(8737);class Sa extends Cy{constructor(C,M){super(C,M),this.scheduler=C,this.work=M,this.pending=!1}schedule(C,M=0){var P;if(this.closed)return this;this.state=C;const W=this.id,J=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(J,W,M)),this.pending=!0,this.delay=M,this.id=null!==(P=this.id)&&void 0!==P?P:this.requestAsyncId(J,this.id,M),this}requestAsyncId(C,M,P=0){return ud.setInterval(C.flush.bind(C,this),P)}recycleAsyncId(C,M,P=0){if(null!=P&&this.delay===P&&!1===this.pending)return M;null!=M&&ud.clearInterval(M)}execute(C,M){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const P=this._execute(C,M);if(P)return P;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,M){let W,P=!1;try{this.work(C)}catch(J){P=!0,W=J||new Error("Scheduled action threw falsy error")}if(P)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:C,scheduler:M}=this,{actions:P}=M;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Hp.P)(P,this),null!=C&&(this.id=this.recycleAsyncId(M,C,null)),this.delay=null,super.unsubscribe()}}}var Ty=k(6063);class Sn{constructor(C,M=Sn.now){this.schedulerActionCtor=C,this.now=M}schedule(C,M=0,P){return new this.schedulerActionCtor(this,C).schedule(P,M)}}Sn.now=Ty.l.now;class Nl extends Sn{constructor(C,M=Sn.now){super(C,M),this.actions=[],this._active=!1}flush(C){const{actions:M}=this;if(this._active)return void M.push(C);let P;this._active=!0;do{if(P=C.execute(C.state,C.delay))break}while(C=M.shift());if(this._active=!1,P){for(;C=M.shift();)C.unsubscribe();throw P}}}const Gp=new class Qs extends Nl{}(class zp extends Sa{constructor(C,M){super(C,M),this.scheduler=C,this.work=M}schedule(C,M=0){return M>0?super.schedule(C,M):(this.delay=M,this.state=C,this.scheduler.flush(this),this)}execute(C,M){return M>0||this.closed?super.execute(C,M):this._execute(C,M)}requestAsyncId(C,M,P=0){return null!=P&&P>0||null==P&&this.delay>0?super.requestAsyncId(C,M,P):(C.flush(this),0)}}),Ao=new Nl(Sa);var Pl=k(8505),Mo=k(9468),Ol=k(5363);const Lh=new h.GfV("7.5.0"),kl="__angularfire_symbol__analyticsIsSupportedValue",Fl="__angularfire_symbol__analyticsIsSupported",Jt="__angularfire_symbol__remoteConfigIsSupportedValue",Gn="__angularfire_symbol__remoteConfigIsSupported",Zi="__angularfire_symbol__messagingIsSupportedValue",cd="__angularfire_symbol__messagingIsSupported";function Au(b,C,M){if(C){if(1===C.length)return C[0];const J=C.filter(pe=>pe.app===M);if(1===J.length)return J[0]}return M.container.getProvider(b).getImmediate({optional:!0})}globalThis[Fl]||(globalThis[Fl]=To().then(b=>globalThis[kl]=b).catch(()=>globalThis[kl]=!1)),globalThis[cd]||(globalThis[cd]=vu().then(b=>globalThis[Zi]=b).catch(()=>globalThis[Zi]=!1)),globalThis[Gn]||(globalThis[Gn]=Qr().then(b=>globalThis[Jt]=b).catch(()=>globalThis[Jt]=!1));const xo=(b,C)=>{const M=C?[C]:(0,L.C6)(),P=[];return M.forEach(W=>{W.container.getProvider(b).instances.forEach(pe=>{P.includes(pe)||P.push(pe)})}),P};function On(){}class kt{constructor(C,M=Gp){this.zone=C,this.delegate=M}now(){return this.delegate.now()}schedule(C,M,P){const W=this.zone;return this.delegate.schedule(function(pe){W.runGuarded(()=>{C.apply(this,[pe])})},M,P)}}class Ro{constructor(C){this.zone=C,this.task=null}call(C,M){const P=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",On,{},On,On)),M.pipe((0,Pl.b)({next:P,complete:P,error:P})).subscribe(C).add(P)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vl=(()=>{class b{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new kt(Zone.current)),this.insideAngular=M.run(()=>new kt(Zone.current,Ao)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(M){return new(M||b)(h.LFG(h.R0b))},b.\u0275prov=h.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function $r(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Mr(b){return $r(),function No(b){return function(M){return(M=M.lift(new Ro(b.ngZone))).pipe((0,Mo.R)(b.outsideAngular),(0,Ol.Q)(b.insideAngular))}}($r())(b)}},8277:(vt,Se,k)=>{k.d(Se,{$:()=>Ks,A:()=>H,B:()=>ha,D:()=>Ie,I:()=>Tn,J:()=>Ot,L:()=>ss,N:()=>Gt,P:()=>Jt,Q:()=>uu,R:()=>Sn,U:()=>Dy,V:()=>di,W:()=>$c,X:()=>cu,Y:()=>mo,Z:()=>pl,_:()=>ln,a:()=>ya,a0:()=>Rt,a1:()=>ml,a2:()=>Hc,a3:()=>Ah,a4:()=>Mh,a5:()=>Pi,a6:()=>ua,a7:()=>zc,a8:()=>zn,a9:()=>wl,aA:()=>$,aB:()=>Bl,aC:()=>_t,aD:()=>Vn,aE:()=>Ra,aF:()=>C,aG:()=>b,aH:()=>at,aL:()=>Ys,aO:()=>Ts,aa:()=>ca,ab:()=>_u,ac:()=>Gc,ad:()=>qc,ae:()=>Eu,af:()=>Dl,ai:()=>bl,aj:()=>Yc,ak:()=>Cl,an:()=>Ss,ao:()=>Rh,aq:()=>Ph,ar:()=>pa,as:()=>$e,at:()=>In,au:()=>We,av:()=>be,aw:()=>ng,ax:()=>Zp,ay:()=>ir,az:()=>ye,b:()=>kh,c:()=>xo,d:()=>Vl,e:()=>kt,f:()=>W,g:()=>qt,h:()=>Xe,i:()=>Ps,j:()=>Xn,k:()=>zh,l:()=>Ao,m:()=>xu,o:()=>Py,p:()=>ve,r:()=>Pl,s:()=>Gp,u:()=>kl,x:()=>Ms});var h=k(5861),L=k(2090),G=k(9681),se=k(655),oe=k(1877),ae=k(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},H={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ie=function Y(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ze=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_e=new oe.Yd("@firebase/auth");function ke(v,...p){_e.logLevel<=oe.in.ERROR&&_e.error(`Auth (${G.SDK_VERSION}): ${v}`,...p)}function be(v,...p){throw xe(v,...p)}function ye(v,...p){return xe(v,...p)}function Ce(v,p,m){const E=Object.assign(Object.assign({},ze()),{[p]:m});return new L.LL("auth","Firebase",E).create(p,{appName:v.name})}function Ue(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&be(v,"argument-error"),Ce(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xe(v,...p){if("string"!=typeof v){const m=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(m,...E)}return st.create(v,...p)}function $(v,p,...m){if(!v)throw xe(p,...m)}function fe(v){const p="INTERNAL ASSERTION FAILED: "+v;throw ke(p),new Error(p)}function $e(v,p){v||fe(p)}function Ge(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function xt(){return"http:"===Qe()||"https:"===Qe()}function Qe(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class de{constructor(p,m){this.shortDelay=p,this.longDelay=m,$e(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function ne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Te(v,p){$e(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Oe{static initialize(p,m,E){this.fetchImpl=p,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},nt=new de(3e4,6e4);function Pe(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Ct(v,p,m,E){return mt.apply(this,arguments)}function mt(){return(mt=(0,h.Z)(function*(v,p,m,E,A={}){return en(v,A,(0,h.Z)(function*(){let N={},q={};E&&("GET"===p?q=E:N={body:JSON.stringify(E)});const te=(0,L.xO)(Object.assign({key:v.config.apiKey},q)).slice(1),Le=yield v._getAdditionalHeaders();return Le["Content-Type"]="application/json",v.languageCode&&(Le["X-Firebase-Locale"]=v.languageCode),Oe.fetch()(fn(v,v.config.apiHost,m,te),Object.assign({method:p,headers:Le,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function en(v,p,m){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,h.Z)(function*(v,p,m){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},je),p);try{const A=new Mn(v),N=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const q=yield N.json();if("needConfirmation"in q)throw Qn(v,"account-exists-with-different-credential",q);if(N.ok&&!("errorMessage"in q))return q;{const te=N.ok?q.errorMessage:q.error.message,[Le,qe]=te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Qn(v,"credential-already-in-use",q);if("EMAIL_EXISTS"===Le)throw Qn(v,"email-already-in-use",q);if("USER_DISABLED"===Le)throw Qn(v,"user-disabled",q);const dt=E[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw Ce(v,dt,qe);be(v,dt)}}catch(A){if(A instanceof L.ZR)throw A;be(v,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function Zt(v,p,m,E){return $n.apply(this,arguments)}function $n(){return($n=(0,h.Z)(function*(v,p,m,E,A={}){const N=yield Ct(v,p,m,E,A);return"mfaPendingCredential"in N&&be(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function fn(v,p,m,E){const A=`${p}${m}?${E}`;return v.config.emulator?Te(v.config,A):`${v.config.apiScheme}://${A}`}class Mn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(ye(this.auth,"network-request-failed")),nt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(v,p,m){const E={appName:v.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const A=ye(v,p,E);return A.customData._tokenResponse=m,A}function ys(){return(ys=(0,h.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function bi(){return(bi=(0,h.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dn(){return(Dn=(0,h.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function nr(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Ci(){return(Ci=(0,h.Z)(function*(v,p=!1){const m=(0,L.m9)(v),E=yield m.getIdToken(p),A=jn(E);$(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const N="object"==typeof A.firebase?A.firebase:void 0,q=N?.sign_in_provider;return{claims:A,token:E,authTime:nr(Ln(A.auth_time)),issuedAtTime:nr(Ln(A.iat)),expirationTime:nr(Ln(A.exp)),signInProvider:q||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Ln(v){return 1e3*Number(v)}function jn(v){const[p,m,E]=v.split(".");if(void 0===p||void 0===m||void 0===E)return ke("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,L.tV)(m);return A?JSON.parse(A):(ke("Failed to decode base64 JWT payload"),null)}catch(A){return ke("Caught error parsing JWT payload as JSON",A?.toString()),null}}function Tt(v,p){return yt.apply(this,arguments)}function yt(){return(yt=(0,h.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(E){throw E instanceof L.ZR&&function Pt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}class $s{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),E)}iteration(){var p=this;return(0,h.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class rr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=nr(this.lastLoginAt),this.creationTime=nr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xn(v){return _r.apply(this,arguments)}function _r(){return _r=(0,h.Z)(function*(v){var p;const m=v.auth,E=yield v.getIdToken(),A=yield Tt(v,function _s(v,p){return Dn.apply(this,arguments)}(m,{idToken:E}));$(A?.users.length,m,"internal-error");const N=A.users[0];v._notifyReloadListener(N);const q=null!==(p=N.providerUserInfo)&&void 0!==p&&p.length?function js(v){return v.map(p=>{var{providerId:m}=p,E=(0,se._T)(p,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(N.providerUserInfo):[],te=function wn(v,p){return[...v.filter(E=>!p.some(A=>A.providerId===E.providerId)),...p]}(v.providerData,q),dt=!!v.isAnonymous&&!(v.email&&N.passwordHash||te?.length),Ut={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:te,metadata:new rr(N.createdAt,N.lastLoginAt),isAnonymous:dt};Object.assign(v,Ut)}),_r.apply(this,arguments)}function fo(){return(fo=(0,h.Z)(function*(v){const p=(0,L.m9)(v);yield xn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Lr(){return(Lr=(0,h.Z)(function*(v,p){const m=yield en(v,{},(0,h.Z)(function*(){const E=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:N}=v.config,q=fn(v,A,"/v1/token",`key=${N}`),te=yield v._getAdditionalHeaders();return te["Content-Type"]="application/x-www-form-urlencoded",Oe.fetch()(q,{method:"POST",headers:te,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Vr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){$(p.idToken,"internal-error"),$(typeof p.idToken<"u","internal-error"),$(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Bs(v){const p=jn(v);return $(p,"internal-error"),$(typeof p.exp<"u","internal-error"),$(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var E=this;return(0,h.Z)(function*(){return $(!E.accessToken||E.refreshToken,p,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var E=this;return(0,h.Z)(function*(){const{accessToken:A,refreshToken:N,expiresIn:q}=yield function tn(v,p){return Lr.apply(this,arguments)}(p,m);E.updateTokensAndExpiration(A,N,Number(q))})()}updateTokensAndExpiration(p,m,E){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,m){const{refreshToken:E,accessToken:A,expirationTime:N}=m,q=new Vr;return E&&($("string"==typeof E,"internal-error",{appName:p}),q.refreshToken=E),A&&($("string"==typeof A,"internal-error",{appName:p}),q.accessToken=A),N&&($("number"==typeof N,"internal-error",{appName:p}),q.expirationTime=N),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Vr,this.toJSON())}_performRefresh(){return fe("not implemented")}}function Fe(v,p){$("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class ge{constructor(p){var{uid:m,auth:E,stsTokenManager:A}=p,N=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $s(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new rr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,h.Z)(function*(){const E=yield Tt(m,m.stsTokenManager.getToken(m.auth,p));return $(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(p){return function vs(v){return Ci.apply(this,arguments)}(this,p)}reload(){return function Ir(v){return fo.apply(this,arguments)}(this)}_assign(p){this!==p&&($(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new ge(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var E=this;return(0,h.Z)(function*(){let A=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),A=!0),m&&(yield xn(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,h.Z)(function*(){const m=yield p.getIdToken();return yield Tt(p,function zi(v,p){return ys.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var E,A,N,q,te,Le,qe,dt;const Ut=null!==(E=m.displayName)&&void 0!==E?E:void 0,Hr=null!==(A=m.email)&&void 0!==A?A:void 0,mi=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,Nu=null!==(q=m.photoURL)&&void 0!==q?q:void 0,Wh=null!==(te=m.tenantId)&&void 0!==te?te:void 0,sg=null!==(Le=m._redirectEventId)&&void 0!==Le?Le:void 0,Oy=null!==(qe=m.createdAt)&&void 0!==qe?qe:void 0,Fa=null!==(dt=m.lastLoginAt)&&void 0!==dt?dt:void 0,{uid:og,emailVerified:ag,isAnonymous:zl,providerData:Cd,stsTokenManager:Gl}=m;$(og&&Gl,p,"internal-error");const Td=Vr.fromJSON(this.name,Gl);$("string"==typeof og,p,"internal-error"),Fe(Ut,p.name),Fe(Hr,p.name),$("boolean"==typeof ag,p,"internal-error"),$("boolean"==typeof zl,p,"internal-error"),Fe(mi,p.name),Fe(Nu,p.name),Fe(Wh,p.name),Fe(sg,p.name),Fe(Oy,p.name),Fe(Fa,p.name);const Pu=new ge({uid:og,auth:p,email:Hr,emailVerified:ag,displayName:Ut,isAnonymous:zl,photoURL:Nu,phoneNumber:mi,tenantId:Wh,stsTokenManager:Td,createdAt:Oy,lastLoginAt:Fa});return Cd&&Array.isArray(Cd)&&(Pu.providerData=Cd.map(Kh=>Object.assign({},Kh))),sg&&(Pu._redirectEventId=sg),Pu}static _fromIdTokenResponse(p,m,E=!1){return(0,h.Z)(function*(){const A=new Vr;A.updateFromServerResponse(m);const N=new ge({uid:m.localId,auth:p,stsTokenManager:A,isAnonymous:E});return yield xn(N),N})()}}const rt=new Map;function _t(v){$e(v instanceof Function,"Expected a class definition");let p=rt.get(v);return p?($e(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,rt.set(v,p),p)}const Gt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,E){var A=this;return(0,h.Z)(function*(){A.storage[m]=E})()}_get(m){var E=this;return(0,h.Z)(function*(){const A=E.storage[m];return void 0===A?null:A})()}_remove(m){var E=this;return(0,h.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return v.type="NONE",v})();function Vn(v,p,m){return`firebase:${v}:${p}:${m}`}class U{constructor(p,m,E){this.persistence=p,this.auth=m,this.userKey=E;const{config:A,name:N}=this.auth;this.fullUserKey=Vn(this.userKey,A.apiKey,N),this.fullPersistenceKey=Vn("persistence",A.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,h.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?ge._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,h.Z)(function*(){if(m.persistence===p)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,E="authUser"){return(0,h.Z)(function*(){if(!m.length)return new U(_t(Gt),p,E);const A=(yield Promise.all(m.map(function(){var qe=(0,h.Z)(function*(dt){if(yield dt._isAvailable())return dt});return function(dt){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let N=A[0]||_t(Gt);const q=Vn(E,p.config.apiKey,p.name);let te=null;for(const qe of m)try{const dt=yield qe._get(q);if(dt){const Ut=ge._fromJSON(p,dt);qe!==N&&(te=Ut),N=qe;break}}catch{}const Le=A.filter(qe=>qe._shouldAllowMigration);return N._shouldAllowMigration&&Le.length?(N=Le[0],te&&(yield N._set(q,te.toJSON())),yield Promise.all(m.map(function(){var qe=(0,h.Z)(function*(dt){if(dt!==N)try{yield dt._remove(q)}catch{}});return function(dt){return qe.apply(this,arguments)}}())),new U(N,p,E)):new U(N,p,E)})()}}function V(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(tt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(K(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(cn(p))return"Blackberry";if(Hn(p))return"Webos";if(ce(p))return"Safari";if((p.includes("chrome/")||X(p))&&!p.includes("edge/"))return"Chrome";if(We(p))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function K(v=(0,L.z$)()){return/firefox\//i.test(v)}function ce(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function X(v=(0,L.z$)()){return/crios\//i.test(v)}function tt(v=(0,L.z$)()){return/iemobile/i.test(v)}function We(v=(0,L.z$)()){return/android/i.test(v)}function cn(v=(0,L.z$)()){return/blackberry/i.test(v)}function Hn(v=(0,L.z$)()){return/webos/i.test(v)}function In(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function ir(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Ti(v=(0,L.z$)()){return In(v)||We(v)||Hn(v)||cn(v)||/windows phone/i.test(v)||tt(v)}function bh(v,p=[]){let m;switch(v){case"Browser":m=V((0,L.z$)());break;case"Worker":m=`${V((0,L.z$)())}-${v}`;break;default:m=v}const E=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${G.SDK_VERSION}/${E}`}function Qo(){return(Qo=(0,h.Z)(function*(v){return(yield Ct(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Jo(v,p){return ul.apply(this,arguments)}function ul(){return(ul=(0,h.Z)(function*(v,p){return Ct(v,"GET","/v2/recaptchaConfig",Pe(v,p))})).apply(this,arguments)}function Xo(v){return void 0!==v&&void 0!==v.getResponse}function ll(v){return void 0!==v&&void 0!==v.enterprise}class cl{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Rn(v){return new Promise((p,m)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=p,E.onerror=A=>{const N=ye("internal-error");N.customData=A,m(N)},E.type="text/javascript",E.charset="UTF-8",function rn(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(E)})}function sr(v){return`__${v}${Math.floor(1e6*Math.random())}`}class Dr{constructor(p){this.type="recaptcha-enterprise",this.auth=at(p)}verify(p="verify",m=!1){var E=this;return(0,h.Z)(function*(){function N(){return N=(0,h.Z)(function*(te){if(!m){if(null==te.tenantId&&null!=te._agentRecaptchaConfig)return te._agentRecaptchaConfig.siteKey;if(null!=te.tenantId&&void 0!==te._tenantRecaptchaConfigs[te.tenantId])return te._tenantRecaptchaConfigs[te.tenantId].siteKey}return new Promise(function(){var Le=(0,h.Z)(function*(qe,dt){Jo(te,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ut=>{if(void 0!==Ut.recaptchaKey){const Hr=new cl(Ut);return null==te.tenantId?te._agentRecaptchaConfig=Hr:te._tenantRecaptchaConfigs[te.tenantId]=Hr,qe(Hr.siteKey)}dt(new Error("recaptcha Enterprise site key undefined"))}).catch(Ut=>{dt(Ut)})});return function(qe,dt){return Le.apply(this,arguments)}}())}),N.apply(this,arguments)}function q(te,Le,qe){const dt=window.grecaptcha;ll(dt)?dt.enterprise.ready(()=>{try{dt.enterprise.execute(te,{action:p}).then(Ut=>{Le(Ut)}).catch(Ut=>{qe(Ut)})}catch(Ut){qe(Ut)}}):qe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((te,Le)=>{(function A(te){return N.apply(this,arguments)})(E.auth).then(qe=>{if(!m&&ll(window.grecaptcha))q(qe,te,Le);else{if(typeof window>"u")return void Le(new Error("RecaptchaVerifier is only supported in browser"));Rn("https://www.google.com/recaptcha/enterprise.js?render="+qe).then(()=>{q(qe,te,Le)}).catch(dt=>{Le(dt)})}}).catch(qe=>{Le(qe)})})})()}}function Gi(v,p,m){return ws.apply(this,arguments)}function ws(){return(ws=(0,h.Z)(function*(v,p,m,E=!1){const A=new Dr(v);let N;try{N=yield A.verify(m)}catch{N=yield A.verify(m,!0)}const q=Object.assign({},p);return Object.assign(q,E?{captchaResp:N}:{captchaResponse:N}),Object.assign(q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),q})).apply(this,arguments)}class qi{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const E=N=>new Promise((q,te)=>{try{q(p(N))}catch(Le){te(Le)}});E.onAbort=m,this.queue.push(E);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,h.Z)(function*(){if(m.auth.currentUser===p)return;const E=[];try{for(const A of m.queue)yield A(p),A.onAbort&&E.push(A.onAbort)}catch(A){E.reverse();for(const N of E)try{N()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class Je{constructor(p,m,E,A){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=E,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pn(this),this.idTokenSubscription=new pn(this),this.beforeStateQueue=new qi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(p,m){var E=this;return m&&(this._popupRedirectResolver=_t(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var A,N;if(!E._deleted&&(E.persistenceManager=yield U.create(E,p),!E._deleted)){if(null!==(A=E._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,h.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,h.Z)(function*(){var E;const A=yield m.assertedPersistence.getCurrentUser();let N=A,q=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const te=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Le=N?._redirectEventId,qe=yield m.tryRedirectSignIn(p);(!te||te===Le)&&qe?.user&&(N=qe.user,q=!0)}if(!N)return m.directlySetCurrentUser(null);if(!N._redirectEventId){if(q)try{yield m.beforeStateQueue.runMiddleware(N)}catch(te){N=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(te))}return N?m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)}return $(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(p){var m=this;return(0,h.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,h.Z)(function*(){try{yield xn(p)}catch(E){if("auth/network-request-failed"!==E?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ue(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,h.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,h.Z)(function*(){const E=p?(0,L.m9)(p):null;return E&&$(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(p,m=!1){var E=this;return(0,h.Z)(function*(){if(!E._deleted)return p&&$(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,h.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,h.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(_t(p))}))}initializeRecaptchaConfig(){var p=this;return(0,h.Z)(function*(){const m=yield Jo(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new cl(m);null==p.tenantId?p._agentRecaptchaConfig=E:p._tenantRecaptchaConfigs[p.tenantId]=E,E.emailPasswordEnabled&&new Dr(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,m,E){return this.registerStateListener(this.authStateSubscription,p,m,E)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,E){return this.registerStateListener(this.idTokenSubscription,p,m,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var E=this;return(0,h.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(m);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const E=p&&_t(p)||m._popupRedirectResolver;$(E,m,"argument-error"),m.redirectPersistenceManager=yield U.create(m,[_t(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,h.Z)(function*(){var E,A;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===p?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,h.Z)(function*(){if(p===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,E,A){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),q=this._isInitialized?Promise.resolve():this._initializationPromise;return $(q,this,"internal-error"),q.then(()=>N(this.currentUser)),"function"==typeof m?p.addObserver(m,E,A):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=bh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,h.Z)(function*(){var m;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();A&&(E["X-Firebase-Client"]=A);const N=yield p._getAppCheckToken();return N&&(E["X-Firebase-AppCheck"]=N),E})()}_getAppCheckToken(){var p=this;return(0,h.Z)(function*(){var m;const E=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return E?.error&&function Ee(v,...p){_e.logLevel<=oe.in.WARN&&_e.warn(`Auth (${G.SDK_VERSION}): ${v}`,...p)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function at(v){return(0,L.m9)(v)}class pn{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Tn(v,p,m){const E=at(v);$(E._canInitEmulator,E,"emulator-config-failed"),$(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const A=!!m?.disableWarnings,N=Is(p),{host:q,port:te}=function Nn(v){const p=Is(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const N=A[1];return{host:N,port:Ai(E.substr(N.length+1))}}{const[N,q]=E.split(":");return{host:N,port:Ai(q)}}}(p);E.config.emulator={url:`${N}//${q}${null===te?"":`:${te}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:q,port:te,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function dl(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Is(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Ai(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Ot{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return fe("not implemented")}_getIdTokenResponse(p){return fe("not implemented")}_linkToIdToken(p,m){return fe("not implemented")}_getReauthenticationResolver(p){return fe("not implemented")}}function ea(v,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,h.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:resetPassword",Pe(v,p))})).apply(this,arguments)}function po(v,p){return zs.apply(this,arguments)}function zs(){return(zs=(0,h.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bs(){return(bs=(0,h.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:update",Pe(v,p))})).apply(this,arguments)}function Gs(v,p){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,h.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:signInWithPassword",Pe(v,p))})).apply(this,arguments)}function qs(v,p){return hl.apply(this,arguments)}function hl(){return(hl=(0,h.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:sendOobCode",Pe(v,p))})).apply(this,arguments)}function Vc(){return(Vc=(0,h.Z)(function*(v,p){return qs(v,p)})).apply(this,arguments)}function ta(v,p){return su.apply(this,arguments)}function su(){return(su=(0,h.Z)(function*(v,p){return qs(v,p)})).apply(this,arguments)}function is(v,p){return li.apply(this,arguments)}function li(){return(li=(0,h.Z)(function*(v,p){return qs(v,p)})).apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(v,p){return qs(v,p)})).apply(this,arguments)}function Cr(){return(Cr=(0,h.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:signInWithEmailLink",Pe(v,p))})).apply(this,arguments)}function na(){return(na=(0,h.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:signInWithEmailLink",Pe(v,p))})).apply(this,arguments)}class Cs extends Ot{constructor(p,m,E,A=null){super("password",E),this._email=p,this._password=m,this._tenantId=A}static _fromEmailAndPassword(p,m){return new Cs(p,m,"password")}static _fromEmailAndCode(p,m,E=null){return new Cs(p,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,h.Z)(function*(){var E;switch(m.signInMethod){case"password":const A={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const N=yield Gi(p,A,"signInWithPassword");return Gs(p,N)}return Gs(p,A).catch(function(){var N=(0,h.Z)(function*(q){if("auth/missing-recaptcha-token"===q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const te=yield Gi(p,A,"signInWithPassword");return Gs(p,te)}return Promise.reject(q)});return function(q){return N.apply(this,arguments)}}());case"emailLink":return function Rp(v,p){return Cr.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:be(p,"internal-error")}})()}_linkToIdToken(p,m){var E=this;return(0,h.Z)(function*(){switch(E.signInMethod){case"password":return po(p,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function xi(v,p){return na.apply(this,arguments)}(p,{idToken:m,email:E._email,oobCode:E._password});default:be(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Tr(v,p){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,h.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:signInWithIdp",Pe(v,p))})).apply(this,arguments)}class ss extends Ot{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new ss(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):be("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:A}=m,N=(0,se._T)(m,["providerId","signInMethod"]);if(!E||!A)return null;const q=new ss(E,A);return q.idToken=N.idToken||void 0,q.accessToken=N.accessToken||void 0,q.secret=N.secret,q.nonce=N.nonce,q.pendingToken=N.pendingToken||null,q}_getIdTokenResponse(p){return Tr(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Tr(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Tr(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,L.xO)(m)}return p}}function ou(){return(ou=(0,h.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:sendVerificationCode",Pe(v,p))})).apply(this,arguments)}function au(){return(au=(0,h.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:signInWithPhoneNumber",Pe(v,p))})).apply(this,arguments)}function Uc(){return(Uc=(0,h.Z)(function*(v,p){const m=yield Zt(v,"POST","/v1/accounts:signInWithPhoneNumber",Pe(v,p));if(m.temporaryProof)throw Qn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Op={USER_NOT_FOUND:"user-not-found"};function os(){return(os=(0,h.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:signInWithPhoneNumber",Pe(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Op)})).apply(this,arguments)}class Jr extends Ot{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Jr({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Jr({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Np(v,p){return au.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Pp(v,p){return Uc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Th(v,p){return os.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:E,verificationCode:A}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:E,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:E,phoneNumber:A,temporaryProof:N}=p;return E||m||A||N?new Jr({verificationId:m,verificationCode:E,phoneNumber:A,temporaryProof:N}):null}}class ra{constructor(p){var m,E,A,N,q,te;const Le=(0,L.zd)((0,L.pd)(p)),qe=null!==(m=Le.apiKey)&&void 0!==m?m:null,dt=null!==(E=Le.oobCode)&&void 0!==E?E:null,Ut=function Iy(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Le.mode)&&void 0!==A?A:null);$(qe&&dt&&Ut,"argument-error"),this.apiKey=qe,this.operation=Ut,this.code=dt,this.continueUrl=null!==(N=Le.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(q=Le.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(te=Le.tenantId)&&void 0!==te?te:null}static parseLink(p){const m=function Bc(v){const p=(0,L.zd)((0,L.pd)(v)).link,m=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,E=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(E?(0,L.zd)((0,L.pd)(E)).link:null)||E||m||p||v}(p);try{return new ra(m)}catch{return null}}}let uu=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,E){return Cs._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const A=ra.parseLink(E);return $(A,"argument-error"),Cs._fromEmailAndCode(m,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ci{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class lu extends ci{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class cu extends lu{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return $("providerId"in m&&"signInMethod"in m,"argument-error"),ss._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return $(p.idToken||p.accessToken,"argument-error"),ss._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return cu.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return cu.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:N,nonce:q,providerId:te}=p;if(!E&&!A&&!m&&!N||!te)return null;try{return new cu(te)._credential({idToken:m,accessToken:E,nonce:q,pendingToken:N})}catch{return null}}}let Dy=(()=>{class v extends lu{constructor(){super("facebook.com")}static credential(m){return ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),di=(()=>{class v extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:A}=m;if(!E&&!A)return null;try{return v.credential(E,A)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),$c=(()=>{class v extends lu{constructor(){super("github.com")}static credential(m){return ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ts extends Ot{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Tr(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Tr(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Tr(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:A,pendingToken:N}=m;return E&&A&&N&&E===A?new Ts(E,N):null}static _create(p,m){return new Ts(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mo extends ci{constructor(p){$(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return mo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return mo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Ts.fromJSON(p);return $(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:E}=p;if(!m||!E)return null;try{return Ts._create(E,m)}catch{return null}}}let pl=(()=>{class v extends lu{constructor(){super("twitter.com")}static credential(m,E){return ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=m;if(!E||!A)return null;try{return v.credential(E,A)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function yo(v,p){return hu.apply(this,arguments)}function hu(){return(hu=(0,h.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:signUp",Pe(v,p))})).apply(this,arguments)}class Jn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,E,A=!1){return(0,h.Z)(function*(){const N=yield ge._fromIdTokenResponse(p,E,A),q=Sh(E);return new Jn({user:N,providerId:q,_tokenResponse:E,operationType:m})})()}static _forOperation(p,m,E){return(0,h.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const A=Sh(E);return new Jn({user:p,providerId:A,_tokenResponse:E,operationType:m})})()}}function Sh(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function ln(v){return fu.apply(this,arguments)}function fu(){return(fu=(0,h.Z)(function*(v){var p;const m=at(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Jn({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield yo(m,{returnSecureToken:!0}),A=yield Jn._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ws extends L.ZR{constructor(p,m,E,A){var N;super(m.code,m.message),this.operationType=E,this.user=A,Object.setPrototypeOf(this,Ws.prototype),this.customData={appName:p.name,tenantId:null!==(N=p.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,m,E,A){return new Ws(p,m,E,A)}}function Pn(v,p,m,E){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Ws._fromErrorAndOperation(v,N,p,E):N})}function pu(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Ss(v,p){return ar.apply(this,arguments)}function ar(){return ar=(0,h.Z)(function*(v,p){const m=(0,L.m9)(v);yield Ri(!0,m,p);const{providerUserInfo:E}=yield function ui(v,p){return bi.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),A=pu(E||[]);return m.providerData=m.providerData.filter(N=>A.has(N.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),ar.apply(this,arguments)}function sa(v,p){return oa.apply(this,arguments)}function oa(){return(oa=(0,h.Z)(function*(v,p,m=!1){const E=yield Tt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Jn._forOperation(v,"link",E)})).apply(this,arguments)}function Ri(v,p,m){return ur.apply(this,arguments)}function ur(){return(ur=(0,h.Z)(function*(v,p,m){yield xn(p);const A=!1===v?"provider-already-linked":"no-such-provider";$(pu(p.providerData).has(m)===v,p.auth,A)})).apply(this,arguments)}function jc(v,p){return _o.apply(this,arguments)}function _o(){return(_o=(0,h.Z)(function*(v,p,m=!1){const{auth:E}=v,A="reauthenticate";try{const N=yield Tt(v,Pn(E,A,p,v),m);$(N.idToken,E,"internal-error");const q=jn(N.idToken);$(q,E,"internal-error");const{sub:te}=q;return $(v.uid===te,E,"user-mismatch"),Jn._forOperation(v,A,N)}catch(N){throw"auth/user-not-found"===N?.code&&be(E,"user-mismatch"),N}})).apply(this,arguments)}function gl(v,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,h.Z)(function*(v,p,m=!1){const E="signIn",A=yield Pn(v,E,p),N=yield Jn._fromIdTokenResponse(v,E,A);return m||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Ks(v,p){return aa.apply(this,arguments)}function aa(){return(aa=(0,h.Z)(function*(v,p){return gl(at(v),p)})).apply(this,arguments)}function Rt(v,p){return gu.apply(this,arguments)}function gu(){return(gu=(0,h.Z)(function*(v,p){const m=(0,L.m9)(v);return yield Ri(!1,m,p.providerId),sa(m,p)})).apply(this,arguments)}function ml(v,p){return yl.apply(this,arguments)}function yl(){return(yl=(0,h.Z)(function*(v,p){return jc((0,L.m9)(v),p)})).apply(this,arguments)}function vl(){return(vl=(0,h.Z)(function*(v,p){return Zt(v,"POST","/v1/accounts:signInWithCustomToken",Pe(v,p))})).apply(this,arguments)}function Hc(v,p){return El.apply(this,arguments)}function El(){return El=(0,h.Z)(function*(v,p){const m=at(v),E=yield function _l(v,p){return vl.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),A=yield Jn._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(A.user),A}),El.apply(this,arguments)}class gn{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?we._fromServerResponse(p,m):"totpInfo"in m?Qt._fromServerResponse(p,m):be(p,"internal-error")}}class we extends gn{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new we(m)}}class Qt extends gn{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Qt(m)}}function Zs(v,p,m){var E;$((null===(E=m.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),$(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&($(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&($(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Ah(v,p,m){return Un.apply(this,arguments)}function Un(){return Un=(0,h.Z)(function*(v,p,m){var E;const A=at(v),N={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=A._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const q=yield Gi(A,N,"getOobCode",!0);m&&Zs(A,q,m),yield ta(A,q)}else m&&Zs(A,N,m),yield ta(A,N).catch(function(){var q=(0,h.Z)(function*(te){if("auth/missing-recaptcha-token"!==te.code)return Promise.reject(te);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Le=yield Gi(A,N,"getOobCode",!0);m&&Zs(A,Le,m),yield ta(A,Le)}});return function(te){return q.apply(this,arguments)}}())}),Un.apply(this,arguments)}function Mh(v,p,m){return As.apply(this,arguments)}function As(){return(As=(0,h.Z)(function*(v,p,m){yield ea((0,L.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Pi(v,p){return mu.apply(this,arguments)}function mu(){return mu=(0,h.Z)(function*(v,p){yield function br(v,p){return bs.apply(this,arguments)}((0,L.m9)(v),{oobCode:p})}),mu.apply(this,arguments)}function ua(v,p){return yu.apply(this,arguments)}function yu(){return(yu=(0,h.Z)(function*(v,p){const m=(0,L.m9)(v),E=yield ea(m,{oobCode:p}),A=E.requestType;switch($(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":$(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":$(E.mfaInfo,m,"internal-error");default:$(E.email,m,"internal-error")}let N=null;return E.mfaInfo&&(N=gn._fromServerResponse(at(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:A}})).apply(this,arguments)}function zc(v,p){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(v,p){const{data:m}=yield ua((0,L.m9)(v),p);return m.email})).apply(this,arguments)}function zn(v,p,m){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,h.Z)(function*(v,p,m){var E;const A=at(v),N={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let q;if(null!==(E=A._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const qe=yield Gi(A,N,"signUpPassword");q=yo(A,qe)}else q=yo(A,N).catch(function(){var qe=(0,h.Z)(function*(dt){if("auth/missing-recaptcha-token"===dt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ut=yield Gi(A,N,"signUpPassword");return yo(A,Ut)}return Promise.reject(dt)});return function(dt){return qe.apply(this,arguments)}}());const te=yield q.catch(qe=>Promise.reject(qe)),Le=yield Jn._fromIdTokenResponse(A,"signIn",te);return yield A._updateCurrentUser(Le.user),Le}),Sr.apply(this,arguments)}function wl(v,p,m){return Ks((0,L.m9)(v),uu.credential(p,m))}function ca(v,p,m){return hi.apply(this,arguments)}function hi(){return hi=(0,h.Z)(function*(v,p,m){var E;const A=at(v),N={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function q(te,Le){$(Le.handleCodeInApp,A,"argument-error"),Le&&Zs(A,te,Le)}if(null!==(E=A._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const te=yield Gi(A,N,"getOobCode",!0);q(te,m),yield is(A,te)}else q(N,m),yield is(A,N).catch(function(){var te=(0,h.Z)(function*(Le){if("auth/missing-recaptcha-token"!==Le.code)return Promise.reject(Le);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const qe=yield Gi(A,N,"getOobCode",!0);q(qe,m),yield is(A,qe)}});return function(Le){return te.apply(this,arguments)}}())}),hi.apply(this,arguments)}function _u(v,p){return"EMAIL_SIGNIN"===ra.parseLink(p)?.operation}function Gc(v,p,m){return Il.apply(this,arguments)}function Il(){return(Il=(0,h.Z)(function*(v,p,m){const E=(0,L.m9)(v),A=uu.credentialWithLink(p,m||Ge());return $(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ks(E,A)})).apply(this,arguments)}function vo(){return(vo=(0,h.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:createAuthUri",Pe(v,p))})).apply(this,arguments)}function qc(v,p){return vu.apply(this,arguments)}function vu(){return vu=(0,h.Z)(function*(v,p){const E={identifier:p,continueUri:xt()?Ge():"http://localhost"},{signinMethods:A}=yield function xh(v,p){return vo.apply(this,arguments)}((0,L.m9)(v),E);return A||[]}),vu.apply(this,arguments)}function Eu(v,p){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,h.Z)(function*(v,p){const m=(0,L.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Zs(m.auth,A,p);const{email:N}=yield function Yt(v,p){return Vc.apply(this,arguments)}(m.auth,A);N!==v.email&&(yield v.reload())}),Wc.apply(this,arguments)}function Dl(v,p,m){return wu.apply(this,arguments)}function wu(){return wu=(0,h.Z)(function*(v,p,m){const E=(0,L.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&Zs(E.auth,N,m);const{email:q}=yield function go(v,p){return or.apply(this,arguments)}(E.auth,N);q!==v.email&&(yield v.reload())}),wu.apply(this,arguments)}function Kc(){return(Kc=(0,h.Z)(function*(v,p){return Ct(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bl(v,p){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,h.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const E=(0,L.m9)(v),N={idToken:yield E.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},q=yield Tt(E,function Fp(v,p){return Kc.apply(this,arguments)}(E.auth,N));E.displayName=q.displayName||null,E.photoURL=q.photoUrl||null;const te=E.providerData.find(({providerId:Le})=>"password"===Le);te&&(te.displayName=E.displayName,te.photoURL=E.photoURL),yield E._updateTokensIfNecessary(q)}),Zc.apply(this,arguments)}function Yc(v,p){return Qc((0,L.m9)(v),p,null)}function Cl(v,p){return Qc((0,L.m9)(v),null,p)}function Qc(v,p,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,h.Z)(function*(v,p,m){const{auth:E}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(N.email=p),m&&(N.password=m);const q=yield Tt(v,po(E,N));yield v._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class dn{constructor(p,m,E={}){this.isNewUser=p,this.providerId=m,this.profile=E}}class Tl extends dn{constructor(p,m,E,A){super(p,m,E),this.username=A}}class cr extends dn{constructor(p,m){super(p,"facebook.com",m)}}class Lp extends Tl{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Xr extends dn{constructor(p,m){super(p,"google.com",m)}}class Vp extends Tl{constructor(p,m,E){super(p,"twitter.com",m,E)}}function Rh(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Eo(v){var p,m;if(!v)return null;const{providerId:E}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&v?.idToken){const q=null===(m=null===(p=jn(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(q)return new dn(N,"anonymous"!==q&&"custom"!==q?q:null)}if(!E)return null;switch(E){case"facebook.com":return new cr(N,A);case"github.com":return new Lp(N,A);case"google.com":return new Xr(N,A);case"twitter.com":return new Vp(N,A,v.screenName||null);case"custom":case"anonymous":return new dn(N,null);default:return new dn(N,E,A)}}(m)}function Ms(v,p,m,E){return(0,L.m9)(v).onAuthStateChanged(p,m,E)}function ha(v){return(0,L.m9)(v).signOut()}class as{constructor(p,m,E){this.type=p,this.credential=m,this.auth=E}static _fromIdtoken(p,m){return new as("enroll",p,m)}static _fromMfaPendingCredential(p){return new as("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,E;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return as._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return as._fromIdtoken(p.multiFactorSession.idToken)}return null}}class td{constructor(p,m,E){this.session=p,this.hints=m,this.signInResolver=E}static _fromError(p,m){const E=at(p),A=m.customData._serverResponse,N=(A.mfaInfo||[]).map(te=>gn._fromServerResponse(E,te));$(A.mfaPendingCredential,E,"internal-error");const q=as._fromMfaPendingCredential(A.mfaPendingCredential);return new td(q,N,function(){var te=(0,h.Z)(function*(Le){const qe=yield Le._process(E,q);delete A.mfaInfo,delete A.mfaPendingCredential;const dt=Object.assign(Object.assign({},A),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(m.operationType){case"signIn":const Ut=yield Jn._fromIdTokenResponse(E,m.operationType,dt);return yield E._updateCurrentUser(Ut.user),Ut;case"reauthenticate":return $(m.user,E,"internal-error"),Jn._forOperation(m.user,m.operationType,dt);default:be(E,"internal-error")}});return function(Le){return te.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,h.Z)(function*(){return m.signInResolver(p)})()}}function Ph(v,p){var m;const E=(0,L.m9)(v),A=p;return $(p.customData.operationType,E,"argument-error"),$(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),td._fromError(E,A)}class xs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>gn._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new xs(p)}getSession(){var p=this;return(0,h.Z)(function*(){return as._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var E=this;return(0,h.Z)(function*(){const A=p,N=yield E.getSession(),q=yield Tt(E.user,A._process(E.user.auth,N,m));return yield E.user._updateTokensIfNecessary(q),E.user.reload()})()}unenroll(p){var m=this;return(0,h.Z)(function*(){const E="string"==typeof p?p:p.uid,A=yield m.user.getIdToken();try{const N=yield Tt(m.user,function Io(v,p){return Ct(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Pe(v,p))}(m.user.auth,{idToken:A,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:q})=>q!==E),yield m.user._updateTokensIfNecessary(N),yield m.user.reload()}catch(N){throw N}})()}}const Ki=new WeakMap;function pa(v){const p=(0,L.m9)(v);return Ki.has(p)||Ki.set(p,xs._fromUser(p)),Ki.get(p)}const Do="__sak";class ga{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Do,"1"),this.storage.removeItem(Do),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const kh=(()=>{class v extends ga{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Oh(){const v=(0,L.z$)();return ce(v)||In(v)}()&&function iu(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ti(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),N=this.localCache[E];A!==N&&m(E,N,A)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((te,Le,qe)=>{this.notifyListeners(te,qe)});const A=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const te=this.storage.getItem(A);if(m.newValue!==te)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!E)return}const N=()=>{const te=this.storage.getItem(A);!E&&this.localCache[A]===te||this.notifyListeners(A,te)},q=this.storage.getItem(A);!function Ur(){return(0,L.w1)()&&10===document.documentMode}()||q===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,E){this.localCache[m]=E;const A=this.listeners[m];if(A)for(const N of Array.from(A))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var A=()=>super._set,N=this;return(0,h.Z)(function*(){yield A().call(N,m,E),N.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,A=this;return(0,h.Z)(function*(){const N=yield E().call(A,m);return A.localCache[m]=JSON.stringify(N),N})()}_remove(m){var E=()=>super._remove,A=this;return(0,h.Z)(function*(){yield E().call(A,m),delete A.localCache[m]})()}}return v.type="LOCAL",v})(),ya=(()=>{class v extends ga{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return v.type="SESSION",v})();let fi=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(N=>N.isListeningto(m));if(E)return E;const A=new v(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,h.Z)(function*(){const A=m,{eventId:N,eventType:q,data:te}=A.data,Le=E.handlersMap[q];if(!Le?.size)return;A.ports[0].postMessage({status:"ack",eventId:N,eventType:q});const qe=Array.from(Le).map(function(){var Ut=(0,h.Z)(function*(Hr){return Hr(A.origin,te)});return function(Hr){return Ut.apply(this,arguments)}}()),dt=yield function Co(v){return Promise.all(v.map(function(){var p=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return p.apply(this,arguments)}}()))}(qe);A.ports[0].postMessage({status:"done",eventId:N,eventType:q,response:dt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ys(v="",p=10){let m="";for(let E=0;E<p;E++)m+=Math.floor(10*Math.random());return v+m}class _a{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,E=50){var A=this;return(0,h.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let q,te;return new Promise((Le,qe)=>{const dt=Ys("",20);N.port1.start();const Ut=setTimeout(()=>{qe(new Error("unsupported_event"))},E);te={messageChannel:N,onMessage(Hr){const mi=Hr;if(mi.data.eventId===dt)switch(mi.data.status){case"ack":clearTimeout(Ut),q=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Le(mi.data.response);break;default:clearTimeout(Ut),clearTimeout(q),qe(new Error("invalid_response"))}}},A.handlers.add(te),N.port1.addEventListener("message",te.onMessage),A.target.postMessage({eventType:p,eventId:dt,data:m},[N.port2])}).finally(()=>{te&&A.removeMessageHandler(te)})})()}}function mn(){return window}function Rs(){return typeof mn().WorkerGlobalScope<"u"&&"function"==typeof mn().importScripts}function Al(){return(Al=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wa="firebaseLocalStorageDb",rd=1,Br="firebaseLocalStorage",Ia="fbase_key";class Oi{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ns(v,p){return v.transaction([Br],p?"readwrite":"readonly").objectStore(Br)}function Da(){const v=indexedDB.open(wa,rd);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Br,{keyPath:Ia})}catch(A){m(A)}}),v.addEventListener("success",(0,h.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Br)?p(E):(E.close(),yield function id(){const v=indexedDB.deleteDatabase(wa);return new Oi(v).toPromise()}(),p(yield Da()))}))})}function Ar(v,p,m){return ba.apply(this,arguments)}function ba(){return(ba=(0,h.Z)(function*(v,p,m){const E=Ns(v,!0).put({[Ia]:p,value:m});return new Oi(E).toPromise()})).apply(this,arguments)}function Ca(){return(Ca=(0,h.Z)(function*(v,p){const m=Ns(v,!1).get(p),E=yield new Oi(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ml(v,p){const m=Ns(v,!0).delete(p);return new Oi(m).toPromise()}const Ps=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield Da()),m.db})()}_withRetries(m){var E=this;return(0,h.Z)(function*(){let A=0;for(;;)try{const N=yield E._openDb();return yield m(N)}catch(N){if(A++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return Rs()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=fi._getInstance(function nd(){return Rs()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,h.Z)(function*(A,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(A,N){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,h.Z)(function*(A,N){return["keyChanged"]});return function(A,N){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var E,A;if(m.activeServiceWorker=yield function va(){return Al.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new _a(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);N&&null!==(E=N[0])&&void 0!==E&&E.fulfilled&&null!==(A=N[0])&&void 0!==A&&A.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,h.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Ea(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Da();return yield Ar(m,Do,"1"),yield Ml(m,Do),!0}catch{}return!1})()}_withPendingWrite(m){var E=this;return(0,h.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var A=this;return(0,h.Z)(function*(){return A._withPendingWrite((0,h.Z)(function*(){return yield A._withRetries(N=>Ar(N,m,E)),A.localCache[m]=E,A.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,h.Z)(function*(){const A=yield E._withRetries(N=>function sd(v,p){return Ca.apply(this,arguments)}(N,m));return E.localCache[m]=A,A})()}_remove(m){var E=this;return(0,h.Z)(function*(){return E._withPendingWrite((0,h.Z)(function*(){return yield E._withRetries(A=>Ml(A,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const E=yield m._withRetries(q=>{const te=Ns(q,!1).getAll();return new Oi(te).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const A=[],N=new Set;for(const{fbase_key:q,value:te}of E)N.add(q),JSON.stringify(m.localCache[q])!==JSON.stringify(te)&&(m.notifyListeners(q,te),A.push(q));for(const q of Object.keys(m.localCache))m.localCache[q]&&!N.has(q)&&(m.notifyListeners(q,null),A.push(q));return A})()}notifyListeners(m,E){this.localCache[m]=E;const A=this.listeners[m];if(A)for(const N of Array.from(A))N(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),ki=1e12;class yn{constructor(p){this.auth=p,this.counter=ki,this._widgets=new Map}render(p,m){const E=this.counter;return this._widgets.set(E,new Fh(p,this.auth.name,m||{})),this.counter++,E}reset(p){var m;const E=p||ki;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(p){var m;return(null===(m=this._widgets.get(p||ki))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,h.Z)(function*(){var E;return null===(E=m._widgets.get(p||ki))||void 0===E||E.execute(),""})()}}class Fh{constructor(p,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;$(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xl(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Rl=sr("rcb"),by=new de(3e4,6e4);class ud{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=mn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return $(function Hp(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Xo(mn().grecaptcha)?Promise.resolve(mn().grecaptcha):new Promise((E,A)=>{const N=mn().setTimeout(()=>{A(ye(p,"network-request-failed"))},by.get());mn()[Rl]=()=>{mn().clearTimeout(N),delete mn()[Rl];const te=mn().grecaptcha;if(!te||!Xo(te))return void A(ye(p,"internal-error"));const Le=te.render;te.render=(qe,dt)=>{const Ut=Le(qe,dt);return this.counter++,Ut},this.hostLanguage=m,E(te)},Rn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Rl,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),A(ye(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=mn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sa{load(p){return(0,h.Z)(function*(){return new yn(p)})()}clearedOneInstance(){}}const zp="recaptcha",Ty={theme:"light",type:"image"};class Sn{constructor(p,m=Object.assign({},Ty),E){this.parameters=m,this.type=zp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=at(E),this.isInvisible="invisible"===this.parameters.size,$(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;$(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sa:new ud,this.validateStartingState()}verify(){var p=this;return(0,h.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(m)||new Promise(N=>{const q=te=>{te&&(p.tokenChangeListeners.delete(q),N(te))};p.tokenChangeListeners.add(q),p.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){$(!this.parameters.sitekey,this.auth,"argument-error"),$(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof p)p(m);else if("string"==typeof p){const E=mn()[p];"function"==typeof E&&E(m)}}}assertNotDestroyed(){$(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,h.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,h.Z)(function*(){$(xt()&&!Rs(),p.auth,"internal-error"),yield function Nl(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function al(v){return Qo.apply(this,arguments)}(p.auth);$(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return $(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qs{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Jr._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Gp(v,p,m){return pi.apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(v,p,m){const E=at(v),A=yield Ol(E,p,(0,L.m9)(m));return new Qs(A,N=>Ks(E,N))})).apply(this,arguments)}function Ao(v,p,m){return ld.apply(this,arguments)}function ld(){return(ld=(0,h.Z)(function*(v,p,m){const E=(0,L.m9)(v);yield Ri(!1,E,"phone");const A=yield Ol(E.auth,p,(0,L.m9)(m));return new Qs(A,N=>Rt(E,N))})).apply(this,arguments)}function Pl(v,p,m){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,h.Z)(function*(v,p,m){const E=(0,L.m9)(v),A=yield Ol(E.auth,p,(0,L.m9)(m));return new Qs(A,N=>ml(E,N))})).apply(this,arguments)}function Ol(v,p,m){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,h.Z)(function*(v,p,m){var E;const A=yield m.verify();try{let N;if($("string"==typeof A,v,"argument-error"),$(m.type===zp,v,"argument-error"),N="string"==typeof p?{phoneNumber:p}:p,"session"in N){const q=N.session;if("phoneNumber"in N)return $("enroll"===q.type,v,"internal-error"),(yield function fa(v,p){return Ct(v,"POST","/v2/accounts/mfaEnrollment:start",Pe(v,p))}(v,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{$("signin"===q.type,v,"internal-error");const te=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return $(te,v,"missing-multi-factor-info"),(yield function Ta(v,p){return Ct(v,"POST","/v2/accounts/mfaSignIn:start",Pe(v,p))}(v,{mfaPendingCredential:q.credential,mfaEnrollmentId:te,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield function Ch(v,p){return ou.apply(this,arguments)}(v,{phoneNumber:N.phoneNumber,recaptchaToken:A});return q}}finally{m._reset()}}),Lh.apply(this,arguments)}function kl(v,p){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,h.Z)(function*(v,p){yield sa((0,L.m9)(v),p)})).apply(this,arguments)}let Jt=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=at(m)}verifyPhoneNumber(m,E){return Ol(this.auth,m,(0,L.m9)(E))}static credential(m,E){return Jr._fromVerification(m,E)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:A}=m;return E&&A?Jr._fromTokenResponse(E,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Gn(v,p){return p?_t(p):($(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Zi extends Ot{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Tr(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Tr(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Tr(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function cd(v){return gl(v.auth,new Zi(v),v.bypassAuthState)}function Su(v){const{auth:p,user:m}=v;return $(m,p,"internal-error"),jc(m,new Zi(v),v.bypassAuthState)}function qp(v){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,h.Z)(function*(v){const{auth:p,user:m}=v;return $(m,p,"internal-error"),sa(m,new Zi(v),v.bypassAuthState)})).apply(this,arguments)}class Vh{constructor(p,m,E,A,N=!1){this.auth=p,this.resolver=E,this.user=A,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,h.Z)(function*(E,A){p.pendingPromise={resolve:E,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(N){p.reject(N)}});return function(E,A){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,h.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:N,tenantId:q,error:te,type:Le}=p;if(te)return void m.reject(te);const qe={auth:m.auth,requestUri:E,sessionId:A,tenantId:q||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Le)(qe))}catch(dt){m.reject(dt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return cd;case"linkViaPopup":case"linkViaRedirect":return qp;case"reauthViaPopup":case"reauthViaRedirect":return Su;default:be(this.auth,"internal-error")}}resolve(p){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Au=new de(2e3,1e4);function xo(v,p,m){return On.apply(this,arguments)}function On(){return(On=(0,h.Z)(function*(v,p,m){const E=at(v);Ue(v,p,ci);const A=Gn(E,m);return new Aa(E,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function kt(v,p,m){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,h.Z)(function*(v,p,m){const E=(0,L.m9)(v);Ue(E.auth,p,ci);const A=Gn(E.auth,m);return new Aa(E.auth,"reauthViaPopup",p,A,E).executeNotNull()})).apply(this,arguments)}function Vl(v,p,m){return $r.apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(v,p,m){const E=(0,L.m9)(v);Ue(E.auth,p,ci);const A=Gn(E.auth,m);return new Aa(E.auth,"linkViaPopup",p,A,E).executeNotNull()})).apply(this,arguments)}let Aa=(()=>{class v extends Vh{constructor(m,E,A,N,q){super(m,E,N,q),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const E=yield m.execute();return $(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,h.Z)(function*(){$e(1===m.filter.length,"Popup operations only handle one event");const E=Ys();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(ye(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,A;this.pollId=null!==(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Au.get())};m()}}return v.currentPopupAction=null,v})();const Fi="pendingRedirect",Ma=new Map;class Js extends Vh{constructor(p,m,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,h.Z)(function*(){let E=Ma.get(m.auth._key());if(!E){try{const N=(yield function Mr(v,p){return No.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;E=()=>Promise.resolve(N)}catch(A){E=()=>Promise.reject(A)}Ma.set(m.auth._key(),E)}return m.bypassAuthState||Ma.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,E=this;return(0,h.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(E,p);if("unknown"!==p.type){if(p.eventId){const A=yield E.auth._redirectUserForId(p.eventId);if(A)return E.user=A,m().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function No(){return(No=(0,h.Z)(function*(v,p){const m=P(p),E=M(v);if(!(yield E._isAvailable()))return!1;const A="true"===(yield E._get(m));return yield E._remove(m),A})).apply(this,arguments)}function xa(v,p){return dd.apply(this,arguments)}function dd(){return(dd=(0,h.Z)(function*(v,p){return M(v)._set(P(p),"true")})).apply(this,arguments)}function b(){Ma.clear()}function C(v,p){Ma.set(v._key(),p)}function M(v){return _t(v._redirectPersistence)}function P(v){return Vn(Fi,v.config.apiKey,v.name)}function W(v,p,m){return function J(v,p,m){return pe.apply(this,arguments)}(v,p,m)}function pe(){return(pe=(0,h.Z)(function*(v,p,m){const E=at(v);Ue(v,p,ci),yield E._initializationPromise;const A=Gn(E,m);return yield xa(A,E),A._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function Xe(v,p,m){return function ft(v,p,m){return lt.apply(this,arguments)}(v,p,m)}function lt(){return(lt=(0,h.Z)(function*(v,p,m){const E=(0,L.m9)(v);Ue(E.auth,p,ci),yield E.auth._initializationPromise;const A=Gn(E.auth,m);yield xa(A,E.auth);const N=yield gi(E);return A._openRedirect(E.auth,p,"reauthViaRedirect",N)})).apply(this,arguments)}function qt(v,p,m){return function St(v,p,m){return vr.apply(this,arguments)}(v,p,m)}function vr(){return(vr=(0,h.Z)(function*(v,p,m){const E=(0,L.m9)(v);Ue(E.auth,p,ci),yield E.auth._initializationPromise;const A=Gn(E.auth,m);yield Ri(!1,E,p.providerId),yield xa(A,E.auth);const N=yield gi(E);return A._openRedirect(E.auth,p,"linkViaRedirect",N)})).apply(this,arguments)}function Xn(v,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,h.Z)(function*(v,p){return yield at(v)._initializationPromise,Ra(v,p,!1)})).apply(this,arguments)}function Ra(v,p){return us.apply(this,arguments)}function us(){return(us=(0,h.Z)(function*(v,p,m=!1){const E=at(v),A=Gn(E,p),q=yield new Js(E,A,m).execute();return q&&!m&&(delete q.user._redirectEventId,yield E._persistUserIfCurrent(q.user),yield E._setRedirectUser(null,p)),q})).apply(this,arguments)}function gi(v){return ei.apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(v){const p=Ys(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Bl{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(m=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Uh(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kp(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var E;if(p.error&&!Kp(p)){const A=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(ye(this.auth,A))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const E=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wp(p))}saveEventToCache(p){this.cachedEventUids.add(Wp(p)),this.lastProcessedEventTime=Date.now()}}function Wp(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Kp({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function Zp(v){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,h.Z)(function*(v,p={}){return Ct(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Yp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sy=/^https?/;function hd(){return(hd=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Zp(v);for(const m of p)try{if($h(m))return}catch{}be(v,"unauthorized-domain")})).apply(this,arguments)}function $h(v){const p=Ge(),{protocol:m,hostname:E}=new URL(p);if(v.startsWith("chrome-extension://")){const q=new URL(v);return""===q.hostname&&""===E?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&q.hostname===E}if(!Sy.test(m))return!1;if(Yp.test(v))return E===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const fd=new de(3e4,6e4);function $l(){const v=mn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Mu=null;const Jp=new de(5e3,15e3),ti="__/auth/iframe",Po="emulator/auth/iframe",jh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BE(v){const p=v.config;$(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?Te(p,Po):`https://${v.config.authDomain}/${ti}`,E={apiKey:p.apiKey,appName:v.name,v:G.SDK_VERSION},A=Xp.get(v.config.apiHost);A&&(E.eid=A);const N=v._getFrameworks();return N.length&&(E.fw=N.join(",")),`${m}?${(0,L.xO)(E).slice(1)}`}function gd(){return gd=(0,h.Z)(function*(v){const p=yield function ls(v){return Mu=Mu||function jl(v){return new Promise((p,m)=>{var E,A,N;function q(){$l(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{$l(),m(ye(v,"network-request-failed"))},timeout:fd.get()})}if(null!==(A=null===(E=mn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==A&&A.Iframe)p(gapi.iframes.getContext());else{if(null===(N=mn().gapi)||void 0===N||!N.load){const te=sr("iframefcb");return mn()[te]=()=>{gapi.load?q():m(ye(v,"network-request-failed"))},Rn(`https://apis.google.com/js/api.js?onload=${te}`).catch(Le=>m(Le))}q()}}).catch(p=>{throw Mu=null,p})}(v),Mu}(v),m=mn().gapi;return $(m,v,"internal-error"),p.open({where:document.body,url:BE(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jh,dontclear:!0},E=>new Promise(function(){var A=(0,h.Z)(function*(N,q){yield E.restyle({setHideOnLeave:!1});const te=ye(v,"network-request-failed"),Le=mn().setTimeout(()=>{q(te)},Jp.get());function qe(){mn().clearTimeout(Le),N(E)}E.ping(qe).then(qe,()=>{q(te)})});return function(N,q){return A.apply(this,arguments)}}()))}),gd.apply(this,arguments)}const md={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yd=500,Ay=600,jr="_blank",Hh="http://localhost";class eg{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const _d="__/auth/handler",My="emulator/auth/handler",xy=encodeURIComponent("fac");function ng(v,p,m,E,A,N){return vd.apply(this,arguments)}function vd(){return(vd=(0,h.Z)(function*(v,p,m,E,A,N){$(v.config.authDomain,v,"auth-domain-config-required"),$(v.config.apiKey,v,"invalid-api-key");const q={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:E,v:G.SDK_VERSION,eventId:A};if(p instanceof ci){p.setDefaultLanguage(v.languageCode),q.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[dt,Ut]of Object.entries(N||{}))q[dt]=Ut}if(p instanceof lu){const dt=p.getScopes().filter(Ut=>""!==Ut);dt.length>0&&(q.scopes=dt.join(","))}v.tenantId&&(q.tid=v.tenantId);const te=q;for(const dt of Object.keys(te))void 0===te[dt]&&delete te[dt];const Le=yield v._getAppCheckToken(),qe=Le?`#${xy}=${encodeURIComponent(Le)}`:"";return`${function rg({config:v}){return v.emulator?Te(v,My):`https://${v.authDomain}/${_d}`}(v)}?${(0,L.xO)(te).slice(1)}${qe}`})).apply(this,arguments)}const Ed="webStorageSupport",zh=class Ry{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ya,this._completeRedirectFn=Ra,this._overrideRedirectResult=C}_openPopup(p,m,E,A){var N=this;return(0,h.Z)(function*(){var q;$e(null===(q=N.eventManagers[p._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const te=yield ng(p,m,E,Ge(),A);return function tg(v,p,m,E=yd,A=Ay){const N=Math.max((window.screen.availHeight-A)/2,0).toString(),q=Math.max((window.screen.availWidth-E)/2,0).toString();let te="";const Le=Object.assign(Object.assign({},md),{width:E.toString(),height:A.toString(),top:N,left:q}),qe=(0,L.z$)().toLowerCase();m&&(te=X(qe)?jr:m),K(qe)&&(p=p||Hh,Le.scrollbars="yes");const dt=Object.entries(Le).reduce((Hr,[mi,Nu])=>`${Hr}${mi}=${Nu},`,"");if(function jt(v=(0,L.z$)()){var p;return In(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(qe)&&"_self"!==te)return function ni(v,p){const m=document.createElement("a");m.href=v,m.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(p||"",te),new eg(null);const Ut=window.open(p||"",te,dt);$(Ut,v,"popup-blocked");try{Ut.focus()}catch{}return new eg(Ut)}(p,te,Ys())})()}_openRedirect(p,m,E,A){var N=this;return(0,h.Z)(function*(){return yield N._originValidation(p),function Cu(v){mn().location.href=v}(yield ng(p,m,E,Ge(),A)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:A,promise:N}=this.eventManagers[m];return A?Promise.resolve(A):($e(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(p);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(p){var m=this;return(0,h.Z)(function*(){const E=yield function pd(v){return gd.apply(this,arguments)}(p),A=new Bl(p);return E.register("authEvent",N=>($(N?.authEvent,p,"invalid-auth-event"),{status:A.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:A},m.iframes[p._key()]=E,A})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Ed,{type:Ed},A=>{var N;const q=null===(N=A?.[0])||void 0===N?void 0:N[Ed];void 0!==q&&m(!!q),be(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Qp(v){return hd.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ti()||ce()||In()}};class Gh{constructor(p){this.factorId=p}_process(p,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,E);case"signin":return this._finalizeSignIn(p,m.credential);default:return fe("unexpected MultiFactorSessionType")}}}class Na extends Gh{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Na(p)}_finalizeEnroll(p,m,E){return function Sl(v,p){return Ct(v,"POST","/v2/accounts/mfaEnrollment:finalize",Pe(v,p))}(p,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function $p(v,p){return Ct(v,"POST","/v2/accounts/mfaSignIn:finalize",Pe(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xu=(()=>{class v{constructor(){}static assertion(m){return Na._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Id="@firebase/auth";class Ru{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Hl=(0,L.Pz)("authIdTokenMaxAge")||300;let Ny=null;const ig=v=>function(){var p=(0,h.Z)(function*(m){const E=m&&(yield m.getIdTokenResult()),A=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(A&&A>Hl)return;const N=E?.token;Ny!==N&&(Ny=N,yield fetch(v,{method:N?"POST":"DELETE",headers:N?{Authorization:`Bearer ${N}`}:{}}))});return function(m){return p.apply(this,arguments)}}();function Py(v=(0,G.getApp)()){const p=(0,G._getProvider)(v,"auth");if(p.isInitialized())return p.getImmediate();const m=function Si(v,p){const m=(0,G._getProvider)(v,"auth");if(m.isInitialized()){const A=m.getImmediate(),N=m.getOptions();if((0,L.vZ)(N,p??{}))return A;be(A,"already-initialized")}return m.initialize({options:p})}(v,{popupRedirectResolver:zh,persistence:[Ps,kh,ya]}),E=(0,L.Pz)("authTokenSyncURL");if(E){const N=ig(E);(function da(v,p,m){(0,L.m9)(v).beforeAuthStateChanged(p,m)})(m,N,()=>N(m.currentUser)),function Iu(v,p,m,E){(0,L.m9)(v).onIdTokenChanged(p,m,E)}(m,q=>N(q))}const A=(0,L.q4)("auth");return A&&Tn(m,`http://${A}`),m}!function ka(v){(0,G._registerComponent)(new ae.wA("auth",(p,{options:m})=>{const E=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),N=p.getProvider("app-check-internal"),{apiKey:q,authDomain:te}=E.options;$(q&&!q.includes(":"),"invalid-api-key",{appName:E.name}),$(!te?.includes(":"),"argument-error",{appName:E.name});const Le={apiKey:q,authDomain:te,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bh(v)},qe=new Je(E,A,N,Le);return function Hs(v,p){const m=p?.persistence||[],E=(Array.isArray(m)?m:[m]).map(_t);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(E,p?.popupRedirectResolver)}(qe,m),qe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,E)=>{p.getProvider("auth-internal").initialize()})),(0,G._registerComponent)(new ae.wA("auth-internal",p=>{const m=at(p.getProvider("auth").getImmediate());return new Ru(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)(Id,"0.23.0",function qh(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,G.registerVersion)(Id,"0.23.0","esm2017")}("Browser")},2090:(vt,Se,k)=>{k.d(Se,{$s:()=>_t,BH:()=>Ce,L:()=>De,LL:()=>mt,P0:()=>ke,Pz:()=>ye,Sg:()=>Ue,UG:()=>fe,US:()=>ae,ZB:()=>Y,ZR:()=>Ct,aH:()=>be,b$:()=>xt,eu:()=>je,hl:()=>Oe,jU:()=>$e,m9:()=>Vn,ne:()=>Tt,pd:()=>jn,q4:()=>Ee,r3:()=>ui,ru:()=>Ge,tV:()=>j,uI:()=>$,vZ:()=>nr,w1:()=>ne,xO:()=>Ci,xb:()=>_s,z$:()=>xe,zI:()=>nt,zd:()=>Ln});const se=function(U){const V=[];let K=0;for(let ce=0;ce<U.length;ce++){let X=U.charCodeAt(ce);X<128?V[K++]=X:X<2048?(V[K++]=X>>6|192,V[K++]=63&X|128):55296==(64512&X)&&ce+1<U.length&&56320==(64512&U.charCodeAt(ce+1))?(X=65536+((1023&X)<<10)+(1023&U.charCodeAt(++ce)),V[K++]=X>>18|240,V[K++]=X>>12&63|128,V[K++]=X>>6&63|128,V[K++]=63&X|128):(V[K++]=X>>12|224,V[K++]=X>>6&63|128,V[K++]=63&X|128)}return V},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[];for(let X=0;X<U.length;X+=3){const tt=U[X],We=X+1<U.length,cn=We?U[X+1]:0,Hn=X+2<U.length,In=Hn?U[X+2]:0;let Ur=(15&cn)<<2|In>>6,Ti=63&In;Hn||(Ti=64,We||(Ur=64)),ce.push(K[tt>>2],K[(3&tt)<<4|cn>>4],K[Ur],K[Ti])}return ce.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(se(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let K=0,ce=0;for(;K<U.length;){const X=U[K++];if(X<128)V[ce++]=String.fromCharCode(X);else if(X>191&&X<224){const tt=U[K++];V[ce++]=String.fromCharCode((31&X)<<6|63&tt)}else if(X>239&&X<365){const Hn=((7&X)<<18|(63&U[K++])<<12|(63&U[K++])<<6|63&U[K++])-65536;V[ce++]=String.fromCharCode(55296+(Hn>>10)),V[ce++]=String.fromCharCode(56320+(1023&Hn))}else{const tt=U[K++],We=U[K++];V[ce++]=String.fromCharCode((15&X)<<12|(63&tt)<<6|63&We)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const K=V?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[];for(let X=0;X<U.length;){const tt=K[U.charAt(X++)],cn=X<U.length?K[U.charAt(X)]:0;++X;const In=X<U.length?K[U.charAt(X)]:64;++X;const jt=X<U.length?K[U.charAt(X)]:64;if(++X,null==tt||null==cn||null==In||null==jt)throw new Ne;ce.push(tt<<2|cn>>4),64!==In&&(ce.push(cn<<4&240|In>>2),64!==jt&&ce.push(In<<6&192|jt))}return ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class Ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const De=function(U){return function(U){const V=se(U);return ae.encodeByteArray(V,!0)}(U).replace(/\./g,"")},j=function(U){try{return ae.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Y(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(const K in V)!V.hasOwnProperty(K)||!Be(K)||(U[K]=Y(U[K],V[K]));return U}function Be(U){return"__proto__"!==U}const _e=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=U&&j(U[1]);return V&&JSON.parse(V)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Ee=U=>{var V,K;return null===(K=null===(V=_e())||void 0===V?void 0:V.emulatorHosts)||void 0===K?void 0:K[U]},ke=U=>{const V=Ee(U);if(!V)return;const K=V.lastIndexOf(":");if(K<=0||K+1===V.length)throw new Error(`Invalid host ${V} with no separate hostname and port!`);const ce=parseInt(V.substring(K+1),10);return"["===V[0]?[V.substring(1,K-1),ce]:[V.substring(0,K),ce]},be=()=>{var U;return null===(U=_e())||void 0===U?void 0:U.config},ye=U=>{var V;return null===(V=_e())||void 0===V?void 0:V[`_${U}`]};class Ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,K)=>{this.resolve=V,this.reject=K})}wrapCallback(V){return(K,ce)=>{K?this.reject(K):this.resolve(ce),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(K):V(K,ce))}}}function Ue(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ce=V||"demo-project",X=U.iat||0,tt=U.sub||U.user_id;if(!tt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${ce}`,aud:ce,iat:X,exp:X+3600,auth_time:X,sub:tt,user_id:tt,firebase:{sign_in_provider:"custom",identities:{}}},U);return[De(JSON.stringify({alg:"none",type:"JWT"})),De(JSON.stringify(We)),""].join(".")}function xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function fe(){var U;const V=null===(U=_e())||void 0===U?void 0:U.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $e(){return"object"==typeof self&&self.self===self}function Ge(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function xt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ne(){const U=xe();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Oe(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((U,V)=>{try{let K=!0;const ce="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(ce);X.onsuccess=()=>{X.result.close(),K||self.indexedDB.deleteDatabase(ce),U(!0)},X.onupgradeneeded=()=>{K=!1},X.onerror=()=>{var tt;V((null===(tt=X.error)||void 0===tt?void 0:tt.message)||"")}}catch(K){V(K)}})}function nt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ct extends Error{constructor(V,K,ce){super(K),this.code=V,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,Ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mt.prototype.create)}}class mt{constructor(V,K,ce){this.service=V,this.serviceName=K,this.errors=ce}create(V,...K){const ce=K[0]||{},X=`${this.service}/${V}`,tt=this.errors[V],We=tt?function en(U,V){return U.replace(Dt,(K,ce)=>{const X=V[ce];return null!=X?String(X):`<${ce}?>`})}(tt,ce):"Error";return new Ct(X,`${this.serviceName}: ${We} (${X}).`,ce)}}const Dt=/\{\$([^}]+)}/g;function ui(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function _s(U){for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function nr(U,V){if(U===V)return!0;const K=Object.keys(U),ce=Object.keys(V);for(const X of K){if(!ce.includes(X))return!1;const tt=U[X],We=V[X];if(Et(tt)&&Et(We)){if(!nr(tt,We))return!1}else if(tt!==We)return!1}for(const X of ce)if(!K.includes(X))return!1;return!0}function Et(U){return null!==U&&"object"==typeof U}function Ci(U){const V=[];for(const[K,ce]of Object.entries(U))Array.isArray(ce)?ce.forEach(X=>{V.push(encodeURIComponent(K)+"="+encodeURIComponent(X))}):V.push(encodeURIComponent(K)+"="+encodeURIComponent(ce));return V.length?"&"+V.join("&"):""}function Ln(U){const V={};return U.replace(/^\?/,"").split("&").forEach(ce=>{if(ce){const[X,tt]=ce.split("=");V[decodeURIComponent(X)]=decodeURIComponent(tt)}}),V}function jn(U){const V=U.indexOf("?");if(!V)return"";const K=U.indexOf("#",V);return U.substring(V,K>0?K:void 0)}function Tt(U,V){const K=new yt(U,V);return K.subscribe.bind(K)}class yt{constructor(V,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{V(this)}).catch(ce=>{this.error(ce)})}next(V){this.forEachObserver(K=>{K.next(V)})}error(V){this.forEachObserver(K=>{K.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,K,ce){let X;if(void 0===V&&void 0===K&&void 0===ce)throw new Error("Missing Observer.");X=function $s(U,V){if("object"!=typeof U||null===U)return!1;for(const K of V)if(K in U&&"function"==typeof U[K])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:K,complete:ce},void 0===X.next&&(X.next=rr),void 0===X.error&&(X.error=rr),void 0===X.complete&&(X.complete=rr);const tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),tt}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,V)}sendOne(V,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{K(this.observers[V])}catch(ce){typeof console<"u"&&console.error&&console.error(ce)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rr(){}const Vr=1e3,Fe=2,ge=144e5,rt=.5;function _t(U,V=Vr,K=Fe){const ce=V*Math.pow(K,U),X=Math.round(rt*ce*(Math.random()-.5)*2);return Math.min(ge,ce+X)}function Vn(U){return U&&U._delegate?U._delegate:U}},7244:(vt,Se,k)=>{var h=k(4650);let L=null;function G(){return L}class oe{}const ae=new h.OlP("DocumentToken");let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ve(){return(0,h.LFG)(j)}()},providedIn:"platform"}),n})();const De=new h.OlP("Location Initialized");let j=(()=>{class n extends Ne{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(t){const r=G().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=G().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){H()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){H()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Y(){return new j((0,h.LFG)(ae))}()},providedIn:"platform"}),n})();function H(){return!!window.history.pushState}function Be(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ze(n){return n&&"?"!==n[0]?"?"+n:n}let st=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(_e)},providedIn:"root"}),n})();const le=new h.OlP("appBaseHref");let _e=(()=>{class n extends st{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Be(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ze(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+ze(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+ze(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ne),h.LFG(le,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ee=(()=>{class n extends st{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Be(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+ze(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+ze(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ne),h.LFG(le,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ue(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ie(Ce(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ze(r))}normalize(t){return n.stripTrailingSlash(function ye(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ce(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ze(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ze(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ze,n.joinWithSlash=Be,n.stripTrailingSlash=Ie,n.\u0275fac=function(t){return new(t||n)(h.LFG(st))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function be(){return new ke((0,h.LFG)(st))}()},providedIn:"root"}),n})();function Ce(n){return n.replace(/\/index.html$/,"")}var $e=(()=>(($e=$e||{})[$e.Format=0]="Format",$e[$e.Standalone=1]="Standalone",$e))(),Ge=(()=>((Ge=Ge||{})[Ge.Narrow=0]="Narrow",Ge[Ge.Abbreviated=1]="Abbreviated",Ge[Ge.Wide=2]="Wide",Ge[Ge.Short=3]="Short",Ge))(),xt=(()=>((xt=xt||{})[xt.Short=0]="Short",xt[xt.Medium=1]="Medium",xt[xt.Long=2]="Long",xt[xt.Full=3]="Full",xt))(),Qe=(()=>((Qe=Qe||{})[Qe.Decimal=0]="Decimal",Qe[Qe.Group=1]="Group",Qe[Qe.List=2]="List",Qe[Qe.PercentSign=3]="PercentSign",Qe[Qe.PlusSign=4]="PlusSign",Qe[Qe.MinusSign=5]="MinusSign",Qe[Qe.Exponential=6]="Exponential",Qe[Qe.SuperscriptingExponent=7]="SuperscriptingExponent",Qe[Qe.PerMille=8]="PerMille",Qe[Qe.Infinity=9]="Infinity",Qe[Qe.NaN=10]="NaN",Qe[Qe.TimeSeparator=11]="TimeSeparator",Qe[Qe.CurrencyDecimal=12]="CurrencyDecimal",Qe[Qe.CurrencyGroup=13]="CurrencyGroup",Qe))();function Ct(n,e){return Dn((0,h.cg1)(n)[h.wAp.DateFormat],e)}function mt(n,e){return Dn((0,h.cg1)(n)[h.wAp.TimeFormat],e)}function en(n,e){return Dn((0,h.cg1)(n)[h.wAp.DateTimeFormat],e)}function Dt(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===Qe.CurrencyDecimal)return t[h.wAp.NumberSymbols][Qe.Decimal];if(e===Qe.CurrencyGroup)return t[h.wAp.NumberSymbols][Qe.Group]}return r}function ys(n){if(!n[h.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[h.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Dn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function nr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Ln=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,jn={},Bs=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Tt=(()=>((Tt=Tt||{})[Tt.Short=0]="Short",Tt[Tt.ShortGMT=1]="ShortGMT",Tt[Tt.Long=2]="Long",Tt[Tt.Extended=3]="Extended",Tt))(),yt=(()=>((yt=yt||{})[yt.FullYear=0]="FullYear",yt[yt.Month=1]="Month",yt[yt.Date=2]="Date",yt[yt.Hours=3]="Hours",yt[yt.Minutes=4]="Minutes",yt[yt.Seconds=5]="Seconds",yt[yt.FractionalSeconds=6]="FractionalSeconds",yt[yt.Day=7]="Day",yt))(),Pt=(()=>((Pt=Pt||{})[Pt.DayPeriods=0]="DayPeriods",Pt[Pt.Days=1]="Days",Pt[Pt.Months=2]="Months",Pt[Pt.Eras=3]="Eras",Pt))();function $s(n,e,t,r){let i=function X(n){if(We(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,c=1]=n.split("-").map(f=>+f);return rr(i,u-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Ln))return function tt(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,y=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,c,f,y,w),e}(r)}const e=new Date(n);if(!We(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=xn(t,e)||e;let f,c=[];for(;e;){if(f=Bs.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const T=c.pop();if(!T)break;e=T}}let y=i.getTimezoneOffset();r&&(y=V(r,y),i=function ce(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function K(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(V(e,i)-i))}(i,r,!0));let w="";return c.forEach(T=>{const x=function U(n){if(Vn[n])return Vn[n];let e;switch(n){case"G":case"GG":case"GGG":e=tn(Pt.Eras,Ge.Abbreviated);break;case"GGGG":e=tn(Pt.Eras,Ge.Wide);break;case"GGGGG":e=tn(Pt.Eras,Ge.Narrow);break;case"y":e=wn(yt.FullYear,1,0,!1,!0);break;case"yy":e=wn(yt.FullYear,2,0,!0,!0);break;case"yyy":e=wn(yt.FullYear,3,0,!1,!0);break;case"yyyy":e=wn(yt.FullYear,4,0,!1,!0);break;case"Y":e=Gt(1);break;case"YY":e=Gt(2,!0);break;case"YYY":e=Gt(3);break;case"YYYY":e=Gt(4);break;case"M":case"L":e=wn(yt.Month,1,1);break;case"MM":case"LL":e=wn(yt.Month,2,1);break;case"MMM":e=tn(Pt.Months,Ge.Abbreviated);break;case"MMMM":e=tn(Pt.Months,Ge.Wide);break;case"MMMMM":e=tn(Pt.Months,Ge.Narrow);break;case"LLL":e=tn(Pt.Months,Ge.Abbreviated,$e.Standalone);break;case"LLLL":e=tn(Pt.Months,Ge.Wide,$e.Standalone);break;case"LLLLL":e=tn(Pt.Months,Ge.Narrow,$e.Standalone);break;case"w":e=zt(1);break;case"ww":e=zt(2);break;case"W":e=zt(1,!0);break;case"d":e=wn(yt.Date,1);break;case"dd":e=wn(yt.Date,2);break;case"c":case"cc":e=wn(yt.Day,1);break;case"ccc":e=tn(Pt.Days,Ge.Abbreviated,$e.Standalone);break;case"cccc":e=tn(Pt.Days,Ge.Wide,$e.Standalone);break;case"ccccc":e=tn(Pt.Days,Ge.Narrow,$e.Standalone);break;case"cccccc":e=tn(Pt.Days,Ge.Short,$e.Standalone);break;case"E":case"EE":case"EEE":e=tn(Pt.Days,Ge.Abbreviated);break;case"EEEE":e=tn(Pt.Days,Ge.Wide);break;case"EEEEE":e=tn(Pt.Days,Ge.Narrow);break;case"EEEEEE":e=tn(Pt.Days,Ge.Short);break;case"a":case"aa":case"aaa":e=tn(Pt.DayPeriods,Ge.Abbreviated);break;case"aaaa":e=tn(Pt.DayPeriods,Ge.Wide);break;case"aaaaa":e=tn(Pt.DayPeriods,Ge.Narrow);break;case"b":case"bb":case"bbb":e=tn(Pt.DayPeriods,Ge.Abbreviated,$e.Standalone,!0);break;case"bbbb":e=tn(Pt.DayPeriods,Ge.Wide,$e.Standalone,!0);break;case"bbbbb":e=tn(Pt.DayPeriods,Ge.Narrow,$e.Standalone,!0);break;case"B":case"BB":case"BBB":e=tn(Pt.DayPeriods,Ge.Abbreviated,$e.Format,!0);break;case"BBBB":e=tn(Pt.DayPeriods,Ge.Wide,$e.Format,!0);break;case"BBBBB":e=tn(Pt.DayPeriods,Ge.Narrow,$e.Format,!0);break;case"h":e=wn(yt.Hours,1,-12);break;case"hh":e=wn(yt.Hours,2,-12);break;case"H":e=wn(yt.Hours,1);break;case"HH":e=wn(yt.Hours,2);break;case"m":e=wn(yt.Minutes,1);break;case"mm":e=wn(yt.Minutes,2);break;case"s":e=wn(yt.Seconds,1);break;case"ss":e=wn(yt.Seconds,2);break;case"S":e=wn(yt.FractionalSeconds,1);break;case"SS":e=wn(yt.FractionalSeconds,2);break;case"SSS":e=wn(yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Vr(Tt.Short);break;case"ZZZZZ":e=Vr(Tt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Vr(Tt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Vr(Tt.Long);break;default:return null}return Vn[n]=e,e}(T);w+=x?x(i,t,y):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function rr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function xn(n,e){const t=function ue(n){return(0,h.cg1)(n)[h.wAp.LocaleId]}(n);if(jn[t]=jn[t]||{},jn[t][e])return jn[t][e];let r="";switch(e){case"shortDate":r=Ct(n,xt.Short);break;case"mediumDate":r=Ct(n,xt.Medium);break;case"longDate":r=Ct(n,xt.Long);break;case"fullDate":r=Ct(n,xt.Full);break;case"shortTime":r=mt(n,xt.Short);break;case"mediumTime":r=mt(n,xt.Medium);break;case"longTime":r=mt(n,xt.Long);break;case"fullTime":r=mt(n,xt.Full);break;case"short":const i=xn(n,"shortTime"),u=xn(n,"shortDate");r=_r(en(n,xt.Short),[i,u]);break;case"medium":const c=xn(n,"mediumTime"),f=xn(n,"mediumDate");r=_r(en(n,xt.Medium),[c,f]);break;case"long":const y=xn(n,"longTime"),w=xn(n,"longDate");r=_r(en(n,xt.Long),[y,w]);break;case"full":const T=xn(n,"fullTime"),x=xn(n,"fullDate");r=_r(en(n,xt.Full),[T,x])}return r&&(jn[t][e]=r),r}function _r(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Ir(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),u+c}function wn(n,e,t=0,r=!1,i=!1){return function(u,c){let f=function js(n,e){switch(n){case yt.FullYear:return e.getFullYear();case yt.Month:return e.getMonth();case yt.Date:return e.getDate();case yt.Hours:return e.getHours();case yt.Minutes:return e.getMinutes();case yt.Seconds:return e.getSeconds();case yt.FractionalSeconds:return e.getMilliseconds();case yt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||f>-t)&&(f+=t),n===yt.Hours)0===f&&-12===t&&(f=12);else if(n===yt.FractionalSeconds)return function fo(n,e){return Ir(n,3).substring(0,e)}(f,e);const y=Dt(c,Qe.MinusSign);return Ir(f,e,y,r,i)}}function tn(n,e,t=$e.Format,r=!1){return function(i,u){return function Lr(n,e,t,r,i,u){switch(t){case Pt.Months:return function Oe(n,e,t){const r=(0,h.cg1)(n),u=Dn([r[h.wAp.MonthsFormat],r[h.wAp.MonthsStandalone]],e);return Dn(u,t)}(e,i,r)[n.getMonth()];case Pt.Days:return function Te(n,e,t){const r=(0,h.cg1)(n),u=Dn([r[h.wAp.DaysFormat],r[h.wAp.DaysStandalone]],e);return Dn(u,t)}(e,i,r)[n.getDay()];case Pt.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(u){const w=function ui(n){const e=(0,h.cg1)(n);return ys(e),(e[h.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?nr(r):[nr(r[0]),nr(r[1])])}(e),T=function bi(n,e,t){const r=(0,h.cg1)(n);ys(r);const u=Dn([r[h.wAp.ExtraData][0],r[h.wAp.ExtraData][1]],e)||[];return Dn(u,t)||[]}(e,i,r),x=w.findIndex(F=>{if(Array.isArray(F)){const[B,Z]=F,re=c>=B.hours&&f>=B.minutes,me=c<Z.hours||c===Z.hours&&f<Z.minutes;if(B.hours<Z.hours){if(re&&me)return!0}else if(re||me)return!0}else if(F.hours===c&&F.minutes===f)return!0;return!1});if(-1!==x)return T[x]}return function de(n,e,t){const r=(0,h.cg1)(n),u=Dn([r[h.wAp.DayPeriodsFormat],r[h.wAp.DayPeriodsStandalone]],e);return Dn(u,t)}(e,i,r)[c<12?0:1];case Pt.Eras:return function je(n,e){return Dn((0,h.cg1)(n)[h.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Vr(n){return function(e,t,r){const i=-1*r,u=Dt(t,Qe.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Tt.Short:return(i>=0?"+":"")+Ir(c,2,u)+Ir(Math.abs(i%60),2,u);case Tt.ShortGMT:return"GMT"+(i>=0?"+":"")+Ir(c,1,u);case Tt.Long:return"GMT"+(i>=0?"+":"")+Ir(c,2,u)+":"+Ir(Math.abs(i%60),2,u);case Tt.Extended:return 0===r?"Z":(i>=0?"+":"")+Ir(c,2,u)+":"+Ir(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}const Fe=0,ge=4;function _t(n){return rr(n.getFullYear(),n.getMonth(),n.getDate()+(ge-n.getDay()))}function zt(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+u)/7)}else{const u=_t(t),c=function rt(n){const e=rr(n,Fe,1).getDay();return rr(n,0,1+(e<=ge?ge:ge+7)-e)}(u.getFullYear()),f=u.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return Ir(i,n,Dt(r,Qe.MinusSign))}}function Gt(n,e=!1){return function(t,r){return Ir(_t(t).getFullYear(),n,Dt(r,Qe.MinusSign),e)}}const Vn={};function V(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function We(n){return n instanceof Date&&!isNaN(n.valueOf())}function Gi(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}const ws=/\s+/,qi=[];let Je=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this.initialClasses=qi,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ws):qi}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ws):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ws).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Hs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Hs(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const f=r.get(u);r.move(f,c),Is(f,i)}});for(let i=0,u=r.length;i<u;i++){const f=r.get(i).context;f.index=i,f.count=u,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Is(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Is(n,e){n.context.$implicit=e.item}let Ai=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new dl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ot("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ot("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class dl{constructor(){this.$implicit=null,this.ngIf=null}}function Ot(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}const na=new h.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Cs=new h.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Tr=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,u){if(null==t||""===t||t!=t)return null;try{return $s(t,r??this.defaultOptions?.dateFormat??"mediumDate",u||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(c){throw function Yt(n,e){return new h.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG,16),h.Y36(na,24),h.Y36(Cs,24))},n.\u0275pipe=h.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Bc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();let ia=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Ts((0,h.LFG)(ae),window)}),n})();class Ts{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function mo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=du(this.window.history)||du(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function du(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class yo{}class Iu extends oe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class da extends Iu{static makeCurrent(){!function se(n){L||(L=n)}(new da)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Up(){return Ms=Ms||document.querySelector("base"),Ms?Ms.getAttribute("href"):null}();return null==t?null:function ha(n){Wi=Wi||document.createElement("a"),Wi.setAttribute("href",n);const e=Wi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ms=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gi(document.cookie,e)}}let Wi,Ms=null;const Nh=new h.OlP("TRANSITION_ID"),as=[{provide:h.ip1,useFactory:function ed(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=G(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[Nh,ae,h.zs3],multi:!0}];let Ph=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const fa=new h.OlP("EventManagerPlugins");let Sl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fa),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Bp{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=G().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let wo=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let u=i.get(t)??0;return u+=r,u>0?i.set(t,u):i.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Io=(()=>{class n extends wo{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const u=this.styleRef.get(r);u?u.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const xs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ki=/%COMP%/g,Du=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function bu(n,e){return e.flat(100).map(t=>t.replace(Ki,n))}function ya(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Co=(()=>{class n{constructor(t,r,i,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new fi(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof va?i.applyToHost(t):i instanceof Rs&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let u=i.get(r.id);if(!u){const c=this.eventManager,f=this.sharedStylesHost,y=this.removeStylesOnCompDestory;switch(r.encapsulation){case h.ifc.Emulated:u=new va(c,f,r,this.appId,y);break;case h.ifc.ShadowDom:return new Cu(c,f,t,r);default:u=new Rs(c,f,r,y)}u.onDestroy=()=>i.delete(r.id),i.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Sl),h.LFG(Io),h.LFG(h.AFp),h.LFG(Du))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class fi{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(xs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(mn(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(mn(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=xs[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=xs[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ya(r)):this.eventManager.addEventListener(e,t,ya(r))}}function mn(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Cu extends fi{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=bu(i.id,i.styles);for(const c of u){const f=document.createElement("style");f.textContent=c,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Rs extends fi{constructor(e,t,r,i,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=bu(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class va extends Rs{constructor(e,t,r,i,u){const c=i+"-"+r.id;super(e,t,r,u,c),this.contentAttr=function ma(n){return"_ngcontent-%COMP%".replace(Ki,n)}(c),this.hostAttr=function kh(n){return"_nghost-%COMP%".replace(Ki,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Al=(()=>{class n extends Bp{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ea=["alt","control","meta","shift"],nd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wa={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let rd=(()=>{class n extends Bp{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>G().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),Ea.forEach(w=>{const T=r.indexOf(w);T>-1&&(r.splice(T,1),c+=w+".")}),c+=u,0!=r.length||0===u.length)return null;const y={};return y.domEventName=i,y.fullKey=c,y}static matchEventFullKeyCode(t,r){let i=nd[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ea.forEach(c=>{c!==i&&(0,wa[c])(t)&&(u+=c+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ca=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Da(){da.makeCurrent()},multi:!0},{provide:ae,useFactory:function ba(){return(0,h.RDi)(document),document},deps:[]}]),Ml=new h.OlP(""),od=[{provide:h.rWj,useClass:class td{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const f=function(y){c=c||y,u--,0==u&&r(c)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?G().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],Tu=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Ar(){return new h.qLn},deps:[]},{provide:fa,useClass:Al,multi:!0,deps:[ae,h.R0b,h.Lbi]},{provide:fa,useClass:rd,multi:!0,deps:[ae]},{provide:Co,useClass:Co,deps:[Sl,Io,h.AFp,Du]},{provide:h.FYo,useExisting:Co},{provide:wo,useExisting:Io},{provide:Io,useClass:Io,deps:[ae]},{provide:Sl,useClass:Sl,deps:[fa,h.R0b]},{provide:yo,useClass:Ph,deps:[]},[]];let To=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:Nh,useExisting:h.AFp},as]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ml,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...Tu,...od],imports:[Bc,h.hGG]}),n})(),So=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ad(){return new So((0,h.LFG)(ae))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Jt=k(8996),Gn=k(9751);const{isArray:Zi}=Array,{getPrototypeOf:cd,prototype:Su,keys:qp}=Object;function Ll(n){if(1===n.length){const e=n[0];if(Zi(e))return{args:e,keys:null};if(function Vh(n){return n&&"object"==typeof n&&cd(n)===Su}(e)){const t=qp(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Au=k(8421),xo=k(7669),On=k(5403),kt=k(4004);const{isArray:Ro}=Array;function $r(n){return(0,kt.U)(e=>function Vl(n,e){return Ro(e)?n(...e):n(e)}(n,e))}function Aa(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Ma=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Js=(()=>{class n extends Ma{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Mr=new h.OlP("NgValueAccessor"),dd={provide:Mr,useExisting:(0,h.Gpc)(()=>M),multi:!0},C=new h.OlP("CompositionEventMode");let M=(()=>{class n extends Ma{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function b(){const n=G()?G().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(C,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([dd]),h.qOj]}),n})();const P=!1;function W(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function J(n){return null!=n&&"number"==typeof n.length}const pe=new h.OlP("NgValidators"),Xe=new h.OlP("NgAsyncValidators"),ft=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lt{static min(e){return function qt(n){return e=>{if(W(e.value)||W(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function St(n){return e=>{if(W(e.value)||W(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return vr(e)}static requiredTrue(e){return function Xn(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Os(n){return W(n.value)||ft.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Ra(n){return e=>W(e.value)||!J(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function us(n){return e=>J(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function gi(n){if(!n)return ei;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(W(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Bh(e)}static composeAsync(e){return Sy(e)}}function vr(n){return W(n.value)?{required:!0}:null}function ei(n){return null}function Ul(n){return null!=n}function Bl(n){const e=(0,h.QGY)(n)?(0,Jt.D)(n):n;if(P&&!(0,h.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new h.vHH(-1101,t)}return e}function Wp(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Kp(n,e){return e.map(t=>t(n))}function Zp(n){return n.map(e=>function Uh(n){return!n.validate}(e)?e:t=>e.validate(t))}function Bh(n){if(!n)return null;const e=n.filter(Ul);return 0==e.length?null:function(t){return Wp(Kp(t,e))}}function Yp(n){return null!=n?Bh(Zp(n)):null}function Sy(n){if(!n)return null;const e=n.filter(Ul);return 0==e.length?null:function(t){return function Fi(...n){const e=(0,xo.jO)(n),{args:t,keys:r}=Ll(n),i=new Gn.y(u=>{const{length:c}=t;if(!c)return void u.complete();const f=new Array(c);let y=c,w=c;for(let T=0;T<c;T++){let x=!1;(0,Au.Xf)(t[T]).subscribe((0,On.x)(u,F=>{x||(x=!0,w--),f[T]=F},()=>y--,void 0,()=>{(!y||!x)&&(w||u.next(r?Aa(r,f):f),u.complete())}))}});return e?i.pipe($r(e)):i}(Kp(t,e).map(Bl)).pipe((0,kt.U)(Wp))}}function Qp(n){return null!=n?Sy(Zp(n)):null}function hd(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $h(n){return n._rawValidators}function fd(n){return n._rawAsyncValidators}function $l(n){return n?Array.isArray(n)?n:[n]:[]}function jl(n,e){return Array.isArray(n)?n.includes(e):n===e}function Mu(n,e){const t=$l(e);return $l(n).forEach(i=>{jl(t,i)||t.push(i)}),t}function ls(n,e){return $l(e).filter(t=>!jl(n,t))}class Jp{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Yp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Qp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ti extends Jp{get formDirective(){return null}get path(){return null}}class Po extends Jp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jh{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let pd=(()=>{class n extends jh{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Po,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),gd=(()=>{class n extends jh{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ti,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();function rg(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Gh=!1,Na="VALID",xu="INVALID",Pa="PENDING",Oa="DISABLED";function Oo(n){return(Ru(n)?n.validators:n)||null}function Id(n,e){return(Ru(e)?e.asyncValidators:n)||null}function Ru(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class bd{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Na}get invalid(){return this.status===xu}get pending(){return this.status==Pa}get disabled(){return this.status===Oa}get enabled(){return this.status!==Oa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Mu(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Mu(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ls(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ls(e,this._rawAsyncValidators))}hasValidator(e){return jl(this._rawValidators,e)}hasAsyncValidator(e){return jl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Pa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Oa,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Na,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Na||this.status===Pa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oa:Na}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Pa,this._hasOwnPendingAsyncValidator=!0;const t=Bl(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Oa:this.errors?xu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pa)?Pa:this._anyControlsHaveStatus(xu)?xu:Na}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ru(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function wd(n){return Array.isArray(n)?Yp(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Dd(n){return Array.isArray(n)?Qp(n):n||null}(this._rawAsyncValidators)}}class Hl extends bd{constructor(e,t,r){super(Oo(t),Id(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function ka(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new h.vHH(1002,Gh?function zh(n,e){return`Must supply a value for form control ${rg(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function qh(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,Gh?function Ed(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new h.vHH(1001,Gh?function Ry(n,e){return`Cannot find form control ${rg(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const p=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>m}),m="always";function E(n,e){return[...e.path,n]}function A(n,e,t=m){Le(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function dt(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Hr(n,e)})}(n,e),function mi(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ut(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Hr(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function te(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function N(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qe(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function q(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Le(n,e){const t=$h(n);null!==e.validator?n.setValidators(hd(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=fd(n);null!==e.asyncValidator?n.setAsyncValidators(hd(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();q(e._rawValidators,i),q(e._rawAsyncValidators,i)}function qe(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=$h(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=fd(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return q(e._rawValidators,r),q(e._rawAsyncValidators,r),t}function Hr(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Nu(n,e){Le(n,e)}function zl(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Gl(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Td(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===M?t=u:function Cd(n){return Object.getPrototypeOf(n.constructor)===Js}(u)?r=u:i=u}),i||r||t||null}const $E={provide:ti,useExisting:(0,h.Gpc)(()=>Sd)},ql=(()=>Promise.resolve())();let Sd=(()=>{class n extends ti{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new Hl({},Yp(t),Qp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ql.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),A(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ql.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ql.then(()=>{const r=this._findContainer(t.path),i=new Hl({});Nu(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ql.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ql.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Gl(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(pe,10),h.Y36(Xe,10),h.Y36(p,8))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([$E]),h.qOj]}),n})();function ug(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ad(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Md=class extends bd{constructor(e=null,t,r){super(Oo(t),Id(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ru(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ad(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ug(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ug(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ad(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Cb={provide:Po,useExisting:(0,h.Gpc)(()=>lg)},HE=(()=>Promise.resolve())();let lg=(()=>{class n extends Po{constructor(t,r,i,u,c,f){super(),this._changeDetectorRef=c,this.callSetDisabledState=f,this.control=new Md,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Td(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),zl(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){A(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){HE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,h.D6c)(r);HE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?E(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ti,9),h.Y36(pe,10),h.Y36(Xe,10),h.Y36(Mr,10),h.Y36(h.sBO,8),h.Y36(p,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([Cb]),h.qOj,h.TTD]}),n})(),zE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),cg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const $y=new h.OlP("NgModelWithFormControlWarning"),Sb={provide:ti,useExisting:(0,h.Gpc)(()=>dg)};let dg=(()=>{class n extends ti{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return A(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){N(t.control||null,t,!1),function Pu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Gl(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(N(r||null,t),(n=>n instanceof Md)(i)&&(A(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Nu(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Wh(n,e){return qe(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Le(this.form,this),this._oldForm&&qe(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(pe,10),h.Y36(Xe,10),h.Y36(p,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Sb]),h.qOj,h.TTD]}),n})();const uM={provide:Po,useExisting:(0,h.Gpc)(()=>QE)};let QE=(()=>{class n extends Po{set isDisabled(t){}constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Td(0,u)}ngOnChanges(t){this._added||this._setUpControl(),zl(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return E(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(ti,13),h.Y36(pe,10),h.Y36(Xe,10),h.Y36(Mr,10),h.Y36($y,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([uM]),h.qOj,h.TTD]}),n})(),xd=(()=>{class n{constructor(){this._validator=ei}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ei,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,features:[h.TTD]}),n})();const dM={provide:pe,useExisting:(0,h.Gpc)(()=>mg),multi:!0};let mg=(()=>{class n extends xd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.D6c,this.createValidator=t=>vr}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([dM]),h.qOj]}),n})(),qy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[cg]}),n})(),Wy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:p,useValue:t.callSetDisabledState??m}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[qy]}),n})(),rw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$y,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:p,useValue:t.callSetDisabledState??m}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[qy]}),n})();function wt(...n){const e=(0,xo.yG)(n);return(0,Jt.D)(n,e)}var yi=k(5577),Ky=k(576);function ku(n,e){return(0,Ky.m)(e)?(0,yi.z)(n,e,1):(0,yi.z)(n,1)}var Yi=k(4482);function Xs(n,e){return(0,Yi.e)((t,r)=>{let i=0;t.subscribe((0,On.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}class Rd{}class iw{}class eo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(c):this.headers.set(u,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof eo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new eo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof eo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===u.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Zy{encodeKey(e){return aw(e)}encodeValue(e){return aw(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ow=/%(\d[a-f0-9])/gi,Zl={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aw(n){return encodeURIComponent(n).replace(ow,(e,t)=>Zl[t]??e)}function Nd(n){return`${n}`}class to{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Zy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function sw(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[c,f]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],y=t.get(c)||[];y.push(f),t.set(c,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Nd):[Nd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new to({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Nd(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Nd(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Yy{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Fu(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Qy(n){return typeof Blob<"u"&&n instanceof Blob}function Eg(n){return typeof FormData<"u"&&n instanceof FormData}class Yh{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function vg(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new eo),this.context||(this.context=new Yy),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new to,this.urlWithParams=t}serializeBody(){return null===this.body?null:Fu(this.body)||Qy(this.body)||Eg(this.body)||function $b(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof to?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Eg(this.body)?null:Qy(this.body)?this.body.type||null:Fu(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof to?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,w=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((x,F)=>x.set(F,e.setHeaders[F]),y)),e.setParams&&(w=Object.keys(e.setParams).reduce((x,F)=>x.set(F,e.setParams[F]),w)),new Yh(t,r,u,{params:w,headers:y,context:T,reportProgress:f,responseType:i,withCredentials:c})}}var hr=(()=>((hr=hr||{})[hr.Sent=0]="Sent",hr[hr.UploadProgress=1]="UploadProgress",hr[hr.ResponseHeader=2]="ResponseHeader",hr[hr.DownloadProgress=3]="DownloadProgress",hr[hr.Response=4]="Response",hr[hr.User=5]="User",hr))();class Lu{constructor(e,t=200,r="OK"){this.headers=e.headers||new eo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Jy extends Lu{constructor(e={}){super(e),this.type=hr.ResponseHeader}clone(e={}){return new Jy({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class wg extends Lu{constructor(e={}){super(e),this.type=hr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new wg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class uw extends Lu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Qh(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let lw=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof Yh)u=t;else{let y,w;y=i.headers instanceof eo?i.headers:new eo(i.headers),i.params&&(w=i.params instanceof to?i.params:new to({fromObject:i.params})),u=new Yh(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=wt(u).pipe(ku(y=>this.handler.handle(y)));if(t instanceof Yh||"events"===i.observe)return c;const f=c.pipe(Xs(y=>y instanceof wg));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return f.pipe((0,kt.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,kt.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,kt.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,kt.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new to).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Qh(i,r))}post(t,r,i={}){return this.request("POST",t,Qh(i,r))}put(t,r,i={}){return this.request("PUT",t,Qh(i,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Rd))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Xy(n,e){return e(n)}function jb(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const vM=new h.OlP("HTTP_INTERCEPTORS"),Jh=new h.OlP("HTTP_INTERCEPTOR_FNS");function Xh(){let n=null;return(e,t)=>(null===n&&(n=((0,h.f3M)(vM,{optional:!0})??[]).reduceRight(jb,Xy)),n(e,t))}let dw=(()=>{class n extends Rd{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Jh)));this.chain=r.reduceRight((i,u)=>function cw(n,e,t){return(r,i)=>t.runInContext(()=>e(r,u=>n(u,i)))}(i,u,this.injector),Xy)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(iw),h.LFG(h.lqb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Gb=/^\)\]\}',?\n/;let Pd=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Gn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((B,Z)=>i.setRequestHeader(B,Z.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&i.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();i.responseType="json"!==B?B:"text"}const u=t.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const B=i.statusText||"OK",Z=new eo(i.getAllResponseHeaders()),re=function n_(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new Jy({headers:Z,status:i.status,statusText:B,url:re}),c},y=()=>{let{headers:B,status:Z,statusText:re,url:me}=f(),He=null;204!==Z&&(He=typeof i.response>"u"?i.responseText:i.response),0===Z&&(Z=He?200:0);let ct=Z>=200&&Z<300;if("json"===t.responseType&&"string"==typeof He){const ht=He;He=He.replace(Gb,"");try{He=""!==He?JSON.parse(He):null}catch(bt){He=ht,ct&&(ct=!1,He={error:bt,text:He})}}ct?(r.next(new wg({body:He,headers:B,status:Z,statusText:re,url:me||void 0})),r.complete()):r.error(new uw({error:He,headers:B,status:Z,statusText:re,url:me||void 0}))},w=B=>{const{url:Z}=f(),re=new uw({error:B,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Z||void 0});r.error(re)};let T=!1;const x=B=>{T||(r.next(f()),T=!0);let Z={type:hr.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(Z.total=B.total),"text"===t.responseType&&i.responseText&&(Z.partialText=i.responseText),r.next(Z)},F=B=>{let Z={type:hr.UploadProgress,loaded:B.loaded};B.lengthComputable&&(Z.total=B.total),r.next(Z)};return i.addEventListener("load",y),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",x),null!==u&&i.upload&&i.upload.addEventListener("progress",F)),i.send(u),r.next({type:hr.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",y),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",x),null!==u&&i.upload&&i.upload.removeEventListener("progress",F)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(yo))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const r_=new h.OlP("XSRF_ENABLED"),pw=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),i_=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class gw{}let Kb=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gi(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae),h.LFG(h.Lbi),h.LFG(pw))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Od(n,e){const t=n.url.toLowerCase();if(!(0,h.f3M)(r_)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,h.f3M)(gw).getToken(),i=(0,h.f3M)(i_);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var fr=(()=>((fr=fr||{})[fr.Interceptors=0]="Interceptors",fr[fr.LegacyInterceptors=1]="LegacyInterceptors",fr[fr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",fr[fr.NoXsrfProtection=3]="NoXsrfProtection",fr[fr.JsonpSupport=4]="JsonpSupport",fr[fr.RequestsMadeViaParent=5]="RequestsMadeViaParent",fr))();function kd(n,e){return{\u0275kind:n,\u0275providers:e}}function DM(...n){const e=[lw,Pd,dw,{provide:Rd,useExisting:dw},{provide:iw,useExisting:Pd},{provide:Jh,useValue:Od,multi:!0},{provide:r_,useValue:!0},{provide:gw,useClass:Kb}];for(const t of n)e.push(...t.\u0275providers);return(0,h.MR2)(e)}const s_=new h.OlP("LEGACY_INTERCEPTOR_FN");let Jb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[DM(kd(fr.LegacyInterceptors,[{provide:s_,useFactory:Xh},{provide:Jh,useExisting:s_,multi:!0}]))]}),n})();var Uu=k(2011),Bu=k(3069),tf=k(259);var pt,et=k(5861),Fo=k(9681),Dg=k(4859),cs=k(1877),zr=k(2090),a_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},no={},_w=_w||{},Bt=a_||self;function u_(){}function bg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Fd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var l_="closure_uid_"+(1e9*Math.random()>>>0),Ld=0;function sC(n,e,t){return n.call.apply(n.bind,arguments)}function vw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function xr(n,e,t){return(xr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sC:vw).apply(null,arguments)}function Cg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Gr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,u){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function $u(){this.s=this.s,this.o=this.o}$u.prototype.s=!1,$u.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function OM(n){Object.prototype.hasOwnProperty.call(n,l_)&&n[l_]||(n[l_]=++Ld)}(this)},$u.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ew=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function c_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ww(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(bg(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let c=0;c<u;c++)n[i+c]=r[c]}else n.push(r)}}function ri(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ri.prototype.h=function(){this.defaultPrevented=!0};var aC=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Bt.addEventListener("test",u_,e),Bt.removeEventListener("test",u_,e)}catch{}return n}();function rf(n){return/^[\s\xa0]*$/.test(n)}var d_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function sf(n,e){return n<e?-1:n>e?1:0}function h_(){var n=Bt.navigator;return n&&(n=n.userAgent)?n:""}function ks(n){return-1!=h_().indexOf(n)}function f_(n){return f_[" "](n),n}f_[" "]=u_;var Va,n,Vd=ks("Opera"),Yl=ks("Trident")||ks("MSIE"),Iw=ks("Edge"),Tg=Iw||Yl,Dw=ks("Gecko")&&!(-1!=h_().toLowerCase().indexOf("webkit")&&!ks("Edge"))&&!(ks("Trident")||ks("MSIE"))&&!ks("Edge"),uC=-1!=h_().toLowerCase().indexOf("webkit")&&!ks("Edge");function af(){var n=Bt.document;return n?n.documentMode:void 0}e:{var uf="",Ql=(n=h_(),Dw?/rv:([^\);]+)(\)|;)/.exec(n):Iw?/Edge\/([\d\.]+)/.exec(n):Yl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):uC?/WebKit\/(\S+)/.exec(n):Vd?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ql&&(uf=Ql?Ql[1]:""),Yl){var lf=af();if(null!=lf&&lf>parseFloat(uf)){Va=String(lf);break e}}Va=uf}var Sg={};var p_=Bt.document&&Yl&&(af()||parseInt(Va,10))||void 0;function Ud(n,e){if(ri.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Dw){e:{try{f_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:g_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ud.X.h.call(this)}}Gr(Ud,ri);var g_={2:"touch",3:"pen",4:"mouse"};Ud.prototype.h=function(){Ud.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var df="closure_listenable_"+(1e6*Math.random()|0),lC=0;function Cw(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++lC,this.ba=this.ea=!1}function Mg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function xg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function m_(n){const e={};for(const t in n)e[t]=n[t];return e}const Tw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sw(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<Tw.length;u++)t=Tw[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function _i(n){this.src=n,this.g={},this.h=0}function y_(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=Ew(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Mg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function __(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return i}return-1}_i.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=__(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new Cw(e,this.src,u,!!r,i)).ea=t,n.push(e)),e};var Aw="closure_lm_"+(1e6*Math.random()|0),hf={};function v_(n,e,t,r,i){if(r&&r.once)return xw(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)v_(n,e[u],t,r,i);return null}return t=C_(t),n&&n[df]?n.N(e,t,Fd(r)?!!r.capture:!!r,i):Mw(n,e,t,!1,r,i)}function Mw(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=Fd(i)?!!i.capture:!!i,f=D_(n);if(f||(n[Aw]=f=new _i(n)),(t=f.add(e,t,r,c,u)).proxy)return t;if(r=function cC(){const e=I_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)aC||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Rw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xw(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)xw(n,e[u],t,r,i);return null}return t=C_(t),n&&n[df]?n.O(e,t,Fd(r)?!!r.capture:!!r,i):Mw(n,e,t,!0,r,i)}function E_(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)E_(n,e[u],t,r,i);else r=Fd(r)?!!r.capture:!!r,t=C_(t),n&&n[df]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=__(u=n.g[e],t,r,i))&&(Mg(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=D_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=__(e,t,r,i)),(t=-1<n?e[n]:null)&&w_(t))}function w_(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[df])y_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Rw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=D_(e))?(y_(t,n),0==t.h&&(t.src=null,e[Aw]=null)):Mg(n)}}}function Rw(n){return n in hf?hf[n]:hf[n]="on"+n}function I_(n,e){if(n.ba)n=!0;else{e=new Ud(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&w_(n),n=t.call(r,e)}return n}function D_(n){return(n=n[Aw])instanceof _i?n:null}var b_="__closure_events_fn_"+(1e9*Math.random()>>>0);function C_(n){return"function"==typeof n?n:(n[b_]||(n[b_]=function(e){return n.handleEvent(e)}),n[b_])}function qr(){$u.call(this),this.i=new _i(this),this.P=this,this.I=null}function ii(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ri(e,n);else if(e instanceof ri)e.target=e.target||n;else{var i=e;Sw(e=new ri(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=ds(c,r,!0,e)&&i}if(i=ds(c=e.g=n,r,!0,e)&&i,i=ds(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=ds(c=e.g=t[u],r,!1,e)&&i}function ds(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ba&&c.capture==t){var f=c.listener,y=c.ha||c.src;c.ea&&y_(n.i,c),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}Gr(qr,$u),qr.prototype[df]=!0,qr.prototype.removeEventListener=function(n,e,t,r){E_(this,n,e,t,r)},qr.prototype.M=function(){if(qr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Mg(t[r]);delete n.g[e],n.h--}}this.I=null},qr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},qr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ff=Bt.JSON.stringify;function dC(){var n=gf;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var pf,T_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new fC,n=>n.reset());class fC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pC(n){Bt.setTimeout(()=>{throw n},0)}function Nw(n,e){pf||function gC(){var n=Bt.Promise.resolve(void 0);pf=function(){n.then(Rg)}}(),S_||(pf(),S_=!0),gf.add(n,e)}var S_=!1,gf=new class hC{constructor(){this.h=this.g=null}add(e,t){const r=T_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Rg(){for(var n;n=dC();){try{n.h.call(n.g)}catch(t){pC(t)}var e=T_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}S_=!1}function Jl(n,e){qr.call(this),this.h=n||1,this.g=e||Bt,this.j=xr(this.lb,this),this.l=Date.now()}function Pw(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function mf(n,e,t){if("function"==typeof n)t&&(n=xr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=xr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Bt.setTimeout(n,e||0)}function mC(n){n.g=mf(()=>{n.g=null,n.i&&(n.i=!1,mC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Gr(Jl,qr),(pt=Jl.prototype).ca=!1,pt.R=null,pt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ii(this,"tick"),this.ca&&(Pw(this),this.start()))}},pt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){Jl.X.M.call(this),Pw(this),delete this.g};class Ow extends $u{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mC(this)}M(){super.M(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bd(n){$u.call(this),this.h=n,this.g={}}Gr(Bd,$u);var A_=[];function M_(n,e,t,r){Array.isArray(t)||(t&&(A_[0]=t.toString()),t=A_);for(var i=0;i<t.length;i++){var u=v_(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Ng(n){xg(n.g,function(e,t){this.g.hasOwnProperty(t)&&w_(e)},n),n.g={}}function Fs(){this.g=!0}function Lo(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function kw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return ff(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Bd.prototype.M=function(){Bd.X.M.call(this),Ng(this)},Bd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fs.prototype.Aa=function(){this.g=!1},Fs.prototype.info=function(){};var ju={},Fw=null;function kg(){return Fw=Fw||new qr}function $d(n){ri.call(this,ju.Pa,n)}function yf(n){const e=kg();ii(e,new $d(e))}function _C(n,e){ri.call(this,ju.STAT_EVENT,n),this.stat=e}function Li(n){const e=kg();ii(e,new _C(e,n))}function Lw(n,e){ri.call(this,ju.Qa,n),this.size=e}function _f(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){n()},e)}ju.Pa="serverreachability",Gr($d,ri),ju.STAT_EVENT="statevent",Gr(_C,ri),ju.Qa="timingevent",Gr(Lw,ri);var Fg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Vw={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function x_(){}function R_(){}x_.prototype.h=null;var P_,Xl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function N_(){ri.call(this,"d")}function vf(){ri.call(this,"c")}function Lg(){}function Ef(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Bd(this),this.O=vC,this.T=new Jl(n=Tg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Bw}function Bw(){this.i=null,this.g="",this.h=!1}Gr(N_,ri),Gr(vf,ri),Gr(Lg,x_),Lg.prototype.g=function(){return new XMLHttpRequest},Lg.prototype.i=function(){return{}},P_=new Lg;var vC=45e3,O_={},Vg={};function Ug(n,e,t){n.K=1,n.v=ja(ro(e)),n.s=t,n.P=!0,k_(n,null)}function k_(n,e){n.F=Date.now(),Bg(n),n.A=ro(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),U_(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Bw,n.g=a0(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Ow(xr(n.La,n,n.g),n.N)),M_(n.S,n.g,"readystatechange",n.ib),e=n.H?m_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),yf(),function Pg(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",f=u.split("&"),y=0;y<f.length;y++){var w=f[y].split("=");if(1<w.length){var T=w[0];w=w[1];var x=T.split("_");c=2<=x.length&&"type"==x[1]?c+(T+"=")+w+"&":c+(T+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function $w(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function EC(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=jw(n,t),i==Vg){4==e&&(n.o=4,Li(14),r=!1),Lo(n.j,n.m,null,"[Incomplete Response]");break}if(i==O_){n.o=4,Li(15),Lo(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Lo(n.j,n.m,i,null),F_(n,i)}$w(n)&&i!=Vg&&i!=O_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Li(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),n0(e),e.K=!0,Li(11))):(Lo(n.j,n.m,t,"[Invalid Chunked Response]"),Ua(n),If(n))}function jw(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Vg:(t=Number(e.substring(t,r)),isNaN(t)?O_:(r+=1)+t>e.length?Vg:(e=e.substr(r,t),n.C=r+t,e))}function Bg(n){n.V=Date.now()+n.O,wf(n,n.O)}function wf(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=_f(xr(n.gb,n),e)}function $g(n){n.B&&(Bt.clearTimeout(n.B),n.B=null)}function If(n){0==n.l.G||n.I||Z_(n.l,n)}function Ua(n){$g(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Pw(n.T),Ng(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function F_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||B_(t.h,n)))if(!n.J&&B_(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;em(t),io(t)}t0(t),Li(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=_f(xr(t.cb,t),6e3));if(1>=zg(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else kn(t,11)}else if((n.J||t.g==n)&&em(t),!rf(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const T=w[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const x=w[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const F=w[5];null!=F&&"number"==typeof F&&0<F&&(t.J=r=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const Z=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var u=r.h;u.g||-1==Z.indexOf("spdy")&&-1==Z.indexOf("quic")&&-1==Z.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Gd(u,u.h),u.h=null))}if(r.D){const re=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;re&&(r.za=re,_n(r.F,r.D,re))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=o0(r,r.H?r.ka:null,r.V),c.J){bf(r.h,c);var f=c,y=r.J;y&&f.setTimeout(y),f.B&&($g(f),Bg(f)),r.g=c}else Xg(r);0<t.i.length&&Jg(t)}else"stop"!=w[0]&&"close"!=w[0]||kn(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?kn(t,7):Kd(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}yf()}catch{}}function si(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(bg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Df(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(bg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Vo(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(bg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(pt=Ef.prototype).setTimeout=function(n){this.O=n},pt.ib=function(n){n=n.target;const e=this.L;e&&3==$o(n)?e.l():this.La(n)},pt.La=function(n){try{if(n==this.g)e:{const T=$o(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>T)&&(3!=T||Tg||this.g&&(this.h.h||this.g.fa()||G_(this.g)))){this.I||4!=T||7==e||yf(),$g(this);var t=this.g.aa();this.Y=t;t:if($w(this)){var r=G_(this.g);n="";var i=r.length,u=4==$o(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ua(this),If(this);var c="";break t}this.h.i=new Bt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function Og(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rf(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Li(12),Ua(this),If(this);break e}Lo(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,F_(this,t)}this.P?(EC(this,T,c),Tg&&this.i&&3==T&&(M_(this.S,this.T,"tick",this.hb),this.T.start())):(Lo(this.j,this.m,c,null),F_(this,c)),4==T&&Ua(this),this.i&&!this.I&&(4==T?Z_(this.l,this):(this.i=!1,Bg(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Li(12)):(this.o=0,Li(13)),Ua(this),If(this)}}}catch{}},pt.hb=function(){if(this.g){var n=$o(this.g),e=this.g.fa();this.C<e.length&&($g(this),EC(this,n,e),this.i&&4!=n&&Bg(this))}},pt.cancel=function(){this.I=!0,Ua(this)},pt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function yC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(yf(),Li(17)),Ua(this),this.o=2,If(this)):wf(this,this.V-n)};var Hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wr){this.h=void 0!==e?e:n.h,Ba(this,n.j),this.s=n.s,this.g=n.g,$a(this,n.m),this.l=n.l,e=n.i;var t=new Hd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ec(this,t),this.o=n.o}else n&&(t=String(n).match(Hu))?(this.h=!!e,Ba(this,t[1]||"",!0),this.s=Uo(t[2]||""),this.g=Uo(t[3]||"",!0),$a(this,t[4]),this.l=Uo(t[5]||"",!0),ec(this,t[6]||"",!0),this.o=Uo(t[7]||"")):(this.h=!!e,this.i=new Hd(null,this.h))}function ro(n){return new Wr(n)}function Ba(n,e,t){n.j=t?Uo(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function $a(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ec(n,e,t){e instanceof Hd?(n.i=e,function wC(n,e){e&&!n.j&&(Ha(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(L_(this,r),U_(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Bo(e,Gw)),n.i=new Hd(e,n.h))}function _n(n,e,t){n.i.set(e,t)}function ja(n){return _n(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Uo(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Bo(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,jd),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jd(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wr.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Bo(e,tc,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Bo(e,tc,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Bo(t,"/"==t.charAt(0)?zw:Hw,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Bo(t,qw)),n.join("")};var tc=/[#\/\?@]/g,Hw=/[#\?:]/g,zw=/[#\?]/g,Gw=/[#\?@]/g,qw=/#/g;function Hd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ha(n){n.g||(n.g=new Map,n.h=0,n.i&&function jg(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function L_(n,e){Ha(n),e=zd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function V_(n,e){return Ha(n),e=zd(n,e),n.g.has(e)}function U_(n,e,t){L_(n,e),0<t.length&&(n.i=null,n.g.set(zd(n,e),c_(t)),n.h+=t.length)}function zd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Kw(n){this.l=n||IC,n=Bt.PerformanceNavigationTiming?0<(n=Bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ga&&Bt.g.Ga()&&Bt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=Hd.prototype).add=function(n,e){Ha(this),this.i=null,n=zd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(n,e){Ha(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},pt.oa=function(){Ha(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},pt.W=function(n){Ha(this);let e=[];if("string"==typeof n)V_(this,n)&&(e=e.concat(this.g.get(zd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},pt.set=function(n,e){return Ha(this),this.i=null,V_(this,n=zd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=u;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var IC=10;function Hg(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zg(n){return n.h?1:n.g?n.g.size:0}function B_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Gd(n,e){n.g?n.g.add(e):n.h=e}function bf(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Gg(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return c_(n.i)}function $_(){}function qg(){this.g=new $_}function Wg(n,e,t){const r=t||"";try{si(n,function(i,u){let c=i;Fd(i)&&(c=ff(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Cf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function nc(n){this.l=n.ac||null,this.j=n.jb||!1}function Tf(n,e){qr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Kg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kw.prototype.cancel=function(){if(this.i=Gg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},$_.prototype.stringify=function(n){return Bt.JSON.stringify(n,void 0)},$_.prototype.parse=function(n){return Bt.JSON.parse(n,void 0)},Gr(nc,x_),nc.prototype.g=function(){return new Tf(this.l,this.j)},nc.prototype.i=function(n){return function(){return n}}({}),Gr(Tf,qr);var Kg=0;function Zg(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function qd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Sf(n)}function Sf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=Tf.prototype).open=function(n,e){if(this.readyState!=Kg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Sf(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Bt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qd(this)),this.readyState=Kg},pt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Sf(this)),this.g&&(this.readyState=3,Sf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zg(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},pt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?qd(this):Sf(this),3==this.readyState&&Zg(this)}},pt.Va=function(n){this.g&&(this.response=this.responseText=n,qd(this))},pt.Ua=function(n){this.g&&(this.response=n,qd(this))},pt.ga=function(){this.g&&qd(this)},pt.setRequestHeader=function(n,e){this.v.append(n,e)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Tf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Yw=Bt.JSON.parse;function qn(n){qr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=j_,this.K=this.L=!1}Gr(qn,qr);var j_="",Qw=/^https?$/i,DC=["POST","PUT"];function Jw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,H_(n),Af(n)}function H_(n){n.D||(n.D=!0,ii(n,"complete"),ii(n,"error"))}function Yg(n){if(n.h&&typeof _w<"u"&&(!n.C[1]||4!=$o(n)||2!=n.aa()))if(n.v&&4==$o(n))mf(n.Ha,0,n);else if(ii(n,"readystatechange"),4==$o(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(Hu)[1]||null;if(!i&&Bt.self&&Bt.self.location){var u=Bt.self.location.protocol;i=u.substr(0,u.length-1)}r=!Qw.test(i?i.toLowerCase():"")}t=r}if(t)ii(n,"complete"),ii(n,"success");else{n.m=6;try{var c=2<$o(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",H_(n)}}finally{Af(n)}}}function Af(n,e){if(n.g){z_(n);const t=n.g,r=n.C[0]?u_:null;n.g=null,n.C=null,e||ii(n,"ready");try{t.onreadystatechange=r}catch{}}}function z_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Bt.clearTimeout(n.A),n.A=null)}function $o(n){return n.g?n.g.readyState:0}function G_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case j_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function q_(n){let e="";return xg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Qg(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=q_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):_n(n,e,t))}function Wd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function W_(n){this.Ca=0,this.i=[],this.j=new Fs,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Wd("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Wd("baseRetryDelayMs",5e3,n),this.bb=Wd("retryDelaySeedMs",1e4,n),this.$a=Wd("forwardChannelMaxRetries",2,n),this.ta=Wd("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Kw(n&&n.concurrentRequestLimit),this.Fa=new qg,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Kd(n){if(Xw(n),3==n.G){var e=n.U++,t=ro(n.F);_n(t,"SID",n.I),_n(t,"RID",e),_n(t,"TYPE","terminate"),rc(n,t),(e=new Ef(n,n.j,e,void 0)).K=2,e.v=ja(ro(t)),t=!1,Bt.navigator&&Bt.navigator.sendBeacon&&(t=Bt.navigator.sendBeacon(e.v.toString(),"")),!t&&Bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=a0(e.l,null),e.g.da(e.v)),e.F=Date.now(),Bg(e)}Y_(n)}function io(n){n.g&&(n0(n),n.g.cancel(),n.g=null)}function Xw(n){io(n),n.u&&(Bt.clearTimeout(n.u),n.u=null),em(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Bt.clearTimeout(n.m),n.m=null)}function Jg(n){Hg(n.h)||n.m||(n.m=!0,Nw(n.Ja,n),n.C=0)}function zu(n,e){var t;t=e?e.m:n.U++;const r=ro(n.F);_n(r,"SID",n.I),_n(r,"RID",t),_n(r,"AID",n.T),rc(n,r),n.o&&n.s&&Qg(r,n.o,n.s),t=new Ef(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=e0(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Gd(n.h,t),Ug(t,r,e)}function rc(n,e){n.ia&&xg(n.ia,function(t,r){_n(e,r,t)}),n.l&&si({},function(t,r){_n(e,r,t)})}function e0(n,e,t){t=Math.min(n.i.length,t);var r=n.l?xr(n.l.Ra,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let f=!0;for(let y=0;y<t;y++){let w=i[y].h;const T=i[y].g;if(w-=u,0>w)u=Math.max(0,i[y].h-100),f=!1;else try{Wg(T,c,"req"+w+"_")}catch{r&&r(T)}}if(f){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Xg(n){n.g||n.u||(n.Z=1,Nw(n.Ia,n),n.A=0)}function t0(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=_f(xr(n.Ia,n),s0(n,n.A)),n.A++,0))}function n0(n){null!=n.B&&(Bt.clearTimeout(n.B),n.B=null)}function r0(n){n.g=new Ef(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ro(n.sa);_n(e,"RID","rpc"),_n(e,"SID",n.I),_n(e,"CI",n.L?"0":"1"),_n(e,"AID",n.T),_n(e,"TYPE","xmlhttp"),rc(n,e),n.o&&n.s&&Qg(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=ja(ro(e)),t.s=null,t.P=!0,k_(t,n)}function em(n){null!=n.v&&(Bt.clearTimeout(n.v),n.v=null)}function Z_(n,e){var t=null;if(n.g==e){em(n),n0(n),n.g=null;var r=2}else{if(!B_(n.h,e))return;t=e.D,bf(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ii(r=kg(),new Lw(r,t)),Jg(n)}else Xg(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function K_(n,e){return!(zg(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=_f(xr(n.Ja,n,e),s0(n,n.C)),n.C++,0)))}(n,e)||2==r&&t0(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:kn(n,5);break;case 4:kn(n,10);break;case 3:kn(n,6);break;default:kn(n,2)}}function s0(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function kn(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=xr(n.kb,n);t||(t=new Wr("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||Ba(t,"https"),ja(t)),function Zw(n,e){const t=new Fs;if(Bt.Image){const r=new Image;r.onload=Cg(Cf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Cg(Cf,t,r,"TestLoadImage: error",!1,e),r.onabort=Cg(Cf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Cg(Cf,t,r,"TestLoadImage: timeout",!1,e),Bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Li(2);n.G=0,n.l&&n.l.va(e),Y_(n),Xw(n)}function Y_(n){if(n.G=0,n.la=[],n.l){const e=Gg(n.h);(0!=e.length||0!=n.i.length)&&(ww(n.la,e),ww(n.la,n.i),n.h.i.length=0,c_(n.i),n.i.length=0),n.l.ua()}}function o0(n,e,t){var r=t instanceof Wr?ro(t):new Wr(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),$a(r,r.m);else{var i=Bt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new Wr(null,void 0);r&&Ba(u,r),e&&(u.g=e),i&&$a(u,i),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&_n(r,t,e),_n(r,"VER",n.ma),rc(n,r),r}function a0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qn(t&&n.Da&&!n.ra?new nc({jb:!0}):n.ra)).Ka(n.H),e}function Q_(){}function tm(){if(Yl&&!(10<=Number(p_)))throw Error("Environmental error: no available transport.")}function Qi(n,e){qr.call(this),this.g=new W_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!rf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Zd(this)}function J_(n){N_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ic(){vf.call(this),this.status=1}function Zd(n){this.g=n}(pt=qn.prototype).Ka=function(n){this.L=n},pt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():P_.g(),this.C=function Uw(n){return n.h||(n.h=n.i())}(this.u?this.u:P_),this.g.onreadystatechange=xr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void Jw(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=Bt.FormData&&n instanceof Bt.FormData,!(0<=Ew(DC,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of t)this.g.setRequestHeader(u,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{z_(this),0<this.B&&((this.K=function bC(n){return Yl&&function bw(){return function kM(n){var e=Sg;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=d_(String(Va)).split("."),t=d_("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=sf(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||sf(0==i[2].length,0==u[2].length)||sf(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xr(this.qa,this)):this.A=mf(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Jw(this,u)}},pt.qa=function(){typeof _w<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ii(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ii(this,"complete"),ii(this,"abort"),Af(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Af(this,!0)),qn.X.M.call(this)},pt.Ha=function(){this.s||(this.F||this.v||this.l?Yg(this):this.fb())},pt.fb=function(){Yg(this)},pt.aa=function(){try{return 2<$o(this)?this.g.status:-1}catch{return-1}},pt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Yw(e)}},pt.Ea=function(){return this.m},pt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=W_.prototype).ma=8,pt.G=1,pt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Ef(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=m_(u),Sw(u,this.S)):u=this.S),null!==this.o||this.N||(i.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=e0(this,i,e),_n(t=ro(this.F),"RID",n),_n(t,"CVER",22),this.D&&_n(t,"X-HTTP-Session-Id",this.D),rc(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(q_(u)))+"&"+e:this.o&&Qg(t,this.o,u)),Gd(this.h,i),this.Ya&&_n(t,"TYPE","init"),this.O?(_n(t,"$req",e),_n(t,"SID","null"),i.Z=!0,Ug(i,t,null)):Ug(i,t,e),this.G=2}}else 3==this.G&&(n?zu(this,n):0==this.i.length||Hg(this.h)||zu(this))},pt.Ia=function(){if(this.u=null,r0(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=_f(xr(this.eb,this),n)}},pt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Li(10),io(this),r0(this))},pt.cb=function(){null!=this.v&&(this.v=null,io(this),t0(this),Li(19))},pt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Li(2)):(this.j.info("Failed to ping google.com"),Li(1))},(pt=Q_.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Ra=function(){},tm.prototype.g=function(n,e){return new Qi(n,e)},Gr(Qi,qr),Qi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Li(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=o0(n,null,n.V),Jg(n)},Qi.prototype.close=function(){Kd(this.g)},Qi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=ff(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Jg(e)},Qi.prototype.M=function(){this.g.l=null,delete this.j,Kd(this.g),delete this.g,Qi.X.M.call(this)},Gr(J_,N_),Gr(ic,vf),Gr(Zd,Q_),Zd.prototype.xa=function(){ii(this.g,"a")},Zd.prototype.wa=function(n){ii(this.g,new J_(n))},Zd.prototype.va=function(n){ii(this.g,new ic)},Zd.prototype.ua=function(){ii(this.g,"b")},tm.prototype.createWebChannel=tm.prototype.g,Qi.prototype.send=Qi.prototype.u,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,Fg.NO_ERROR=0,Fg.TIMEOUT=8,Fg.HTTP_ERROR=6,Vw.COMPLETE="complete",R_.EventType=Xl,Xl.OPEN="a",Xl.CLOSE="b",Xl.ERROR="c",Xl.MESSAGE="d",qr.prototype.listen=qr.prototype.N,qn.prototype.listenOnce=qn.prototype.O,qn.prototype.getLastError=qn.prototype.Oa,qn.prototype.getLastErrorCode=qn.prototype.Ea,qn.prototype.getStatus=qn.prototype.aa,qn.prototype.getResponseJson=qn.prototype.Sa,qn.prototype.getResponseText=qn.prototype.fa,qn.prototype.send=qn.prototype.da,qn.prototype.setWithCredentials=qn.prototype.Ka;var CC=no.createWebChannelTransport=function(){return new tm},u0=no.getStatEventTarget=function(){return kg()},X_=no.ErrorCode=Fg,l0=no.EventType=Vw,FM=no.Event=ju,ev=no.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},tv=no.FetchXmlHttpFactory=nc,hs=no.WebChannel=R_,TC=no.XhrIo=qn;const c0="@firebase/firestore";class bn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let vi="9.20.0";const Kr=new cs.Yd("@firebase/firestore");function nm(){return Kr.logLevel}function Re(n,...e){if(Kr.logLevel<=cs.in.DEBUG){const t=e.map(nv);Kr.debug(`Firestore (${vi}): ${n}`,...t)}}function pr(n,...e){if(Kr.logLevel<=cs.in.ERROR){const t=e.map(nv);Kr.error(`Firestore (${vi}): ${n}`,...t)}}function za(n,...e){if(Kr.logLevel<=cs.in.WARN){const t=e.map(nv);Kr.warn(`Firestore (${vi}): ${n}`,...t)}}function nv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${vi}) INTERNAL ASSERTION FAILED: `+n;throw pr(e),new Error(e)}function ut(n,e){n||it()}function Ze(n,e){return n}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends zr.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Mf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bn.UNAUTHENTICATED))}shutdown(){}}class d0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class h0{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let c=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Er,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const w=c;e.enqueueRetryable((0,et.Z)(function*(){yield w.promise,yield u(r.currentUser)}))},y=w=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Er)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut("string"==typeof r.accessToken),new Mf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(null===e||"string"==typeof e),new bn(e)}}class rv{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class rm{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new rv(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f0{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.T;return this.T=u.token,Re("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?i(u):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut("string"==typeof t.token),this.T=t.token,new iv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function p0(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class sv{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=p0(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Vt(n,e){return n<e?-1:n>e?1:0}function sc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Wn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wn.fromMillis(Date.now())}static fromDate(e){return Wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Wn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new Wn(0,0))}static max(){return new It(new Wn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xf{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===xf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends xf{construct(e,t,r){return new on(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new on(t)}static emptyPath(){return new on([])}}const xC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends xf{construct(e,t,r){return new gr(e,t,r)}static isValidIdentifier(e){return xC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Ae(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ae(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ae(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(u(),i++)}if(u(),c)throw new Ae(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(t)}static emptyPath(){return new gr([])}}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(on.fromString(e))}static fromName(e){return new Ye(on.fromString(e).popFirst(5))}static empty(){return new Ye(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new on(e.slice()))}}function m0(n){return new fs(n.readTime,n.key,-1)}class fs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new fs(It.min(),Ye.empty(),-1)}static max(){return new fs(It.max(),Ye.empty(),-1)}}function uv(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Vt(n.largestBatchId,e.largestBatchId))}const lv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ga(n){return om.apply(this,arguments)}function om(){return om=(0,et.Z)(function*(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==lv)throw n;Re("LocalStore","Unexpectedly lost primary lease")}),om.apply(this,arguments)}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let i=0,u=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++u,c&&u===i&&t()},y=>r(y))}),c=!0,u===i&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(i=>i?ee.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,i)=>{const u=e.length,c=new Array(u);let f=0;for(let y=0;y<u;y++){const w=y;t(e[w]).next(T=>{c[w]=T,++f,f===u&&r(c)},T=>i(T))}})}static doWhile(e,t){return new ee((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}function qa(n){return"IndexedDbTransactionError"===n.name}let Vi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function am(n){return null==n}function Jd(n){return 0===n&&1/n==-1/0}function P0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function so(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Xd(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class tr{constructor(e,t){this.comparator=e,this.root=t||oi.EMPTY}insert(e,t){return new tr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oi.BLACK,null,null))}remove(e){return new tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dm(this.root,e,this.comparator,!1)}getReverseIterator(){return new dm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dm(this.root,e,this.comparator,!0)}}class dm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oi{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??oi.RED,this.left=i??oi.EMPTY,this.right=u??oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new oi(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return oi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}oi.EMPTY=null,oi.RED=!0,oi.BLACK=!1,oi.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,i){return this}insert(n,e,t){return new oi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vn{constructor(e){this.comparator=e,this.data=new tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hv(this.data.getIterator())}getIteratorFrom(e){return new hv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vn(this.comparator);return t.data=e,t}}class hv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xi{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new Xi([])}unionWith(e){let t=new vn(gr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Xi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class O0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new O0("Invalid base64 string: "+i):i}}(e);return new Nr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const $M=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uc(n){if(ut(!!n),"string"==typeof n){let e=0;const t=$M.exec(n);if(ut(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mr(n.seconds),nanos:mr(n.nanos)}}function mr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function eh(n){return"string"==typeof n?Nr.fromBase64String(n):Nr.fromUint8Array(n)}function hm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function kf(n){const e=n.mapValue.fields.__previous_value__;return hm(e)?kf(e):e}function Ff(n){const e=uc(n.mapValue.fields.__local_write_time__.timestampValue);return new Wn(e.seconds,e.nanos)}class VC{constructor(e,t,r,i,u,c,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class Gu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Gu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Gu&&e.projectId===this.projectId&&e.database===this.database}}const Vs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hm(n)?4:gv(n)?9007199254740991:10:it()}function Ho(n,e){if(n===e)return!0;const t=lc(n);if(t!==lc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ff(n).isEqual(Ff(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=uc(r.timestampValue),c=uc(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,eh(n.bytesValue).isEqual(eh(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return mr(r.geoPointValue.latitude)===mr(i.geoPointValue.latitude)&&mr(r.geoPointValue.longitude)===mr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return mr(r.integerValue)===mr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=mr(r.doubleValue),c=mr(i.doubleValue);return u===c?Jd(u)===Jd(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return sc(n.arrayValue.values||[],e.arrayValue.values||[],Ho);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(P0(u)!==P0(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===c[f]||!Ho(u[f],c[f])))return!1;return!0}(n,e);default:return it()}var i}function Lf(n,e){return void 0!==(n.values||[]).find(t=>Ho(t,e))}function cc(n,e){if(n===e)return 0;const t=lc(n),r=lc(e);if(t!==r)return Vt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=mr(i.integerValue||i.doubleValue),f=mr(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return k0(n.timestampValue,e.timestampValue);case 4:return k0(Ff(n),Ff(e));case 5:return Vt(n.stringValue,e.stringValue);case 6:return function(i,u){const c=eh(i),f=eh(u);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),f=u.split("/");for(let y=0;y<c.length&&y<f.length;y++){const w=Vt(c[y],f[y]);if(0!==w)return w}return Vt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=Vt(mr(i.latitude),mr(u.latitude));return 0!==c?c:Vt(mr(i.longitude),mr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],f=u.values||[];for(let y=0;y<c.length&&y<f.length;++y){const w=cc(c[y],f[y]);if(w)return w}return Vt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Vs.mapValue&&u===Vs.mapValue)return 0;if(i===Vs.mapValue)return 1;if(u===Vs.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),y=u.fields||{},w=Object.keys(y);f.sort(),w.sort();for(let T=0;T<f.length&&T<w.length;++T){const x=Vt(f[T],w[T]);if(0!==x)return x;const F=cc(c[f[T]],y[w[T]]);if(0!==F)return F}return Vt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw it()}}function k0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Vt(n,e);const t=uc(n),r=uc(e),i=Vt(t.seconds,r.seconds);return 0!==i?i:Vt(t.nanos,r.nanos)}function dc(n){return fv(n)}function fv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=uc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?eh(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=fv(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const f of i)c?c=!1:u+=",",u+=`${f}:${fv(r.fields[f])}`;return u+"}"}(n.mapValue):it();var e}function hc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fc(n){return!!n&&"integerValue"in n}function Vf(n){return!!n&&"arrayValue"in n}function pv(n){return!!n&&"nullValue"in n}function F0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Uf(n){return!!n&&"mapValue"in n}function Bf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return so(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Pr{constructor(e){this.value=e}static empty(){return new Pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Uf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bf(t)}setAll(e){let t=gr.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=Bf(c):i.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());Uf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ho(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Uf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){so(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Pr(Bf(this.value))}}function V0(n){const e=[];return so(n.fields,(t,r)=>{const i=new gr([t]);if(Uf(r)){const u=V0(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new Xi(e)}class Fn{constructor(e,t,r,i,u,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Fn(e,0,It.min(),It.min(),It.min(),Pr.empty(),0)}static newFoundDocument(e,t,r,i){return new Fn(e,1,t,It.min(),r,i,0)}static newNoDocument(e,t){return new Fn(e,2,t,It.min(),It.min(),Pr.empty(),0)}static newUnknownDocument(e,t){return new Fn(e,3,t,It.min(),It.min(),Pr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qu{constructor(e,t){this.position=e,this.inclusive=t}}function pm(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?Ye.comparator(Ye.fromName(c.referenceValue),t.key):cc(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function U0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ho(n.position[t],e.position[t]))return!1;return!0}class pc{constructor(e,t="asc"){this.field=e,this.dir=t}}function BC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class B0{}class sn extends B0{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new z0(e,t,r):"array-contains"===t?new wv(e,r):"in"===t?new mm(e,r):"not-in"===t?new q0(e,r):"array-contains-any"===t?new Iv(e,r):new sn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new $C(e,r):new jC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(cc(t,this.value)):null!==t&&lc(this.value)===lc(t)&&this.matchesComparison(cc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class En extends B0{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new En(e,t)}matches(e){return th(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function th(n){return"and"===n.op}function vv(n){return function $0(n){for(const e of n.filters)if(e instanceof En)return!1;return!0}(n)&&th(n)}function gm(n){if(n instanceof sn)return n.field.canonicalString()+n.op.toString()+dc(n.value);if(vv(n))return n.filters.map(e=>gm(e)).join(",");{const e=n.filters.map(t=>gm(t)).join(",");return`${n.op}(${e})`}}function Ev(n,e){return n instanceof sn?(t=n,(r=e)instanceof sn&&t.op===r.op&&t.field.isEqual(r.field)&&Ho(t.value,r.value)):n instanceof En?function(t,r){return r instanceof En&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,c)=>i&&Ev(u,r.filters[c]),!0)}(n,e):void it();var t,r}function H0(n){return n instanceof sn?`${(e=n).field.canonicalString()} ${e.op} ${dc(e.value)}`:n instanceof En?function(e){return e.op.toString()+" {"+e.getFilters().map(H0).join(" ,")+"}"}(n):"Filter";var e}class z0 extends sn{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class $C extends sn{constructor(e,t){super(e,"in",t),this.keys=G0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jC extends sn{constructor(e,t){super(e,"not-in",t),this.keys=G0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function G0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class wv extends sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vf(t)&&Lf(t.arrayValue,this.value)}}class mm extends sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Lf(this.value.arrayValue,t)}}class q0 extends sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Lf(this.value.arrayValue,t)}}class Iv extends sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Lf(this.value.arrayValue,r))}}class HC{constructor(e,t=null,r=[],i=[],u=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=f,this.ft=null}}function Dv(n,e=null,t=[],r=[],i=null,u=null,c=null){return new HC(n,e,t,r,i,u,c)}function Ka(n){const e=Ze(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>gm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),am(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>dc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>dc(r)).join(",")),e.ft=t}return e.ft}function $f(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!BC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ev(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!U0(n.startAt,e.startAt)&&U0(n.endAt,e.endAt)}function jf(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Wu{constructor(e,t=null,r=[],i=[],u=null,c="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=f,this.endAt=y,this.dt=null,this.wt=null}}function Ku(n){return new Wu(n)}function K0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Hf(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ym(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function _m(n){return null!==n.collectionGroup}function Ya(n){const e=Ze(n);if(null===e.dt){e.dt=[];const t=ym(e),r=Hf(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new pc(t)),e.dt.push(new pc(gr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new pc(gr.keyField(),u))}}}return e.dt}function Ei(n){const e=Ze(n);if(!e.wt)if("F"===e.limitType)e.wt=Dv(e.path,e.collectionGroup,Ya(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Ya(e))t.push(new pc(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new qu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new qu(e.startAt.position,e.startAt.inclusive):null;e.wt=Dv(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function vm(n,e){e.getFirstInequalityField(),ym(n);const t=n.filters.concat([e]);return new Wu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zf(n,e,t){return new Wu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nh(n,e){return $f(Ei(n),Ei(e))&&n.limitType===e.limitType}function Z0(n){return`${Ka(Ei(n))}|lt:${n.limitType}`}function Tv(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>H0(r)).join(", ")}]`),am(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>dc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>dc(r)).join(",")),`Target(${t})`}(Ei(n))}; limitType=${n.limitType})`}function Gf(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ye.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Ya(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const f=pm(i,u,c);return i.inclusive?f<=0:f<0}(t.startAt,Ya(t),r)||t.endAt&&!function(i,u,c){const f=pm(i,u,c);return i.inclusive?f>=0:f>0}(t.endAt,Ya(t),r)));var t,r}function Sv(n){return(e,t)=>{let r=!1;for(const i of Ya(n)){const u=jM(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function jM(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(i,u,c){const f=u.data.field(i),y=c.data.field(i);return null!==f&&null!==y?cc(f,y):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}class Qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return Xd(this.inner)}size(){return this.innerSize}}const zC=new tr(Ye.comparator);function es(){return zC}const GC=new tr(Ye.comparator);function qf(...n){let e=GC;for(const t of n)e=e.insert(t.key,t);return e}function Q0(n){let e=GC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zo(){return Wf()}function J0(){return Wf()}function Wf(){return new Qa(n=>n.toString(),(n,e)=>n.isEqual(e))}const qC=new tr(Ye.comparator),WC=new vn(Ye.comparator);function Ht(...n){let e=WC;for(const t of n)e=e.add(t);return e}const KC=new vn(Vt);function Em(){return KC}function X0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function eI(n){return{integerValue:""+n}}function rh(n,e){return function dv(n){return"number"==typeof n&&Number.isInteger(n)&&!Jd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?eI(e):X0(n,e)}class Kf{constructor(){this._=void 0}}function tI(n,e,t){return n instanceof gc?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof Zu?rI(n,e):n instanceof ih?iI(n,e):function(r,i){const u=Av(r,i),c=sI(u)+sI(r._t);return fc(u)&&fc(r._t)?eI(c):X0(r.serializer,c)}(n,e)}function nI(n,e,t){return n instanceof Zu?rI(n,e):n instanceof ih?iI(n,e):t}function Av(n,e){return n instanceof mc?fc(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class gc extends Kf{}class Zu extends Kf{constructor(e){super(),this.elements=e}}function rI(n,e){const t=oI(e);for(const r of n.elements)t.some(i=>Ho(i,r))||t.push(r);return{arrayValue:{values:t}}}class ih extends Kf{constructor(e){super(),this.elements=e}}function iI(n,e){let t=oI(e);for(const r of n.elements)t=t.filter(i=>!Ho(i,r));return{arrayValue:{values:t}}}class mc extends Kf{constructor(e,t){super(),this.serializer=e,this._t=t}}function sI(n){return mr(n.integerValue||n.doubleValue)}function oI(n){return Vf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ZC{constructor(e,t){this.version=e,this.transformResults=t}}class An{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gs(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class wm{}function Im(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new yc(n.key,An.none()):new Ja(n.key,n.data,An.none());{const t=n.data,r=Pr.empty();let i=new vn(gr.comparator);for(let u of e.fields)if(!i.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),i=i.add(u)}return new Us(n.key,r,new Xi(i.toArray()),An.none())}}function Qf(n,e,t){n instanceof Ja?function(r,i,u){const c=r.value.clone(),f=lI(r.fieldTransforms,i,u.transformResults);c.setAll(f),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Us?function(r,i,u){if(!gs(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=lI(r.fieldTransforms,i,u.transformResults),f=i.data;f.setAll(uI(r)),f.setAll(c),i.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Jf(n,e,t,r){return n instanceof Ja?function(i,u,c,f){if(!gs(i.precondition,u))return c;const y=i.value.clone(),w=Mv(i.fieldTransforms,f,u);return y.setAll(w),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Us?function(i,u,c,f){if(!gs(i.precondition,u))return c;const y=Mv(i.fieldTransforms,f,u),w=u.data;return w.setAll(uI(i)),w.setAll(y),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(c=t,gs(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function YC(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=Av(r.transform,i||null);null!=u&&(null===t&&(t=Pr.empty()),t.set(r.field,u))}return t||null}function aI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&sc(t,r,(i,u)=>function Yf(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Zu&&r instanceof Zu||t instanceof ih&&r instanceof ih?sc(t.elements,r.elements,Ho):t instanceof mc&&r instanceof mc?Ho(t._t,r._t):t instanceof gc&&r instanceof gc);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ja extends wm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Us extends wm{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function uI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function lI(n,e,t){const r=new Map;ut(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,f=e.data.field(u.field);r.set(u.field,nI(c,f,t[i]))}return r}function Mv(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,tI(u,c,e))}return r}class yc extends wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xf extends wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dm{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&Qf(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Jf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Jf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=J0();return this.mutations.forEach(i=>{const u=e.get(i.key),c=u.overlayedDocument;let f=this.applyToLocalView(c,u.mutatedFields);f=t.has(i.key)?null:f;const y=Im(c,f);null!==y&&r.set(i.key,y),c.isValidDocument()||c.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ht())}isEqual(e){return this.batchId===e.batchId&&sc(this.mutations,e.mutations,(t,r)=>aI(t,r))&&sc(this.baseMutations,e.baseMutations,(t,r)=>aI(t,r))}}class ep{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ut(e.mutations.length===r.length);let i=qC;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new ep(e,t,r,i)}}class tp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class QC{constructor(e){this.count=e}}var wr,an;function Rv(n){if(void 0===n)return pr("GRPC error has no .code"),ie.UNKNOWN;switch(n){case wr.OK:return ie.OK;case wr.CANCELLED:return ie.CANCELLED;case wr.UNKNOWN:return ie.UNKNOWN;case wr.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case wr.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case wr.INTERNAL:return ie.INTERNAL;case wr.UNAVAILABLE:return ie.UNAVAILABLE;case wr.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case wr.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case wr.NOT_FOUND:return ie.NOT_FOUND;case wr.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case wr.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case wr.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case wr.ABORTED:return ie.ABORTED;case wr.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case wr.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case wr.DATA_LOSS:return ie.DATA_LOSS;default:return it()}}(an=wr||(wr={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";class rp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ip}static getOrCreateInstance(){return null===ip&&(ip=new rp),ip}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ip=null;class sh{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,oh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sh(It.min(),i,Em(),es(),Ht())}}class oh{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new oh(r,t,Ht(),Ht(),Ht())}}class sp{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class hI{constructor(e,t){this.targetId=e,this.Et=t}}class Nv{constructor(e,t,r=Nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Pv{constructor(){this.At=0,this.Rt=fI(),this.vt=Nr.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=Ht(),t=Ht(),r=Ht();return this.Rt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:it()}}),new oh(this.vt,this.bt,e,t,r)}xt(){this.Pt=!1,this.Rt=fI()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class JC{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=es(),this.qt=Ov(),this.Ut=new vn(Vt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const r=this.jt(t);switch(e.state){case 0:this.Wt(t)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.Wt(i)&&t(i)})}Jt(e){var t;const r=e.targetId,i=e.Et.count,u=this.Yt(r);if(u){const c=u.target;if(jf(c))if(0===i){const f=new Ye(c.path);this.Qt(r,f,Fn.newNoDocument(f,It.min()))}else ut(1===i);else{const f=this.Zt(r);f!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),null===(t=rp.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:f,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((u,c)=>{const f=this.Yt(c);if(f){if(u.current&&jf(f.target)){const y=new Ye(f.target.path);null!==this.Lt.get(y)||this.te(c,y)||this.Qt(c,y,Fn.newNoDocument(y,e))}u.St&&(t.set(c,u.Ct()),u.xt())}});let r=Ht();this.qt.forEach((u,c)=>{let f=!0;c.forEachWhile(y=>{const w=this.Yt(y);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.Lt.forEach((u,c)=>c.setReadTime(e));const i=new sh(e,t,this.Ut,this.Lt,r);return this.Lt=es(),this.qt=Ov(),this.Ut=new vn(Vt),i}Gt(e,t){if(!this.Wt(e))return;const r=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new Pv,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new vn(Vt),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new Pv),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function Ov(){return new tr(Ye.comparator)}function fI(){return new tr(Ye.comparator)}const Ui={asc:"ASCENDING",desc:"DESCENDING"},ah={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XC={and:"AND",or:"OR"};class eT{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function op(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pI(n,e){return op(n,e.toTimestamp())}function Kn(n){return ut(!!n),It.fromTimestamp(function(e){const t=uc(e);return new Wn(t.seconds,t.nanos)}(n))}function _c(n,e){return(t=n,new on(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gI(n){const e=on.fromString(n);return ut(Vv(e)),e}function vc(n,e){return _c(n.databaseId,e.path)}function Go(n,e){const t=gI(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(yI(t))}function bm(n,e){return _c(n.databaseId,e)}function ap(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yI(n){return ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Cm(n,e,t){return{name:vc(n,e),fields:t.value.mapValue.fields}}function wI(n,e){return{documents:[bm(n,e.path)]}}function Sm(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=bm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=bm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return II(En.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(w=>{return{field:Ic((T=w).field),direction:Lv(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(w=e.limit,n.useProto3Json||am(w)?w:{value:w});var w,f,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function wc(n){let e=function mI(n){const e=gI(n);return 4===e.length?on.emptyPath():yI(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ut(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=function(T){const x=Fv(T);return x instanceof En&&vv(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new pc(uh((x=T).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(T){let x;return x="object"==typeof T?T.value:T,am(x)?null:x}(t.limit));let y=null;var T;t.startAt&&(y=new qu((T=t.startAt).values||[],!!T.before));let w=null;return t.endAt&&(w=function(T){return new qu(T.values||[],!T.before)}(t.endAt)),function Cv(n,e,t,r,i,u,c,f){return new Wu(n,e,t,r,i,u,c,f)}(e,i,c,u,f,"F",y,w)}function Fv(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=uh(e.unaryFilter.field);return sn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=uh(e.unaryFilter.field);return sn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=uh(e.unaryFilter.field);return sn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=uh(e.unaryFilter.field);return sn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(n):void 0!==n.fieldFilter?sn.create(uh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return En.create(e.compositeFilter.filters.map(t=>Fv(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return it()}}(e.compositeFilter.op))}(n):it();var e}function Lv(n){return Ui[n]}function HM(n){return ah[n]}function rT(n){return XC[n]}function Ic(n){return{fieldPath:n.canonicalString()}}function uh(n){return gr.fromServerFormat(n.fieldPath)}function II(n){return n instanceof sn?function(e){if("=="===e.op){if(F0(e.value))return{unaryFilter:{field:Ic(e.field),op:"IS_NAN"}};if(pv(e.value))return{unaryFilter:{field:Ic(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(F0(e.value))return{unaryFilter:{field:Ic(e.field),op:"IS_NOT_NAN"}};if(pv(e.value))return{unaryFilter:{field:Ic(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ic(e.field),op:HM(e.op),value:e.value}}}(n):n instanceof En?function(e){const t=e.getFilters().map(r=>II(r));return 1===t.length?t[0]:{compositeFilter:{op:rT(e.op),filters:t}}}(n):it()}function iT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Vv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Xa{constructor(e,t,r,i,u=It.min(),c=It.min(),f=Nr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class DI{constructor(e){this.se=e}}function Mm(n){const e=wc({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?zf(e,e.limit,"L"):e}class ch{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(mr(e.integerValue));else if("doubleValue"in e){const r=mr(e.doubleValue);isNaN(r)?this.ae(t,13):(this.ae(t,15),Jd(r)?t.he(0):t.he(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le(`${r.seconds||""}`),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(eh(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ae(t,45),t.he(r.latitude||0),t.he(r.longitude||0)}else"mapValue"in e?gv(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):it()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const r=e.fields||{};this.ae(t,55);for(const i of Object.keys(r))this.fe(i,t),this.ue(r[i],t)}ge(e,t){const r=e.values||[];this.ae(t,50);for(const i of r)this.ue(i,t)}_e(e,t){this.ae(t,37),Ye.fromName(e).path.forEach(r=>{this.ae(t,60),this.ye(r,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}ch.pe=new ch;class lT{constructor(){this.He=new MI}addToCollectionParentIndex(e,t){return this.He.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(fs.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class MI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new vn(on.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vn(on.comparator)).toArray()}}new Uint8Array(0);class Bi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Bi(e,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Bi.DEFAULT_COLLECTION_PERCENTILE=10,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bi.DEFAULT=new Bi(41943040,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bi.DISABLED=new Bi(-1,0,0);class Tc{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Tc(0)}static bn(){return new Tc(-1)}}class FI{constructor(){this.changes=new Qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class VI{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Jf(r.mutation,i,Xi.empty(),Wn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ht()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ht()){const i=zo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let c=qf();return u.forEach((f,y)=>{c=c.insert(f,y.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=zo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ht()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let u=es();const c=Wf(),f=Wf();return t.forEach((y,w)=>{const T=r.get(w.key);i.has(w.key)&&(void 0===T||T.mutation instanceof Us)?u=u.insert(w.key,w):void 0!==T?(c.set(w.key,T.mutation.getFieldMask()),Jf(T.mutation,w,T.mutation.getFieldMask(),Wn.now())):c.set(w.key,Xi.empty())}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((w,T)=>c.set(w,T)),t.forEach((w,T)=>{var x;return f.set(w,new ZM(T,null!==(x=c.get(w))&&void 0!==x?x:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Wf();let i=new tr((c,f)=>c-f),u=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let T=r.get(y)||Xi.empty();T=f.applyToLocalView(w,T),r.set(y,T);const x=(i.get(f.batchId)||Ht()).add(y);i=i.insert(f.batchId,x)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),w=y.key,T=y.value,x=J0();T.forEach(F=>{if(!u.has(F)){const B=Im(t.get(F),r.get(F));null!==B&&x.set(F,B),u=u.add(F)}}),c.push(this.documentOverlayCache.saveOverlays(e,w,x))}return ee.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ye.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_m(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const c=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):ee.resolve(zo());let f=-1,y=u;return c.next(w=>ee.forEach(w,(T,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),u.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next(F=>{y=y.insert(T,F)}))).next(()=>this.populateOverlays(e,w,u)).next(()=>this.computeViews(e,y,w,Ht())).next(T=>({batchId:f,changes:Q0(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ye(t)).next(r=>{let i=qf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=qf();return this.indexManager.getCollectionParents(e,i).next(c=>ee.forEach(c,f=>{const y=(w=t,T=f.child(i),new Wu(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((T,x)=>{u=u.insert(T,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(u=>{i.forEach((f,y)=>{const w=y.getKey();null===u.get(w)&&(u=u.insert(w,Fn.newInvalidDocument(w)))});let c=qf();return u.forEach((f,y)=>{const w=i.get(f);void 0!==w&&Jf(w.mutation,y,Xi.empty(),Wn.now()),Gf(t,y)&&(c=c.insert(f,y))}),c})}}class fT{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return ee.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Kn(r.createTime)}),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:Mm(r.bundledQuery),readTime:Kn(r.readTime)}),ee.resolve();var r}}class pT{constructor(){this.overlays=new tr(Ye.comparator),this.ts=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zo();return ee.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.re(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ts.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.ts.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const i=zo(),u=t.length+1,c=new Ye(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const y=f.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===u&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new tr((w,T)=>w-T);const c=this.overlays.getIterator();for(;c.hasNext();){const w=c.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let T=u.get(w.largestBatchId);null===T&&(T=zo(),u=u.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const f=zo(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,T)=>f.set(w,T)),!(f.size()>=i)););return ee.resolve(f)}re(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new tp(t,r));let u=this.ts.get(t);void 0===u&&(u=Ht(),this.ts.set(t,u)),this.ts.set(t,u.add(r.key))}}class Xv{constructor(){this.es=new vn(Or.ns),this.ss=new vn(Or.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const r=new Or(e,t);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.us(new Or(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}hs(e){const t=new Ye(new on([])),r=new Or(t,e),i=new Or(t,e+1),u=[];return this.ss.forEachInRange([r,i],c=>{this.us(c),u.push(c.key)}),u}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new Ye(new on([])),r=new Or(t,e),i=new Or(t,e+1);let u=Ht();return this.ss.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Or(e,0),r=this.es.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Or{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return Ye.comparator(e.key,t.key)||Vt(e.ds,t.ds)}static rs(e,t){return Vt(e.ds,t.ds)||Ye.comparator(e.key,t.key)}}class YM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new vn(Or.ns)}checkEmpty(e){return ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.ws;this.ws++;const c=new Dm(u,t,r,i);this.mutationQueue.push(c);for(const f of i)this._s=this._s.add(new Or(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ys(t+1),u=i<0?0:i;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Or(t,0),i=new Or(t,Number.POSITIVE_INFINITY),u=[];return this._s.forEachInRange([r,i],c=>{const f=this.gs(c.ds);u.push(f)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vn(Vt);return t.forEach(i=>{const u=new Or(i,0),c=new Or(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([u,c],f=>{r=r.add(f.ds)})}),ee.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;Ye.isDocumentKey(u)||(u=u.child(""));const c=new Or(new Ye(u),0);let f=new vn(Vt);return this._s.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(y.ds)),!0)},c),ee.resolve(this.ps(f))}ps(e){const t=[];return e.forEach(r=>{const i=this.gs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ut(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let r=this._s;return ee.forEach(t.mutations,i=>{const u=new Or(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,t){const r=new Or(t,0),i=this._s.firstAfterOrEqual(r);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ee.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class UI{constructor(e){this.Ts=e,this.docs=new tr(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=es();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Fn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let u=es();const c=t.path,f=new Ye(c.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:w,value:{document:T}}=y.getNext();if(!c.isPrefixOf(w.path))break;w.path.length>c.length+1||uv(m0(T),r)<=0||(i.has(T.key)||Gf(t,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,r,i){it()}Es(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new gT(this)}getSize(e){return ee.resolve(this.size)}}class gT extends FI{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class BI{constructor(e){this.persistence=e,this.As=new Qa(t=>Ka(t),$f),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Xv,this.targetCount=0,this.bs=Tc.vn()}forEachTarget(e,t){return this.As.forEach((r,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Rs&&(this.Rs=t),ee.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Tc(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Sn(t),ee.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.As.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.As.delete(c),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ee.waitFor(u).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.As.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.vs.os(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.vs.cs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.vs.fs(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.vs.containsKey(t))}}class mT{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new Vi(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new BI(this),this.indexManager=new lT,this.remoteDocumentCache=new UI(r=>this.referenceDelegate.Cs(r)),this.serializer=new DI(t),this.xs=new fT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ps[e.toKey()];return r||(r=new YM(t,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const i=new eE(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(u=>this.referenceDelegate.ks(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Os(e,t){return ee.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class eE extends y0{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.$s=new Xv,this.Ms=null}static Fs(e){return new cp(e)}get Bs(){if(this.Ms)return this.Ms;throw it()}addReference(e,t,r){return this.$s.addReference(r,t),this.Bs.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.$s.removeReference(r,t),this.Bs.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),ee.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Bs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Bs,r=>{const i=Ye.fromPath(r);return this.Ls(e,i).next(u=>{u||t.removeEntry(i,It.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(r=>{r?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return ee.or([()=>ee.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class nE{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Vi=r,this.Si=i}static Di(e,t){let r=Ht(),i=Ht();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new nE(e,t.fromCache,r,i)}}class jI{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ni(e,t).next(u=>u||this.ki(e,t,i,r)).next(u=>u||this.Oi(e,t))}Ni(e,t){if(K0(t))return ee.resolve(null);let r=Ei(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=zf(t,null,"F"),r=Ei(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=Ht(...u);return this.xi.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.$i(t,f);return this.Mi(t,w,c,y.readTime)?this.Ni(e,zf(t,null,"F")):this.Fi(e,w,t,y)}))})))}ki(e,t,r,i){return K0(t)||i.isEqual(It.min())?this.Oi(e,t):this.xi.getDocuments(e,r).next(u=>{const c=this.$i(t,u);return this.Mi(t,c,r,i)?this.Oi(e,t):(nm()<=cs.in.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tv(t)),this.Fi(e,c,t,function g0(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=It.fromTimestamp(1e9===r?new Wn(t+1,0):new Wn(t,r));return new fs(i,Ye.empty(),e)}(i,-1)))})}$i(e,t){let r=new vn(Sv(e));return t.forEach((i,u)=>{Gf(e,u)&&(r=r.add(u))}),r}Mi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Oi(e,t){return nm()<=cs.in.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Tv(t)),this.xi.getDocumentsMatchingQuery(e,t,fs.min())}Fi(e,t,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class QM{constructor(e,t,r,i){this.persistence=e,this.Bi=t,this.serializer=i,this.Li=new tr(Vt),this.qi=new Qa(u=>Ka(u),$f),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VI(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function _T(n,e){return zm.apply(this,arguments)}function zm(){return zm=(0,et.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Gi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],f=[];let y=Ht();for(const w of i){c.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}for(const w of u){f.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(w=>({Qi:w,removedBatchIds:c,addedBatchIds:f}))})})}),zm.apply(this,arguments)}function HI(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function JM(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hp(n,e,t){return zI.apply(this,arguments)}function zI(){return zI=(0,et.Z)(function*(n,e,t){const r=Ze(n),i=r.Li.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!qa(c))throw c;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}),zI.apply(this,arguments)}function Gm(n,e,t){const r=Ze(n);let i=It.min(),u=Ht();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,y,w){const T=Ze(f),x=T.qi.get(w);return void 0!==x?ee.resolve(T.Li.get(x)):T.Ds.getTargetData(y,w)}(r,c,Ei(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(c,f.targetId).next(y=>{u=y})}).next(()=>r.Bi.getDocumentsMatchingQuery(c,e,t?i:It.min(),t?u:Ht())).next(f=>(function qI(n,e,t){let r=n.Ui.get(e)||It.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ui.set(e,r)}(r,function Y0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),f),{documents:f,Wi:u})))}class QI{constructor(){this.activeTargetIds=Em()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iE{constructor(){this.Br=new QI,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,r){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new QI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IT{qr(e){}shutdown(){}}class XI{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wm=null;function sE(){return null===Wm?Wm=268435456+Math.round(2147483648*Math.random()):Wm++,"0x"+Wm.toString(16)}const eD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tD{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const ai="WebChannelConnection";class DT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,r,i,u){const c=sE(),f=this.ao(e,t);Re("RestConnection",`Sending RPC '${e}' ${c}:`,f,r);const y={};return this.ho(y,i,u),this.lo(e,f,y,r).then(w=>(Re("RestConnection",`Received RPC '${e}' ${c}: `,w),w),w=>{throw za("RestConnection",`RPC '${e}' ${c} failed with error: `,w,"url: ",f,"request:",r),w})}fo(e,t,r,i,u,c){return this.co(e,t,r,i,u)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+vi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ao(e,t){return`${this.ro}/v1/${t}:${eD[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){const u=sE();return new Promise((c,f)=>{const y=new TC;y.setWithCredentials(!0),y.listenOnce(l0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case X_.NO_ERROR:const T=y.getResponseJson();Re(ai,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),c(T);break;case X_.TIMEOUT:Re(ai,`RPC '${e}' ${u} timed out`),f(new Ae(ie.DEADLINE_EXCEEDED,"Request time out"));break;case X_.HTTP_ERROR:const x=y.getStatus();if(Re(ai,`RPC '${e}' ${u} failed with status:`,x,"response text:",y.getResponseText()),x>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const B=F?.error;if(B&&B.status&&B.message){const Z=function(re){const me=re.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(me)>=0?me:ie.UNKNOWN}(B.status);f(new Ae(Z,B.message))}else f(new Ae(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new Ae(ie.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Re(ai,`RPC '${e}' ${u} completed.`)}});const w=JSON.stringify(i);Re(ai,`RPC '${e}' ${u} sending request:`,i),y.send(t,"POST",w,r,15)})}wo(e,t,r){const i=sE(),u=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=CC(),f=u0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new tv({})),this.ho(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const w=u.join("");Re(ai,`Creating RPC '${e}' stream ${i}: ${w}`,y);const T=c.createWebChannel(w,y);let x=!1,F=!1;const B=new tD({Wr:re=>{F?Re(ai,`Not sending because RPC '${e}' stream ${i} is closed:`,re):(x||(Re(ai,`Opening RPC '${e}' stream ${i} transport.`),T.open(),x=!0),Re(ai,`RPC '${e}' stream ${i} sending:`,re),T.send(re))},Hr:()=>T.close()}),Z=(re,me,He)=>{re.listen(me,ct=>{try{He(ct)}catch(ht){setTimeout(()=>{throw ht},0)}})};return Z(T,hs.EventType.OPEN,()=>{F||Re(ai,`RPC '${e}' stream ${i} transport opened.`)}),Z(T,hs.EventType.CLOSE,()=>{F||(F=!0,Re(ai,`RPC '${e}' stream ${i} transport closed`),B.so())}),Z(T,hs.EventType.ERROR,re=>{F||(F=!0,za(ai,`RPC '${e}' stream ${i} transport errored:`,re),B.so(new Ae(ie.UNAVAILABLE,"The operation could not be completed")))}),Z(T,hs.EventType.MESSAGE,re=>{var me;if(!F){const He=re.data[0];ut(!!He);const ht=He.error||(null===(me=He[0])||void 0===me?void 0:me.error);if(ht){Re(ai,`RPC '${e}' stream ${i} received error:`,ht);const bt=ht.status;let Xt=function(Cn){const Ii=wr[Cn];if(void 0!==Ii)return Rv(Ii)}(bt),Kt=ht.message;void 0===Xt&&(Xt=ie.INTERNAL,Kt="Unknown error status: "+bt+" with message "+ht.message),F=!0,B.so(new Ae(Xt,Kt)),T.close()}else Re(ai,`RPC '${e}' stream ${i} received:`,He),B.io(He)}}),Z(f,FM.STAT_EVENT,re=>{re.stat===ev.PROXY?Re(ai,`RPC '${e}' stream ${i} detected buffering proxy`):re.stat===ev.NOPROXY&&Re(ai,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{B.no()},0),B}}function mp(){return typeof document<"u"?document:null}function Mc(n){return new eT(n,!0)}class rD{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Ws=e,this.timerId=t,this._o=r,this.mo=i,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class oE{constructor(e,t,r,i,u,c,f,y){this.Ws=e,this.bo=r,this.Po=i,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new rD(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,et.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,et.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var r=this;return(0,et.Z)(function*(){r.Bo(),r.Lo(),r.Co.cancel(),r.Vo++,4!==e?r.Co.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),r.Co.Eo()):t&&t.code===ie.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.Ko(r,i)},r=>{e(()=>{const i=new Ae(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,t){const r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){var e=this;this.state=5,this.Co.Ao((0,et.Z)(function*(){e.state=0,e.start()}))}Go(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aE extends oE{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=u}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function Tm(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:it(),i=e.targetChange.targetIds||[],u=function(y,w){return y.useProto3Json?(ut(void 0===w||"string"==typeof w),Nr.fromBase64String(w||"")):(ut(void 0===w||w instanceof Uint8Array),Nr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const w=void 0===y.code?ie.UNKNOWN:Rv(y.code);return new Ae(w,y.message||"")}(c);t=new Nv(r,i,u,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Go(n,r.document.name),u=Kn(r.document.updateTime),c=r.document.createTime?Kn(r.document.createTime):It.min(),f=new Pr({mapValue:{fields:r.document.fields}}),y=Fn.newFoundDocument(i,u,c,f);t=new sp(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=Go(n,r.document),u=r.readTime?Kn(r.readTime):It.min(),c=Fn.newNoDocument(i,u);t=new sp([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Go(n,r.document);t=new sp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return it();{const r=e.filter,u=new QC(r.count||0);t=new hI(r.targetId,u)}}var y;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return It.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?It.min():u.readTime?Kn(u.readTime):It.min()}(e);return this.listener.zo(t,r)}jo(e){const t={};t.database=ap(this.serializer),t.addTarget=function(i,u){let c;const f=u.target;return c=jf(f)?{documents:wI(i,f)}:{query:Sm(i,f)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=tT(i,u.resumeToken):u.snapshotVersion.compareTo(It.min())>0&&(c.readTime=op(i,u.snapshotVersion.toTimestamp())),c}(this.serializer,e);const r=function nT(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=ap(this.serializer),t.removeTarget=e,this.Fo(t)}}class bT extends oE{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=u,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function EI(n,e){return n&&n.length>0?(ut(void 0!==e),n.map(t=>function(r,i){let u=Kn(r.updateTime?r.updateTime:i);return u.isEqual(It.min())&&(u=Kn(i)),new ZC(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.Zo(r,t)}return ut(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=ap(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Ec(n,e){let t;if(e instanceof Ja)t={update:Cm(n,e.key,e.value)};else if(e instanceof yc)t={delete:vc(n,e.key)};else if(e instanceof Us)t={update:Cm(n,e.key,e.data),updateMask:iT(e.fieldMask)};else{if(!(e instanceof Xf))return it();t={verify:vc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof gc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Zu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ih)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof mc)return{fieldPath:u.field.canonicalString(),increment:c._t};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:pI(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:it()),t;var i}(this.serializer,r))};this.Fo(t)}}class CT extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new Ae(ie.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.co(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(ie.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.fo(e,t,r,u,c,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(ie.UNKNOWN,u.toString())})}terminate(){this.eu=!0}}class TT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(pr(t),this.ru=!1):Re("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class ST{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=u,this._u.qr(f=>{r.enqueueAndForget((0,et.Z)(function*(){var y;xc(c)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,et.Z)(function*(w){const T=Ze(w);T.du.add(4),yield _p(T),T.mu.set("Unknown"),T.du.delete(4),yield yp(T)}),function(w){return y.apply(this,arguments)})(c))}))}),this.mu=new TT(r,i)}}function yp(n){return sD.apply(this,arguments)}function sD(){return sD=(0,et.Z)(function*(n){if(xc(n))for(const e of n.wu)yield e(!0)}),sD.apply(this,arguments)}function _p(n){return oD.apply(this,arguments)}function oD(){return oD=(0,et.Z)(function*(n){for(const e of n.wu)yield e(!1)}),oD.apply(this,arguments)}function uE(n,e){const t=Ze(n);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),lD(t)?uD(t):Km(t).No()&&aD(t,e))}function vp(n,e){const t=Ze(n),r=Km(t);t.fu.delete(e),r.No()&&AT(t,e),0===t.fu.size&&(r.No()?r.$o():xc(t)&&t.mu.set("Unknown"))}function aD(n,e){n.gu.Ot(e.targetId),Km(n).jo(e)}function AT(n,e){n.gu.Ot(e),Km(n).Wo(e)}function uD(n){n.gu=new JC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.fu.get(e)||null}),Km(n).start(),n.mu.ou()}function lD(n){return xc(n)&&!Km(n).xo()&&n.fu.size>0}function xc(n){return 0===Ze(n).du.size}function MT(n){n.gu=void 0}function s(n){return o.apply(this,arguments)}function o(){return o=(0,et.Z)(function*(n){n.fu.forEach((e,t)=>{aD(n,e)})}),o.apply(this,arguments)}function a(n,e){return l.apply(this,arguments)}function l(){return l=(0,et.Z)(function*(n,e){MT(n),lD(n)?(n.mu.au(e),uD(n)):n.mu.set("Unknown")}),l.apply(this,arguments)}function d(n,e,t){return g.apply(this,arguments)}function g(){return g=(0,et.Z)(function*(n,e,t){if(n.mu.set("Online"),e instanceof Nv&&2===e.state&&e.cause)try{yield(r=(0,et.Z)(function*(i,u){const c=u.cause;for(const f of u.targetIds)i.fu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.fu.delete(f),i.gu.removeTarget(f))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _(n,r)}else if(e instanceof sp?n.gu.Kt(e):e instanceof hI?n.gu.Jt(e):n.gu.zt(e),!t.isEqual(It.min()))try{const r=yield HI(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.gu.Xt(u);return c.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.fu.get(y);w&&i.fu.set(y,w.withResumeToken(f.resumeToken,u))}}),c.targetMismatches.forEach(f=>{const y=i.fu.get(f);if(!y)return;i.fu.set(f,y.withResumeToken(Nr.EMPTY_BYTE_STRING,y.snapshotVersion)),AT(i,f);const w=new Xa(y.target,f,1,y.sequenceNumber);aD(i,w)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),yield _(n,r)}var r}),g.apply(this,arguments)}function _(n,e,t){return I.apply(this,arguments)}function I(){return I=(0,et.Z)(function*(n,e,t){if(!qa(e))throw e;n.du.add(1),yield _p(n),n.mu.set("Offline"),t||(t=()=>HI(n.localStore)),n.asyncQueue.enqueueRetryable((0,et.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield t(),n.du.delete(1),yield yp(n)}))}),I.apply(this,arguments)}function D(n,e){return e().catch(t=>_(n,t,e))}function S(n){return R.apply(this,arguments)}function R(){return R=(0,et.Z)(function*(n){const e=Ze(n),t=fh(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;O(e);)try{const i=yield JM(e.localStore,r);if(null===i){0===e.lu.length&&t.$o();break}r=i.batchId,z(e,i)}catch(i){yield _(e,i)}Q(e)&&he(e)}),R.apply(this,arguments)}function O(n){return xc(n)&&n.lu.length<10}function z(n,e){n.lu.push(e);const t=fh(n);t.No()&&t.Jo&&t.Yo(e.mutations)}function Q(n){return xc(n)&&!fh(n).xo()&&n.lu.length>0}function he(n){fh(n).start()}function Ve(n){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,et.Z)(function*(n){fh(n).tu()}),Ke.apply(this,arguments)}function ot(n){return At.apply(this,arguments)}function At(){return At=(0,et.Z)(function*(n){const e=fh(n);for(const t of n.lu)e.Yo(t.mutations)}),At.apply(this,arguments)}function Me(n,e,t){return Ft.apply(this,arguments)}function Ft(){return Ft=(0,et.Z)(function*(n,e,t){const r=n.lu.shift(),i=ep.from(r,e,t);yield D(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield S(n)}),Ft.apply(this,arguments)}function Bn(n,e){return Zn.apply(this,arguments)}function Zn(){return Zn=(0,et.Z)(function*(n,e){var t;e&&fh(n).Jo&&(yield(t=(0,et.Z)(function*(r,i){if(function dI(n){switch(n){default:return it();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}(u=i.code)&&u!==ie.ABORTED){const c=r.lu.shift();fh(r).Oo(),yield D(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield S(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),Q(n)&&he(n)}),Zn.apply(this,arguments)}function xT(n,e){return RT.apply(this,arguments)}function RT(){return RT=(0,et.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=xc(t);t.du.add(3),yield _p(t),r&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield yp(t)}),RT.apply(this,arguments)}function PT(){return PT=(0,et.Z)(function*(n,e){const t=Ze(n);e?(t.du.delete(2),yield yp(t)):e||(t.du.add(2),yield _p(t),t.mu.set("Unknown"))}),PT.apply(this,arguments)}function Km(n){return n.yu||(n.yu=function(e,t,r){const i=Ze(e);return i.nu(),new aE(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{Jr:s.bind(null,n),Zr:a.bind(null,n),zo:d.bind(null,n)}),n.wu.push(function(){var e=(0,et.Z)(function*(t){t?(n.yu.Oo(),lD(n)?uD(n):n.mu.set("Unknown")):(yield n.yu.stop(),MT(n))});return function(t){return e.apply(this,arguments)}}())),n.yu}function fh(n){return n.pu||(n.pu=function(e,t,r){const i=Ze(e);return i.nu(),new bT(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{Jr:Ve.bind(null,n),Zr:Bn.bind(null,n),Xo:ot.bind(null,n),Zo:Me.bind(null,n)}),n.wu.push(function(){var e=(0,et.Z)(function*(t){t?(n.pu.Oo(),yield S(n)):(yield n.pu.stop(),n.lu.length>0&&(Re("RemoteStore",`Stopping write stream with ${n.lu.length} pending writes`),n.lu=[]))});return function(t){return e.apply(this,arguments)}}())),n.pu}class OT{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,f=new OT(e,t,c,i,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(n,e){if(pr("AsyncQueue",`${e}: ${n}`),qa(n))return new Ae(ie.UNAVAILABLE,`${e}: ${n}`);throw n}class Ym{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=qf(),this.sortedSet=new tr(this.comparator)}static emptySet(e){return new Ym(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ym)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ym;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class ex{constructor(){this.Iu=new tr(Ye.comparator)}track(e){const t=e.doc.key,r=this.Iu.get(t);r?0!==e.type&&3===r.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==r.type?this.Iu=this.Iu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Iu=this.Iu.remove(t):1===e.type&&2===r.type?this.Iu=this.Iu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):it():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Qm{constructor(e,t,r,i,u,c,f,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,u){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Qm(e,t,Ym.emptySet(t),c,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class OP{constructor(){this.Eu=void 0,this.listeners=[]}}class kP{constructor(){this.queries=new Qa(e=>Z0(e),nh),this.onlineState="Unknown",this.Au=new Set}}function kT(n,e){return FT.apply(this,arguments)}function FT(){return FT=(0,et.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new OP),i)try{u.Eu=yield t.onListen(r)}catch(c){const f=Zm(c,`Initialization of query '${Tv(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.Ru(t.onlineState),u.Eu&&e.vu(u.Eu)&&UT(t)}),FT.apply(this,arguments)}function LT(n,e){return VT.apply(this,arguments)}function VT(){return VT=(0,et.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),VT.apply(this,arguments)}function FP(n,e){const t=Ze(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.vu(i)&&(r=!0);c.Eu=i}}r&&UT(t)}function LP(n,e,t){const r=Ze(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function UT(n){n.Au.forEach(e=>{e.next()})}class BT{constructor(e,t,r){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Qm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=Qm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class rx{constructor(e){this.key=e}}class ix{constructor(e){this.key=e}}class sx{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Ht(),this.mutatedKeys=Ht(),this.Ku=Sv(e),this.Gu=new Ym(this.Ku)}get Qu(){return this.Lu}zu(e,t){const r=t?t.ju:new ex,i=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,x)=>{const F=i.get(T),B=Gf(this.query,x)?x:null,Z=!!F&&this.mutatedKeys.has(F.key),re=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let me=!1;F&&B?F.data.isEqual(B.data)?Z!==re&&(r.track({type:3,doc:B}),me=!0):this.Wu(F,B)||(r.track({type:2,doc:B}),me=!0,(y&&this.Ku(B,y)>0||w&&this.Ku(B,w)<0)&&(f=!0)):!F&&B?(r.track({type:0,doc:B}),me=!0):F&&!B&&(r.track({type:1,doc:F}),me=!0,(y||w)&&(f=!0)),me&&(B?(c=c.add(B),u=re?u.add(T):u.delete(T)):(c=c.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{Gu:c,ju:r,Mi:f,mutatedKeys:u}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.ju.Tu();u.sort((w,T)=>function(x,F){const B=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return B(x)-B(F)}(w.type,T.type)||this.Ku(w.doc,T.doc)),this.Hu(r);const c=t?this.Ju():[],f=0===this.Uu.size&&this.current?1:0,y=f!==this.qu;return this.qu=f,0!==u.length||y?{snapshot:new Qm(this.query,e.Gu,i,u,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:c}:{Yu:c}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new ex,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=Ht(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const t=[];return e.forEach(r=>{this.Uu.has(r)||t.push(new ix(r))}),this.Uu.forEach(r=>{e.has(r)||t.push(new rx(r))}),t}Xu(e){this.Lu=e.Wi,this.Uu=Ht();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return Qm.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class BP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $P{constructor(e){this.key=e,this.ec=!1}}class jP{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new Qa(f=>Z0(f),nh),this.ic=new Map,this.rc=new Set,this.oc=new tr(Ye.comparator),this.uc=new Map,this.cc=new Xv,this.ac={},this.hc=new Map,this.lc=Tc.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function HP(n,e){return $T.apply(this,arguments)}function $T(){return $T=(0,et.Z)(function*(n,e){const t=function cS(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qP.bind(null,e),e.nc.zo=FP.bind(null,e.eventManager),e.nc.wc=LP.bind(null,e.eventManager),e}(n);let r,i;const u=t.sc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.tc();else{const c=yield function dp(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ds.getTargetData(r,e).next(u=>u?(i=u,ee.resolve(i)):t.Ds.allocateTargetId(r).next(c=>(i=new Xa(e,c,0,r.currentSequenceNumber),t.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Li.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Li=t.Li.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}(t.localStore,Ei(e));t.isPrimaryClient&&uE(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield function jT(n,e,t,r,i){return HT.apply(this,arguments)}(t,e,r,"current"===f,c.resumeToken)}return i}),$T.apply(this,arguments)}function HT(){return HT=(0,et.Z)(function*(n,e,t,r,i){n.dc=(x,F,B)=>{return(Z=(0,et.Z)(function*(re,me,He,ct){let ht=me.view.zu(He);ht.Mi&&(ht=yield Gm(re.localStore,me.query,!1).then(({documents:Kt})=>me.view.zu(Kt,ht)));const bt=ct&&ct.targetChanges.get(me.targetId),Xt=me.view.applyChanges(ht,re.isPrimaryClient,bt);return XT(re,me.targetId,Xt.Yu),Xt.snapshot}),function(re,me,He,ct){return Z.apply(this,arguments)})(n,x,F,B);var Z};const u=yield Gm(n.localStore,e,!0),c=new sx(e,u.Wi),f=c.zu(u.documents),y=oh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=c.applyChanges(f,n.isPrimaryClient,y);XT(n,t,w.Yu);const T=new BP(e,t,c);return n.sc.set(e,T),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),w.snapshot}),HT.apply(this,arguments)}function zP(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,et.Z)(function*(n,e){const t=Ze(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(u=>!nh(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield hp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),vp(t.remoteStore,r.targetId),Jm(t,r.targetId)}).catch(Ga))):(Jm(t,r.targetId),yield hp(t.localStore,r.targetId,!0))}),zT.apply(this,arguments)}function GT(){return GT=(0,et.Z)(function*(n,e,t){const r=function dS(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KP.bind(null,e),e}(n);try{const i=yield function(u,c){const f=Ze(u),y=Wn.now(),w=c.reduce((F,B)=>F.add(B.key),Ht());let T,x;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let B=es(),Z=Ht();return f.Ki.getEntries(F,w).next(re=>{B=re,B.forEach((me,He)=>{He.isValidDocument()||(Z=Z.add(me))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,B)).next(re=>{T=re;const me=[];for(const He of c){const ct=YC(He,T.get(He.key).overlayedDocument);null!=ct&&me.push(new Us(He.key,ct,V0(ct.value.mapValue),An.exists(!0)))}return f.mutationQueue.addMutationBatch(F,y,me,c)}).next(re=>{x=re;const me=re.applyToLocalDocumentSet(T,Z);return f.documentOverlayCache.saveOverlays(F,re.batchId,me)})}).then(()=>({batchId:x.batchId,changes:Q0(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,f){let y=u.ac[u.currentUser.toKey()];y||(y=new tr(Vt)),y=y.insert(c,f),u.ac[u.currentUser.toKey()]=y}(r,i.batchId,t),yield Rc(r,i.changes),yield S(r.remoteStore)}catch(i){const u=Zm(i,"Failed to persist write");t.reject(u)}}),GT.apply(this,arguments)}function ox(n,e){return qT.apply(this,arguments)}function qT(){return qT=(0,et.Z)(function*(n,e){const t=Ze(n);try{const r=yield function ET(n,e){const t=Ze(n),r=e.snapshotVersion;let i=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Ki.newChangeBuffer({trackRemovals:!0});i=t.Li;const f=[];e.targetChanges.forEach((T,x)=>{const F=i.get(x);if(!F)return;f.push(t.Ds.removeMatchingKeys(u,T.removedDocuments,x).next(()=>t.Ds.addMatchingKeys(u,T.addedDocuments,x)));let B=F.withSequenceNumber(u.currentSequenceNumber);var Z,re,me;e.targetMismatches.has(x)?B=B.withResumeToken(Nr.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,r)),i=i.insert(x,B),re=B,me=T,(0===(Z=F).resumeToken.approximateByteSize()||re.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&f.push(t.Ds.updateTargetData(u,B))});let y=es(),w=Ht();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),f.push(function wT(n,e,t){let r=Ht(),i=Ht();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=es();return t.forEach((f,y)=>{const w=u.get(f);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(It.min())?(e.removeEntry(f,y.readTime),c=c.insert(f,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),c=c.insert(f,y)):Re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",y.version)}),{zi:c,ji:i}})}(u,c,e.documentUpdates).next(T=>{y=T.zi,w=T.ji})),!r.isEqual(It.min())){const T=t.Ds.getLastRemoteSnapshotVersion(u).next(x=>t.Ds.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(T)}return ee.waitFor(f).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,y,w)).next(()=>y)}).then(u=>(t.Li=i,u))}(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.uc.get(u);c&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.ec=!0:i.modifiedDocuments.size>0?ut(c.ec):i.removedDocuments.size>0&&(ut(c.ec),c.ec=!1))}),yield Rc(t,r,e)}catch(r){yield Ga(r)}}),qT.apply(this,arguments)}function ax(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((u,c)=>{const f=c.view.Ru(e);f.snapshot&&i.push(f.snapshot)}),function(u,c){const f=Ze(u);f.onlineState=c;let y=!1;f.queries.forEach((w,T)=>{for(const x of T.listeners)x.Ru(c)&&(y=!0)}),y&&UT(f)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qP(n,e,t){return WT.apply(this,arguments)}function WT(){return WT=(0,et.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),u=i&&i.key;if(u){let c=new tr(Ye.comparator);c=c.insert(u,Fn.newNoDocument(u,It.min()));const f=Ht().add(u),y=new sh(It.min(),new Map,new vn(Vt),c,f);yield ox(r,y),r.oc=r.oc.remove(u),r.uc.delete(e),eS(r)}else yield hp(r.localStore,e,!1).then(()=>Jm(r,e,t)).catch(Ga)}),WT.apply(this,arguments)}function WP(n,e){return KT.apply(this,arguments)}function KT(){return KT=(0,et.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const i=yield function vT(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Ki.newChangeBuffer({trackRemovals:!0});return function(c,f,y,w){const T=y.batch,x=T.keys();let F=ee.resolve();return x.forEach(B=>{F=F.next(()=>w.getEntry(f,B)).next(Z=>{const re=y.docVersions.get(B);ut(null!==re),Z.version.compareTo(re)<0&&(T.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),w.addEntry(Z)))})}),F.next(()=>c.mutationQueue.removeMutationBatch(f,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Ht();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(f=f.add(c.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);JT(t,r,null),QT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Rc(t,i)}catch(i){yield Ga(i)}}),KT.apply(this,arguments)}function KP(n,e,t){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,et.Z)(function*(n,e,t){const r=Ze(n);try{const i=yield function(u,c){const f=Ze(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return f.mutationQueue.lookupMutationBatch(y,c).next(T=>(ut(null!==T),w=T.keys(),f.mutationQueue.removeMutationBatch(y,T))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,w,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>f.localDocuments.getDocuments(y,w))})}(r.localStore,e);JT(r,e,t),QT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Rc(r,i)}catch(i){yield Ga(i)}}),ZT.apply(this,arguments)}function QT(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function JT(n,e,t){const r=Ze(n);let i=r.ac[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function Jm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc.wc(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.hs(e).forEach(r=>{n.cc.containsKey(r)||ux(n,r)})}function ux(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(vp(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),eS(n))}function XT(n,e,t){for(const r of t)r instanceof rx?(n.cc.addReference(r.key,e),YP(n,r)):r instanceof ix?(Re("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||ux(n,r.key)):it()}function YP(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Re("SyncEngine","New document in limbo: "+t),n.rc.add(r),eS(n))}function eS(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Ye(on.fromString(e)),r=n.lc.next();n.uc.set(r,new $P(t)),n.oc=n.oc.insert(t,r),uE(n.remoteStore,new Xa(Ei(Ku(t.path)),r,2,Vi.ct))}}function Rc(n,e,t){return tS.apply(this,arguments)}function tS(){return tS=(0,et.Z)(function*(n,e,t){const r=Ze(n),i=[],u=[],c=[];var f;r.sc.isEmpty()||(r.sc.forEach((f,y)=>{c.push(r.dc(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const T=nE.Di(y.targetId,w);u.push(T)}}))}),yield Promise.all(c),r.nc.zo(i),yield(f=(0,et.Z)(function*(y,w){const T=Ze(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ee.forEach(w,F=>ee.forEach(F.Vi,B=>T.persistence.referenceDelegate.addReference(x,F.targetId,B)).next(()=>ee.forEach(F.Si,B=>T.persistence.referenceDelegate.removeReference(x,F.targetId,B)))))}catch(x){if(!qa(x))throw x;Re("LocalStore","Failed to update sequence numbers: "+x)}for(const x of w){const F=x.targetId;if(!x.fromCache){const B=T.Li.get(F),re=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);T.Li=T.Li.insert(F,re)}}}),function(y,w){return f.apply(this,arguments)})(r.localStore,u))}),tS.apply(this,arguments)}function QP(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,et.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=yield _T(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(c=>{c.forEach(f=>{f.reject(new Ae(ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Rc(t,r.Qi)}var i}),nS.apply(this,arguments)}function JP(n,e){const t=Ze(n),r=t.uc.get(e);if(r&&r.ec)return Ht().add(r.key);{let i=Ht();const u=t.ic.get(e);if(!u)return i;for(const c of u){const f=t.sc.get(c);i=i.unionWith(f.view.Qu)}return i}}class hS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,et.Z)(function*(){t.serializer=Mc(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function yT(n,e,t,r){return new QM(n,e,t,r)}(this.persistence,new jI,e.initialUser,this.serializer)}createPersistence(e){return new mT(cp.Fs,this.serializer)}createSharedClientState(e){return new iE}terminate(){var e=this;return(0,et.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xm{initialize(e,t){var r=this;return(0,et.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>ax(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=QP.bind(null,r.syncEngine),yield function NT(n,e){return PT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kP}createDatastore(e){const t=Mc(e.databaseInfo.databaseId),r=new DT(e.databaseInfo);return new CT(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=f=>ax(this.syncEngine,f,0),c=XI.D()?new XI:new IT,new ST(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,f,y,w){const T=new jP(r,i,u,c,f,y);return w&&(T.fc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,et.Z)(function*(t){const r=Ze(t);Re("RemoteStore","RemoteStore shutting down."),r.du.add(5),yield _p(r),r._u.shutdown(),r.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class cD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cO{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=bn.UNAUTHENTICATED,this.clientId=sv.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,et.Z)(function*(f){Re("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Re("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,et.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,et.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Zm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function dD(n,e){return fS.apply(this,arguments)}function fS(){return fS=(0,et.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,et.Z)(function*(u){r.isEqual(u)||(yield _T(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),fS.apply(this,arguments)}function pS(n,e){return gS.apply(this,arguments)}function gS(){return gS=(0,et.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function mS(n){return yS.apply(this,arguments)}(n);Re("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>xT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>xT(e.remoteStore,u)),n._onlineComponents=e}),gS.apply(this,arguments)}function yS(){return yS=(0,et.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function px(n){return"FirebaseError"===n.name?n.code===ie.FAILED_PRECONDITION||n.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;za("Error using user provided cache. Falling back to memory cache: "+t),yield dD(n,new hS)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),yield dD(n,new hS);return n._offlineComponents}),yS.apply(this,arguments)}function hD(n){return _S.apply(this,arguments)}function _S(){return _S=(0,et.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),yield pS(n,n._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),yield pS(n,new Xm))),n._onlineComponents}),_S.apply(this,arguments)}function ey(n){return ES.apply(this,arguments)}function ES(){return ES=(0,et.Z)(function*(n){const e=yield hD(n),t=e.eventManager;return t.onListen=HP.bind(null,e.syncEngine),t.onUnlisten=zP.bind(null,e.syncEngine),t}),ES.apply(this,arguments)}const Ex=new Map;function wS(n,e,t){if(!t)throw new Ae(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wx(n){if(!Ye.isDocumentKey(n))throw new Ae(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ix(n){if(Ye.isDocumentKey(n))throw new Ae(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pD(n);throw new Ae(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class bx{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function vO(n,e,t,r){if(!0===e&&!0===r)throw new Ae(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bx(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new AC;switch(t.type){case"firstParty":return new rm(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ae(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ex.get(e);t&&(Re("ComponentProvider","Removing Datastore"),Ex.delete(e),t.terminate())}(this),Promise.resolve()}}class kr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kr(this.firestore,e,this._key)}}class $i{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class nl extends $i{constructor(e,t,r){super(e,t,Ku(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kr(this.firestore,null,new Ye(e))}withConverter(e){return new nl(this.firestore,e,this._path)}}function gD(n,e,...t){if(n=(0,zr.m9)(n),wS("collection","path",e),n instanceof lE){const r=on.fromString(e,...t);return Ix(r),new nl(n,null,r)}{if(!(n instanceof kr||n instanceof nl))throw new Ae(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return Ix(r),new nl(n.firestore,null,r)}}function ty(n,e,...t){if(n=(0,zr.m9)(n),1===arguments.length&&(e=sv.A()),wS("doc","path",e),n instanceof lE){const r=on.fromString(e,...t);return wx(r),new kr(n,null,new Ye(r))}{if(!(n instanceof kr||n instanceof nl))throw new Ae(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return wx(r),new kr(n.firestore,n instanceof nl?n.converter:null,new Ye(r))}}class wO{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new rD(this,"async_queue_retry"),this.qc=()=>{const t=mp();t&&Re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=mp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=mp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new Er;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,et.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!qa(t))throw t;Re("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{throw this.Mc=r,this.Fc=!1,pr("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Fc=!1,r))));return this.Nc=t,t}enqueueAfterDelay(e,t,r){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const i=OT.createAndSchedule(this,e,t,r,u=>this.Qc(u));return this.$c.push(i),i}Uc(){this.Mc&&it()}verifyOperationInProgress(){}zc(){var e=this;return(0,et.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function IS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Yn extends lE{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new wO,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Sx(this),this._firestoreClient.terminate()}}function Tx(n,e){const t="object"==typeof n?n:(0,Fo.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Fo._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const u=(0,zr.P0)("firestore");u&&function EO(n,e,t,r={}){var i;const u=(n=un(n,lE))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&za("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=bn.MOCK_USER;else{c=(0,zr.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ae(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new bn(y)}n._authCredentials=new d0(new Mf(c,f))}}(i,...u)}return i}function Zr(n){return n._firestoreClient||Sx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Sx(n){var e,t,r;const i=n._freezeSettings(),u=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new VC(n._databaseId,f,n._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var f,w;n._firestoreClient=new cO(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ep{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ep(Nr.fromBase64String(e))}catch(t){throw new Ae(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ep(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ny{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class DS{constructor(e){this._methodName=e}}class bS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}const bO=/^__.*__$/;class CO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ja(e,this.data,t,this.fieldTransforms)}}class xx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Rx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class mD{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===u&&this.Jc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new mD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return _D(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(Rx(this.Yc)&&bO.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class TO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mc(e)}ua(e,t,r,i=!1){return new mD({Yc:e,methodName:t,oa:r,path:gr.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ry(n){const e=n._freezeSettings(),t=Mc(n._databaseId);return new TO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CS(n,e,t,r,i,u={}){const c=n.ua(u.merge||u.mergeFields?2:0,e,t,i);SS("Data must be an object, but it was:",c,r);const f=Fx(r,c);let y,w;if(u.merge)y=new Xi(c.fieldMask),w=c.fieldTransforms;else if(u.mergeFields){const T=[];for(const x of u.mergeFields){const F=hE(e,x,t);if(!c.contains(F))throw new Ae(ie.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);Vx(T,F)||T.push(F)}y=new Xi(T),w=c.fieldTransforms.filter(x=>y.covers(x.field))}else y=null,w=c.fieldTransforms;return new CO(new Pr(f),y,w)}class dE extends DS{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dE}}function wp(n,e){if(Lx(n=(0,zr.m9)(n)))return SS("Unsupported field value:",e,n),Fx(n,e);if(n instanceof DS)return function(t,r){if(!Rx(r.Yc))throw r.ia(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let f=wp(c,r.sa(u));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,zr.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return rh(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Wn.fromDate(t);return{timestampValue:op(r.serializer,i)}}if(t instanceof Wn){const i=new Wn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:op(r.serializer,i)}}if(t instanceof bS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ep)return{bytesValue:tT(r.serializer,t._byteString)};if(t instanceof kr){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ia(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:_c(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ia(`Unsupported field value: ${pD(t)}`)}(n,e)}function Fx(n,e){const t={};return Xd(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(n,(r,i)=>{const u=wp(i,e.Xc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function Lx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Wn||n instanceof bS||n instanceof Ep||n instanceof kr||n instanceof DS)}function SS(n,e,t){if(!Lx(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=pD(t);throw e.ia("an object"===r?n+" a custom object":n+" "+r)}var r}function hE(n,e,t){if((e=(0,zr.m9)(e))instanceof ny)return e._internalPath;if("string"==typeof e)return yD(n,e);throw _D("Field path arguments must be of type string or ",n,!1,void 0,t)}const xO=new RegExp("[~\\*/\\[\\]]");function yD(n,e,t){if(e.search(xO)>=0)throw _D(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ny(...e.split("."))._internalPath}catch{throw _D(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _D(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(u||c)&&(y+=" (found",u&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new Ae(ie.INVALID_ARGUMENT,f+n+y)}function Vx(n,e){return n.some(t=>t.isEqual(e))}class AS{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new kr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new RO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class RO extends AS{data(){return super.data()}}function vD(n,e){return"string"==typeof e?yD(n,e):e instanceof ny?e._internalPath:e._delegate._internalPath}function Ux(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ae(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MS{}class NO extends MS{}function ED(n,e,...t){let r=[];e instanceof MS&&r.push(e),r=r.concat(t),function(i){const u=i.filter(f=>f instanceof sy).length,c=i.filter(f=>f instanceof fE).length;if(u>1||u>0&&c>0)throw new Ae(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class fE extends NO{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new fE(e,t,r)}_apply(e){const t=this._parse(e);return zx(e._query,t),new $i(e.firestore,e.converter,vm(e._query,t))}_parse(e){const t=ry(e.firestore);return function(i,u,c,f,y,w,T){let x;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ae(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){Hx(T,w);const F=[];for(const B of T)F.push(jx(f,i,B));x={arrayValue:{values:F}}}else x=jx(f,i,T)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||Hx(T,w),x=function kx(n,e,t,r=!1){return wp(t,n.ua(r?4:3,e))}(c,"where",T,"in"===w||"not-in"===w);return sn.create(y,w,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function iy(n,e,t){const r=e,i=vD("where",n);return fE._create(i,r,t)}class sy extends MS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:En.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let u=r;const c=i.getFlattenedFilters();for(const f of c)zx(u,f),u=vm(u,f)}(e._query,t),new $i(e.firestore,e.converter,vm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Bx(...n){return n.forEach(e=>qx("and",e)),sy._create("and",n)}function jx(n,e,t){if("string"==typeof(t=(0,zr.m9)(t))){if(""===t)throw new Ae(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_m(e)&&-1!==t.indexOf("/"))throw new Ae(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(on.fromString(t));if(!Ye.isDocumentKey(r))throw new Ae(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hc(n,new Ye(r))}if(t instanceof kr)return hc(n,t._key);throw new Ae(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pD(t)}.`)}function Hx(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zx(n,e){if(e.isInequality()){const r=ym(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ae(ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const u=Hf(n);null!==u&&function Gx(n,e,t){if(!t.isEqual(e))throw new Ae(ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,u)}const t=function(r,i){for(const u of r)for(const c of u.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ae(ie.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function qx(n,e){if(!(e instanceof fE||e instanceof sy))throw new Ae(ie.INVALID_ARGUMENT,`Function ${n}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class OO{convertValue(e,t="none"){switch(lc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){const r={};return so(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new bS(mr(e.latitude),mr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=kf(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ff(e));default:return null}}convertTimestamp(e){const t=uc(e);return new Wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=on.fromString(e);ut(Vv(r));const i=new Gu(r.get(1),r.get(3)),u=new Ye(r.popFirst(5));return i.isEqual(t)||pr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}class Ip{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oy extends AS{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class bD extends oy{data(e={}){return super.data(e)}}class ay{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ip(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bD(this._firestore,this._userDataWriter,r.key,r,new Ip(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new bD(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ip(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new bD(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ip(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==c.type&&(y=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),w=u.indexOf(c.doc.key)),{type:FO(c.type),doc:f,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function FO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}class ph extends OO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ep(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kr(this.firestore,null,t)}}function Wx(n,e,t){n=un(n,kr);const r=un(n.firestore,Yn),i=function RS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return pE(r,[CS(ry(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,An.none())])}function NS(n,e,t,...r){n=un(n,kr);const i=un(n.firestore,Yn),u=ry(i);let c;return c="string"==typeof(e=(0,zr.m9)(e))||e instanceof ny?function Ox(n,e,t,r,i,u){const c=n.ua(1,e,t),f=[hE(e,r,t)],y=[i];if(u.length%2!=0)throw new Ae(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<u.length;F+=2)f.push(hE(e,u[F])),y.push(u[F+1]);const w=[],T=Pr.empty();for(let F=f.length-1;F>=0;--F)if(!Vx(w,f[F])){const B=f[F];let Z=y[F];Z=(0,zr.m9)(Z);const re=c.na(B);if(Z instanceof dE)w.push(B);else{const me=wp(Z,re);null!=me&&(w.push(B),T.set(B,me))}}const x=new Xi(w);return new xx(T,x,c.fieldTransforms)}(u,"updateDoc",n._key,e,t,r):function Px(n,e,t,r){const i=n.ua(1,e,t);SS("Data must be an object, but it was:",i,r);const u=[],c=Pr.empty();so(r,(y,w)=>{const T=yD(e,y,t);w=(0,zr.m9)(w);const x=i.na(T);if(w instanceof dE)u.push(T);else{const F=wp(w,x);null!=F&&(u.push(T),c.set(T,F))}});const f=new Xi(u);return new xx(c,f,i.fieldTransforms)}(u,"updateDoc",n._key,e),pE(i,[c.toMutation(n._key,An.exists(!0))])}function PS(n,...e){var t,r,i;n=(0,zr.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||IS(e[c])||(u=e[c],c++);const f={includeMetadataChanges:u.includeMetadataChanges};if(IS(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[c+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let y,w,T;if(n instanceof kr)w=un(n.firestore,Yn),T=Ku(n._key.path),y={next:x=>{e[c]&&e[c](function OS(n,e,t){const r=t.docs.get(e._key),i=new ph(n);return new oy(n,i,e._key,r,new Ip(t.hasPendingWrites,t.fromCache),e.converter)}(w,n,x))},error:e[c+1],complete:e[c+2]};else{const x=un(n,$i);w=un(x.firestore,Yn),T=x._query;const F=new ph(w);y={next:B=>{e[c]&&e[c](new ay(w,F,x,B))},error:e[c+1],complete:e[c+2]},Ux(n._query)}return function(x,F,B,Z){const re=new cD(Z),me=new BT(F,re,B);return x.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return kT(yield ey(x),me)})),()=>{re.yc(),x.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return LT(yield ey(x),me)}))}}(Zr(w),T,f,y)}function pE(n,e){return function(t,r){const i=new Er;return t.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return function GP(n,e,t){return GT.apply(this,arguments)}(yield function vS(n){return hD(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Zr(n),e)}!function(n,e=!0){vi=Fo.SDK_VERSION,(0,Fo._registerComponent)(new Dg.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),c=new Yn(new h0(t.getProvider("auth-internal")),new f0(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ae(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(f.options.projectId,y)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Fo.registerVersion)(c0,"3.10.1",n),(0,Fo.registerVersion)(c0,"3.10.1","esm2017")}();class kS{constructor(e){return e}}const Zx="firestore",FS=new h.OlP("angularfire2.firestore-instances"),YO={provide:class WO{constructor(){return(0,Bu.vb)(Zx)}},deps:[[new h.FiY,FS]]},QO={provide:kS,useFactory:function KO(n,e){const t=(0,Bu.JM)(Zx,n,e);return t&&new kS(t)},deps:[[new h.FiY,FS],class nf{constructor(e){return e}}]};let Yx=(()=>{class n{constructor(){(0,tf.KN)("angularfire",Bu.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[QO,YO]}),n})();var gh=k(7579),JO=k(6451),TD=k(5363);function wi(n,e){return(0,Yi.e)((t,r)=>{let i=null,u=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,On.x)(r,y=>{i?.unsubscribe();let w=0;const T=u++;(0,Au.Xf)(n(y,T)).subscribe(i=(0,On.x)(r,x=>r.next(e?e(y,x,T,w++):x),()=>{i=null,f()}))},()=>{c=!0,f()}))})}var XO=k(6063);class ek extends gh.x{constructor(e=1/0,t=1/0,r=XO.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)f=y;f&&r.splice(0,f+1)}}}var tk=k(3099);function Qx(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,tk.B)({connector:()=>new ek(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const SD=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var mh=k(515);function uy(n){return n<=0?()=>mh.E:(0,Yi.e)((e,t)=>{let r=0;e.subscribe((0,On.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function AD(n){return(0,Yi.e)((e,t)=>{let r=!1;e.subscribe((0,On.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Jx(n=rk){return(0,Yi.e)((e,t)=>{let r=!1;e.subscribe((0,On.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function rk(){return new SD}var MD=k(4671);function Nc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xs((i,u)=>n(i,u,r)):MD.y,uy(1),t?AD(e):Jx(()=>new SD))}function Xx(n,e){return(0,Ky.m)(e)?wi(()=>n,e):wi(()=>n)}var LS=k(9468);const VS=new Map,eR={activated:!1,tokenObservers:[]},ik={initialized:!1,enabled:!1};function Fr(n){return VS.get(n)||Object.assign({},eR)}function xD(){return ik}const US="https://content-firebaseappcheck.googleapis.com/v1",uk="exchangeDebugToken",tR={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ck{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,et.Z)(function*(){t.stop();try{t.pending=new zr.BH,yield function dk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new zr.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ji=new zr.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function jS(){return jS=(0,et.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,u)}catch(x){throw ji.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==c.status)throw ji.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(x){throw ji.create("fetch-parse-error",{originalErrorMessage:x?.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw ji.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(y[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+w,issuedAtTimeMillis:T}}),jS.apply(this,arguments)}const mk="firebase-app-check-database",yk=1,gE="firebase-app-check-store";let PD=null;function HS(){return HS=(0,et.Z)(function*(n,e){const r=(yield function iR(){return PD||(PD=new Promise((n,e)=>{try{const t=indexedDB.open(mk,yk);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ji.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(gE,{keyPath:"compositeKey"})}}catch(t){e(ji.create("storage-open",{originalErrorMessage:t?.message}))}}),PD)}()).transaction(gE,"readwrite"),u=r.objectStore(gE).put({compositeKey:n,value:e});return new Promise((c,f)=>{u.onsuccess=y=>{c()},r.onerror=y=>{var w;f(ji.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),HS.apply(this,arguments)}const mE=new cs.Yd("@firebase/app-check");function qS(n,e){return(0,zr.hl)()?function vk(n,e){return function sR(n,e){return HS.apply(this,arguments)}(function aR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{mE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function KS(){return KS=(0,et.Z)(function*(){const n=xD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),KS.apply(this,arguments)}const Ck={error:"UNKNOWN_ERROR"};function Tk(n){return zr.US.encodeString(JSON.stringify(n),!1)}function OD(n){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,et.Z)(function*(n,e=!1){const t=n.app;!function nR(n){if(!Fr(n).activated)throw ji.create("use-before-activation",{appName:n.name})}(t);const r=Fr(t);let u,i=r.token;if(i&&!ly(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(ly(y)?i=y:yield qS(t,void 0))}if(!e&&i&&ly(i))return{token:i.token};let f,c=!1;if(function uR(){return xD().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function $S(n,e){return jS.apply(this,arguments)}(function gk(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${US}/projects/${t}/apps/${r}:${uk}?key=${i}`,body:{debug_token:e}}}(t,yield function lR(){return KS.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const y=yield r.exchangeTokenPromise;return yield qS(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Fr(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?mE.warn(y.message):mE.error(y),u=y}return i?u?f=ly(i)?{token:i.token,internalError:u}:hR(u):(f={token:i.token},r.token=i,yield qS(t,i)):f=hR(u),c&&function dR(n,e){const t=Fr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f}),ZS.apply(this,arguments)}function QS(n,e){const t=Fr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function cR(n){const{app:e}=n,t=Fr(e);let r=t.tokenRefresher;r||(r=function Sk(n){const{app:e}=n;return new ck((0,et.Z)(function*(){let r;if(r=Fr(e).token?yield OD(n,!0):yield OD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Fr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},tR.RETRIAL_MIN_WAIT,tR.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ly(n){return n.expireTimeMillis-Date.now()>0}function hR(n){return{token:Tk(Ck),error:n}}class Ak{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Fr(this.app);for(const t of e)QS(this.app,t.next);return Promise.resolve()}}const ER="app-check-internal";!function jk(){(0,Fo._registerComponent)(new Dg.wA("app-check",n=>function Mk(n,e){return new Ak(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ER).initialize()})),(0,Fo._registerComponent)(new Dg.wA(ER,n=>function xk(n){return{getToken:e=>OD(n,e),addTokenListener:e=>function YS(n,e,t,r){const{app:i}=n,u=Fr(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&ly(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),cR(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>cR(n))}(n,"INTERNAL",e),removeTokenListener:e=>QS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Fo.registerVersion)("@firebase/app-check","0.6.5")}();class IR{constructor(){return(0,Bu.vb)("app-check")}}typeof window<"u"&&window;var Wk=k(9260);const Zk=new h.OlP("angularfire2.auth.use-emulator"),Yk=new h.OlP("angularfire2.auth.settings"),Qk=new h.OlP("angularfire2.auth.tenant-id"),Jk=new h.OlP("angularfire2.auth.langugage-code"),Xk=new h.OlP("angularfire2.auth.use-device-language"),e1=new h.OlP("angularfire.auth.persistence");let DR=(()=>{class n{constructor(t,r,i,u,c,f,y,w,T,x,F,B){const Z=new gh.x,re=wt(void 0).pipe((0,TD.Q)(c.outsideAngular),wi(()=>u.runOutsideAngular(()=>k.e(568).then(k.bind(k,9568)))),(0,kt.U)(()=>(0,Uu.on)(t,u,r)),(0,kt.U)(me=>((n,e,t,r,i,u,c,f)=>(0,Uu.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,u&&y.useDeviceLanguage(),c)for(const[w,T]of Object.entries(c))y.settings[w]=T;return f&&y.setPersistence(f),y},[t,r,i,u,c,f]))(me,u,f,w,T,x,y,F)),Qx({bufferSize:1,refCount:!1}));if(function cu(n){return"server"===n}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=wt(null);else{re.pipe(Nc()).subscribe();const He=re.pipe(wi(bt=>bt.getRedirectResult().then(Xt=>Xt,()=>null)),Bu.iC,Qx({bufferSize:1,refCount:!1})),ct=re.pipe(wi(bt=>new Gn.y(Xt=>({unsubscribe:u.runOutsideAngular(()=>bt.onAuthStateChanged(Kt=>Xt.next(Kt),Kt=>Xt.error(Kt),()=>Xt.complete()))})))),ht=re.pipe(wi(bt=>new Gn.y(Xt=>({unsubscribe:u.runOutsideAngular(()=>bt.onIdTokenChanged(Kt=>Xt.next(Kt),Kt=>Xt.error(Kt),()=>Xt.complete()))}))));this.authState=He.pipe(Xx(ct),(0,LS.R)(c.outsideAngular),(0,TD.Q)(c.insideAngular)),this.user=He.pipe(Xx(ht),(0,LS.R)(c.outsideAngular),(0,TD.Q)(c.insideAngular)),this.idToken=this.user.pipe(wi(bt=>bt?(0,Jt.D)(bt.getIdToken()):wt(null))),this.idTokenResult=this.user.pipe(wi(bt=>bt?(0,Jt.D)(bt.getIdTokenResult()):wt(null))),this.credential=(0,JO.T)(He,Z,this.authState.pipe(Xs(bt=>!bt))).pipe((0,kt.U)(bt=>bt?.user?bt:null),(0,LS.R)(c.outsideAngular),(0,TD.Q)(c.insideAngular))}return(0,Uu.pX)(this,re,u,{spy:{apply:(me,He,ct)=>{(me.startsWith("signIn")||me.startsWith("createUser"))&&ct.then(ht=>Z.next(ht))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Uu.Dh),h.LFG(Uu.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Bu.HU),h.LFG(Zk,8),h.LFG(Yk,8),h.LFG(Qk,8),h.LFG(Jk,8),h.LFG(Xk,8),h.LFG(e1,8),h.LFG(IR,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),n1=(()=>{class n{constructor(){Wk.Z.registerVersion("angularfire",Bu.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[DR]}),n})();const nA_firebaseConfig={apiKey:"AIzaSyCcyrXNP5AEjXxgPNRlSfeHlocU7Vy8ni8",authDomain:"discuss-4e370.firebaseapp.com",projectId:"discuss-4e370",storageBucket:"discuss-4e370.appspot.com",messagingSenderId:"666798415646",appId:"1:666798415646:web:dd0b54f8736f704119f30f"};class bR{}class r1{}const Pc="*";function i1(n,e){return{type:7,name:n,definitions:e,options:{}}}function CR(n,e=null){return{type:4,styles:e,timings:n}}function TR(n,e=null){return{type:2,steps:n,options:e}}function FD(n){return{type:6,styles:n,offset:null}}function SR(n,e,t){return{type:0,name:n,styles:e,options:t}}function AR(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function MR(n){Promise.resolve().then(n)}class yE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){MR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class xR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?MR(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==u&&this._onFinish()}),c.onDestroy(()=>{++r==u&&this._onDestroy()}),c.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const rA="!";function RR(n){return new h.vHH(3e3,!1)}function U1(){return typeof window<"u"&&typeof window.document<"u"}function iA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function yh(n){switch(n.length){case 0:return new yE;case 1:return n[0];default:return new xR(n)}}function NR(n,e,t,r,i=new Map,u=new Map){const c=[],f=[];let y=-1,w=null;if(r.forEach(T=>{const x=T.get("offset"),F=x==y,B=F&&w||new Map;T.forEach((Z,re)=>{let me=re,He=Z;if("offset"!==re)switch(me=e.normalizePropertyName(me,c),He){case rA:He=i.get(re);break;case Pc:He=u.get(re);break;default:He=e.normalizeStyleValue(re,me,He,c)}B.set(me,He)}),F||f.push(B),w=B,y=x}),c.length)throw function S1(n){return new h.vHH(3502,!1)}();return f}function sA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&oA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&oA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&oA(t,"destroy",n)))}}function oA(n,e,t){const u=aA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(u._data=c),u}function aA(n,e,t,r,i="",u=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!c}}function ao(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function PR(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let uA=(n,e)=>!1,OR=(n,e,t)=>[],kR=null;function lA(n){const e=n.parentNode||n.host;return e===kR?null:e}(iA()||typeof Element<"u")&&(U1()?(kR=(()=>document.documentElement)(),uA=(n,e)=>{for(;e;){if(e===n)return!0;e=lA(e)}return!1}):uA=(n,e)=>n.contains(e),OR=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Dp=null,FR=!1;const LR=uA,VR=OR;let UR=(()=>{class n{validateStyleProperty(t){return function $1(n){Dp||(Dp=function j1(){return typeof document<"u"?document.body:null}()||{},FR=!!Dp.style&&"WebkitAppearance"in Dp.style);let e=!0;return Dp.style&&!function B1(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Dp.style,!e&&FR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Dp.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return LR(t,r)}getParentElement(t){return lA(t)}query(t,r,i){return VR(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,c,f=[],y){return new yE(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),cA=(()=>{class n{}return n.NOOP=new UR,n})();const H1=1e3,dA="ng-enter",LD="ng-leave",VD="ng-trigger",UD=".ng-trigger",$R="ng-animating",hA=".ng-animating";function Oc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fA(parseFloat(e[1]),e[2])}function fA(n,e){return"s"===e?n*H1:n}function BD(n,e,t){return n.hasOwnProperty("duration")?n:function G1(n,e,t){let i,u=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(RR()),{duration:0,delay:0,easing:""};i=fA(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(u=fA(parseFloat(y),f[4]));const w=f[5];w&&(c=w)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function s1(){return new h.vHH(3100,!1)}()),f=!0),u<0&&(e.push(function o1(){return new h.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,RR())}return{duration:i,delay:u,easing:c}}(n,e,t)}function _E(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function jR(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function _h(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function zR(n,e,t){return t?e+":"+t+";":""}function GR(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=zR(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=zR(0,Z1(t),n.style[t]));n.setAttribute("style",e)}function rl(n,e,t){n.style&&(e.forEach((r,i)=>{const u=gA(i);t&&!t.has(i)&&t.set(i,n.style[u]),n.style[u]=r}),iA()&&GR(n))}function bp(n,e){n.style&&(e.forEach((t,r)=>{const i=gA(r);n.style[i]=""}),iA()&&GR(n))}function vE(n){return Array.isArray(n)?1==n.length?n[0]:TR(n):n}const pA=new RegExp("{{\\s*(.+?)\\s*}}","g");function qR(n){let e=[];if("string"==typeof n){let t;for(;t=pA.exec(n);)e.push(t[1]);pA.lastIndex=0}return e}function EE(n,e,t){const r=n.toString(),i=r.replace(pA,(u,c)=>{let f=e[c];return null==f&&(t.push(function u1(n){return new h.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function $D(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const K1=/-+([a-z0-9])/g;function gA(n){return n.replace(K1,(...e)=>e[1].toUpperCase())}function Z1(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function uo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function l1(n){return new h.vHH(3004,!1)}()}}function WR(n,e){return window.getComputedStyle(n)[e]}const zD="*";function tF(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function nF(n,e,t){if(":"==n[0]){const y=function rF(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function D1(n){return new h.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function I1(n){return new h.vHH(3015,!1)}()),e;const i=r[1],u=r[2],c=r[3];e.push(KR(i,c));"<"==u[0]&&!(i==zD&&c==zD)&&e.push(KR(c,i))}(r,t,e)):t.push(n),t}const GD=new Set(["true","1"]),qD=new Set(["false","0"]);function KR(n,e){const t=GD.has(n)||qD.has(n),r=GD.has(e)||qD.has(e);return(i,u)=>{let c=n==zD||n==i,f=e==zD||e==u;return!c&&t&&"boolean"==typeof i&&(c=i?GD.has(n):qD.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?GD.has(e):qD.has(e)),c&&f}}const iF=new RegExp("s*:selfs*,?","g");function mA(n,e,t,r){return new sF(n).build(e,t,r)}class sF{constructor(e){this._driver=e}build(e,t,r){const i=new uF(t);return this._resetContextStyleTimingState(i),uo(this,vE(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function d1(){return new h.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,w=y.name;w.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,u.push(this.visitState(y,t))}),y.name=w}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,c.push(y)}else t.errors.push(function h1(){return new h.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,c=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{qR(y).forEach(w=>{c.hasOwnProperty(w)||u.add(w)})})}),u.size&&($D(u.values()),t.errors.push(function f1(n,e){return new h.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=uo(this,vE(e.animation),t);return{type:1,matchers:tF(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Cp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>uo(this,r,t)),options:Cp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(c=>{t.currentTime=r;const f=uo(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:u,options:Cp(e.options)}}visitAnimate(e,t){const r=function cF(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return yA(BD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=yA(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=BD(t,e);return yA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:FD({});if(5==u.type)i=this.visitKeyframes(u,t);else{let c=e.styles,f=!1;if(!c){f=!0;const w={};r.easing&&(w.easing=r.easing),c=FD(w)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(c,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Pc?r.push(f):t.errors.push(new h.vHH(3002,!1)):r.push(jR(f));let u=!1,c=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!u))for(let y of f.values())if(y.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),T=w.get(y);let x=!0;T&&(u!=i&&u>=T.startTime&&i<=T.endTime&&(t.errors.push(function g1(n,e,t,r,i){return new h.vHH(3010,!1)}()),x=!1),u=T.startTime),x&&w.set(y,{startTime:u,endTime:i}),t.options&&function W1(n,e,t){const r=e.params||{},i=qR(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function a1(n){return new h.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function m1(){return new h.vHH(3011,!1)}()),r;let u=0;const c=[];let f=!1,y=!1,w=0;const T=e.steps.map(He=>{const ct=this._makeStyleAst(He,t);let ht=null!=ct.offset?ct.offset:function lF(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ct.styles),bt=0;return null!=ht&&(u++,bt=ct.offset=ht),y=y||bt<0||bt>1,f=f||bt<w,w=bt,c.push(bt),ct});y&&t.errors.push(function y1(){return new h.vHH(3012,!1)}()),f&&t.errors.push(function _1(){return new h.vHH(3200,!1)}());const x=e.steps.length;let F=0;u>0&&u<x?t.errors.push(function v1(){return new h.vHH(3202,!1)}()):0==u&&(F=1/(x-1));const B=x-1,Z=t.currentTime,re=t.currentAnimateTimings,me=re.duration;return T.forEach((He,ct)=>{const ht=F>0?ct==B?1:F*ct:c[ct],bt=ht*me;t.currentTime=Z+re.delay+bt,re.duration=bt,this._validateStyleAst(He,t),He.offset=ht,r.styles.push(He)}),r}visitReference(e,t){return{type:8,animation:uo(this,vE(e.animation),t),options:Cp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Cp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Cp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,c]=function oF(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(iF,"")),n=n.replace(/@\*/g,UD).replace(/@\w+/g,t=>UD+"-"+t.slice(1)).replace(/:animating/g,hA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,ao(t.collectedStyles,t.currentQuerySelector,new Map);const f=uo(this,vE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:Cp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function E1(){return new h.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:BD(e.timings,t.errors,!0);return{type:12,animation:uo(this,vE(e.animation),t),timings:r,options:null}}}class uF{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cp(n){return n?(n=_E(n)).params&&(n.params=function aF(n){return n?_E(n):null}(n.params)):n={},n}function yA(n,e,t){return{duration:n,delay:e,easing:t}}function _A(n,e,t,r,i,u,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:c,subTimeline:f}}class WD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const fF=new RegExp(":enter","g"),gF=new RegExp(":leave","g");function vA(n,e,t,r,i,u=new Map,c=new Map,f,y,w=[]){return(new mF).buildKeyframes(n,e,t,r,i,u,c,f,y,w)}class mF{buildKeyframes(e,t,r,i,u,c,f,y,w,T=[]){w=w||new WD;const x=new EA(e,t,w,i,u,T,[]);x.options=y;const F=y.delay?Oc(y.delay):0;x.currentTimeline.delayNextStep(F),x.currentTimeline.setStyles([c],null,x.errors,y),uo(this,r,x);const B=x.timelines.filter(Z=>Z.containsAnimation());if(B.length&&f.size){let Z;for(let re=B.length-1;re>=0;re--){const me=B[re];if(me.element===t){Z=me;break}}Z&&!Z.allowOnlyTimelineStyles()&&Z.setStyles([f],null,x.errors,y)}return B.length?B.map(Z=>Z.buildKeyframes()):[_A(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);u!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const u=i?.delay;if(u){const c="number"==typeof u?u:Oc(EE(u,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const c=null!=r.duration?Oc(r.duration):null,f=null!=r.delay?Oc(r.delay):null;return 0!==c&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,c,f);u=Math.max(u,w.duration+w.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),uo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=KD);const c=Oc(u.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>uo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Oc(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),uo(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return BD(t.params?EE(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*u),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?Oc(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=KD);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((w,T)=>{t.currentQueryIndex=T;const x=t.createSubContext(e.options,w);u&&x.delayNextStep(u),w===t.element&&(y=x.currentTimeline),uo(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,c=Math.abs(u.duration),f=c*(t.currentQueryTotal-1);let y=c*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const T=t.currentTimeline;y&&T.delayNextStep(y);const x=T.currentTime;uo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const KD={};class EA{constructor(e,t,r,i,u,c,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=KD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new ZD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Oc(r.duration)),null!=r.delay&&(i.delay=Oc(r.delay));const u=r.params;if(u){let c=i.params;c||(c=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=EE(u[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new EA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=KD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new yF(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(fF,"."+this._enterClassName)).replace(gF,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!u&&0==f.length&&c.push(function w1(n){return new h.vHH(3014,!1)}()),f}}class ZD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ZD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Pc),this._currentKeyframe.set(t,Pc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},c=function _F(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let u of r)t.set(u,Pc)}else _h(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of c){const w=EE(y,u,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Pc),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const w=_h(f,new Map,this._backFill);w.forEach((T,x)=>{T===rA?e.add(x):T===Pc&&t.add(x)}),r||w.set("offset",y/this.duration),i.push(w)});const u=e.size?$D(e.values()):[],c=t.size?$D(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return _A(this.element,i,u,c,this.duration,this.startTime,this.easing,!1)}}class yF extends ZD{constructor(e,t,r,i,u,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],c=r+t,f=t/c,y=_h(e[0]);y.set("offset",0),u.push(y);const w=_h(e[0]);w.set("offset",QR(f)),u.push(w);const T=e.length-1;for(let x=1;x<=T;x++){let F=_h(e[x]);const B=F.get("offset");F.set("offset",QR((t+B*r)/c)),u.push(F)}r=c,t=0,i="",e=u}return _A(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function QR(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class wA{}const vF=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class EF extends wA{normalizePropertyName(e,t){return gA(e)}normalizeStyleValue(e,t,r,i){let u="";const c=r.toString().trim();if(vF.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function c1(n,e){return new h.vHH(3005,!1)}())}return c+u}}function JR(n,e,t,r,i,u,c,f,y,w,T,x,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:c,timelines:f,queriedElements:y,preStyleProps:w,postStyleProps:T,totalTime:x,errors:F}}const IA={};class XR{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function wF(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,u,c,f,y,w,T){const x=[],F=this.ast.options&&this.ast.options.params||IA,Z=this.buildStyles(r,f&&f.params||IA,x),re=y&&y.params||IA,me=this.buildStyles(i,re,x),He=new Set,ct=new Map,ht=new Map,bt="void"===i,Xt={params:IF(re,F),delay:this.ast.options?.delay},Kt=T?[]:vA(e,t,this.ast.animation,u,c,Z,me,Xt,w,x);let Cn=0;if(Kt.forEach(Fc=>{Cn=Math.max(Fc.duration+Fc.delay,Cn)}),x.length)return JR(t,this._triggerName,r,i,bt,Z,me,[],[],ct,ht,Cn,x);Kt.forEach(Fc=>{const Lc=Fc.element,SP=ao(ct,Lc,new Set);Fc.preStyleProps.forEach(Mp=>SP.add(Mp));const UE=ao(ht,Lc,new Set);Fc.postStyleProps.forEach(Mp=>UE.add(Mp)),Lc!==t&&He.add(Lc)});const Ii=$D(He.values());return JR(t,this._triggerName,r,i,bt,Z,me,Kt,Ii,ct,ht,Cn)}}function IF(n,e){const t=_E(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class DF{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=_E(this.defaultParams);return Object.keys(e).forEach(u=>{const c=e[u];null!==c&&(i[u]=c)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((c,f)=>{c&&(c=EE(c,i,t));const y=this.normalizer.normalizePropertyName(f,t);c=this.normalizer.normalizeStyleValue(f,y,c,t),r.set(f,c)})}),r}}class CF{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new DF(i.style,i.options&&i.options.params||{},r))}),eN(this.states,"true","1"),eN(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new XR(e,i,this.states))}),this.fallbackTransition=function TF(n,e,t){return new XR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function eN(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const SF=new WD;class AF{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],u=mA(this._driver,t,r,i);if(r.length)throw function A1(n){return new h.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const i=e.element,u=NR(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations.get(e);let c;const f=new Map;if(u?(c=vA(this._driver,t,u,dA,LD,new Map,new Map,r,SF,i),c.forEach(T=>{const x=ao(f,T.element,new Map);T.postStyleProps.forEach(F=>x.set(F,null))})):(i.push(function M1(){return new h.vHH(3300,!1)}()),c=[]),i.length)throw function x1(n){return new h.vHH(3504,!1)}();f.forEach((T,x)=>{T.forEach((F,B)=>{T.set(B,this._driver.computeStyle(x,B,Pc))})});const w=yh(c.map(T=>{const x=f.get(T.element);return this._buildPlayer(T,new Map,x)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function R1(n){return new h.vHH(3301,!1)}();return t}listen(e,t,r,i){const u=aA(t,"","","");return sA(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const tN="ng-animate-queued",DA="ng-animate-disabled",PF=[],nN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},OF={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wo="__ng_removed";class bA{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function VF(n){return n??null}(r?e.value:e),r){const u=_E(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const wE="void",CA=new bA(wE);class kF{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ko(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function N1(n,e){return new h.vHH(3302,!1)}();if(null==r||0==r.length)throw function P1(n){return new h.vHH(3303,!1)}();if(!function UF(n){return"start"==n||"done"==n}(r))throw function O1(n,e){return new h.vHH(3400,!1)}();const u=ao(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};u.push(c);const f=ao(this._engine.statesByElement,e,new Map);return f.has(t)||(Ko(e,VD),Ko(e,VD+"-"+t),f.set(t,CA)),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(c);y>=0&&u.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function k1(n){return new h.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),c=new TA(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ko(e,VD),Ko(e,VD+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const w=new bA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),f.set(t,w),y||(y=CA),w.value!==wE&&y.value===w.value){if(!function jF(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(y.params,w.params)){const re=[],me=u.matchStyles(y.value,y.params,re),He=u.matchStyles(w.value,w.params,re);re.length?this._engine.reportError(re):this._engine.afterFlush(()=>{bp(e,me),rl(e,He)})}return}const F=ao(this._engine.playersByElement,e,[]);F.forEach(re=>{re.namespaceId==this.id&&re.triggerName==t&&re.queued&&re.destroy()});let B=u.matchTransition(y.value,w.value,e,w.params),Z=!1;if(!B){if(!i)return;B=u.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:y,toState:w,player:c,isFallbackTransition:Z}),Z||(Ko(e,tN),c.onStart(()=>{cy(e,tN)})),c.onDone(()=>{let re=this.players.indexOf(c);re>=0&&this.players.splice(re,1);const me=this._engine.playersByElement.get(e);if(me){let He=me.indexOf(c);He>=0&&me.splice(He,1)}}),this.players.push(c),F.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,UD,!0);r.forEach(i=>{if(i[Wo])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),c=new Map;if(u){const f=[];if(u.forEach((y,w)=>{if(c.set(w,y.value),this._triggers.has(w)){const T=this.trigger(e,w,wE,i);T&&f.push(T)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&yh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const c=u.name;if(i.has(c))return;i.add(c);const y=this._triggers.get(c).fallbackTransition,w=r.get(c)||CA,T=new bA(wE),x=new TA(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:y,fromState:w,toState:T,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Wo];(!u||u===nN)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ko(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,c=this._elementListeners.get(u);c&&c.forEach(f=>{if(f.name==r.triggerName){const y=aA(u,r.triggerName,r.fromState.value,r.toState.value);y._data=e,sA(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==u||0==c?u-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class FF{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new kF(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const w=r.indexOf(y);r.splice(w+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const u=this._fetchNamespace(i.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,i){if(YD(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!YD(t))return;const u=t[Wo];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ko(e,DA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),cy(e,DA))}removeNode(e,t,r,i){if(YD(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[Wo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return YD(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,UD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,hA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return yh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Wo];if(t&&t.setForRemoval){if(e[Wo]=nN,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(DA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ko(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?yh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function F1(n){return new h.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new WD,i=[],u=new Map,c=[],f=new Map,y=new Map,w=new Map,T=new Set;this.disabledNodes.forEach(gt=>{T.add(gt);const Nt=this.driver.query(gt,".ng-animate-queued",!0);for(let Lt=0;Lt<Nt.length;Lt++)T.add(Nt[Lt])});const x=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=sN(F,this.collectedEnterElements),Z=new Map;let re=0;B.forEach((gt,Nt)=>{const Lt=dA+re++;Z.set(Nt,Lt),gt.forEach(hn=>Ko(hn,Lt))});const me=[],He=new Set,ct=new Set;for(let gt=0;gt<this.collectedLeaveElements.length;gt++){const Nt=this.collectedLeaveElements[gt],Lt=Nt[Wo];Lt&&Lt.setForRemoval&&(me.push(Nt),He.add(Nt),Lt.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(hn=>He.add(hn)):ct.add(Nt))}const ht=new Map,bt=sN(F,Array.from(He));bt.forEach((gt,Nt)=>{const Lt=LD+re++;ht.set(Nt,Lt),gt.forEach(hn=>Ko(hn,Lt))}),e.push(()=>{B.forEach((gt,Nt)=>{const Lt=Z.get(Nt);gt.forEach(hn=>cy(hn,Lt))}),bt.forEach((gt,Nt)=>{const Lt=ht.get(Nt);gt.forEach(hn=>cy(hn,Lt))}),me.forEach(gt=>{this.processLeaveNode(gt)})});const Xt=[],Kt=[];for(let gt=this._namespaceList.length-1;gt>=0;gt--)this._namespaceList[gt].drainQueuedTransitions(t).forEach(Lt=>{const hn=Lt.player,Di=Lt.element;if(Xt.push(hn),this.collectedEnterElements.length){const rs=Di[Wo];if(rs&&rs.setForMove){if(rs.previousTriggersValues&&rs.previousTriggersValues.has(Lt.triggerName)){const xp=rs.previousTriggersValues.get(Lt.triggerName),Yo=this.statesByElement.get(Lt.element);if(Yo&&Yo.has(Lt.triggerName)){const Eb=Yo.get(Lt.triggerName);Eb.value=xp,Yo.set(Lt.triggerName,Eb)}}return void hn.destroy()}}const ol=!x||!this.driver.containsElement(x,Di),ho=ht.get(Di),Dh=Z.get(Di),yr=this._buildInstruction(Lt,r,Dh,ho,ol);if(yr.errors&&yr.errors.length)return void Kt.push(yr);if(ol)return hn.onStart(()=>bp(Di,yr.fromStyles)),hn.onDestroy(()=>rl(Di,yr.toStyles)),void i.push(hn);if(Lt.isFallbackTransition)return hn.onStart(()=>bp(Di,yr.fromStyles)),hn.onDestroy(()=>rl(Di,yr.toStyles)),void i.push(hn);const xP=[];yr.timelines.forEach(rs=>{rs.stretchStartingKeyframe=!0,this.disabledNodes.has(rs.element)||xP.push(rs)}),yr.timelines=xP,r.append(Di,yr.timelines),c.push({instruction:yr,player:hn,element:Di}),yr.queriedElements.forEach(rs=>ao(f,rs,[]).push(hn)),yr.preStyleProps.forEach((rs,xp)=>{if(rs.size){let Yo=y.get(xp);Yo||y.set(xp,Yo=new Set),rs.forEach((Eb,oM)=>Yo.add(oM))}}),yr.postStyleProps.forEach((rs,xp)=>{let Yo=w.get(xp);Yo||w.set(xp,Yo=new Set),rs.forEach((Eb,oM)=>Yo.add(oM))})});if(Kt.length){const gt=[];Kt.forEach(Nt=>{gt.push(function L1(n,e){return new h.vHH(3505,!1)}())}),Xt.forEach(Nt=>Nt.destroy()),this.reportError(gt)}const Cn=new Map,Ii=new Map;c.forEach(gt=>{const Nt=gt.element;r.has(Nt)&&(Ii.set(Nt,Nt),this._beforeAnimationBuild(gt.player.namespaceId,gt.instruction,Cn))}),i.forEach(gt=>{const Nt=gt.element;this._getPreviousPlayers(Nt,!1,gt.namespaceId,gt.triggerName,null).forEach(hn=>{ao(Cn,Nt,[]).push(hn),hn.destroy()})});const Fc=me.filter(gt=>aN(gt,y,w)),Lc=new Map;iN(Lc,this.driver,ct,w,Pc).forEach(gt=>{aN(gt,y,w)&&Fc.push(gt)});const UE=new Map;B.forEach((gt,Nt)=>{iN(UE,this.driver,new Set(gt),y,rA)}),Fc.forEach(gt=>{const Nt=Lc.get(gt),Lt=UE.get(gt);Lc.set(gt,new Map([...Array.from(Nt?.entries()??[]),...Array.from(Lt?.entries()??[])]))});const Mp=[],AP=[],MP={};c.forEach(gt=>{const{element:Nt,player:Lt,instruction:hn}=gt;if(r.has(Nt)){if(T.has(Nt))return Lt.onDestroy(()=>rl(Nt,hn.toStyles)),Lt.disabled=!0,Lt.overrideTotalTime(hn.totalTime),void i.push(Lt);let Di=MP;if(Ii.size>1){let ho=Nt;const Dh=[];for(;ho=ho.parentNode;){const yr=Ii.get(ho);if(yr){Di=yr;break}Dh.push(ho)}Dh.forEach(yr=>Ii.set(yr,Di))}const ol=this._buildAnimation(Lt.namespaceId,hn,Cn,u,UE,Lc);if(Lt.setRealPlayer(ol),Di===MP)Mp.push(Lt);else{const ho=this.playersByElement.get(Di);ho&&ho.length&&(Lt.parentPlayer=yh(ho)),i.push(Lt)}}else bp(Nt,hn.fromStyles),Lt.onDestroy(()=>rl(Nt,hn.toStyles)),AP.push(Lt),T.has(Nt)&&i.push(Lt)}),AP.forEach(gt=>{const Nt=u.get(gt.element);if(Nt&&Nt.length){const Lt=yh(Nt);gt.setRealPlayer(Lt)}}),i.forEach(gt=>{gt.parentPlayer?gt.syncPlayerEvents(gt.parentPlayer):gt.destroy()});for(let gt=0;gt<me.length;gt++){const Nt=me[gt],Lt=Nt[Wo];if(cy(Nt,LD),Lt&&Lt.hasAnimation)continue;let hn=[];if(f.size){let ol=f.get(Nt);ol&&ol.length&&hn.push(...ol);let ho=this.driver.query(Nt,hA,!0);for(let Dh=0;Dh<ho.length;Dh++){let yr=f.get(ho[Dh]);yr&&yr.length&&hn.push(...yr)}}const Di=hn.filter(ol=>!ol.destroyed);Di.length?BF(this,Nt,Di):this.processLeaveNode(Nt)}return me.length=0,Mp.forEach(gt=>{this.players.push(gt),gt.onDone(()=>{gt.destroy();const Nt=this.players.indexOf(gt);this.players.splice(Nt,1)}),gt.play()}),Mp}elementContainsData(e,t){let r=!1;const i=t[Wo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const y=!u||u==wE;f.forEach(w=>{w.queued||!y&&w.triggerName!=i||c.push(w)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const u=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,T=w!==u,x=ao(r,w,[]);this._getPreviousPlayers(w,T,c,f,t.toState).forEach(B=>{const Z=B.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),B.destroy(),x.push(B)})}bp(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,c){const f=t.triggerName,y=t.element,w=[],T=new Set,x=new Set,F=t.timelines.map(Z=>{const re=Z.element;T.add(re);const me=re[Wo];if(me&&me.removedBeforeQueried)return new yE(Z.duration,Z.delay);const He=re!==y,ct=function $F(n){const e=[];return oN(n,e),e}((r.get(re)||PF).map(Cn=>Cn.getRealPlayer())).filter(Cn=>!!Cn.element&&Cn.element===re),ht=u.get(re),bt=c.get(re),Xt=NR(0,this._normalizer,0,Z.keyframes,ht,bt),Kt=this._buildPlayer(Z,Xt,ct);if(Z.subTimeline&&i&&x.add(re),He){const Cn=new TA(e,f,re);Cn.setRealPlayer(Kt),w.push(Cn)}return Kt});w.forEach(Z=>{ao(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function LF(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Z.element,Z))}),T.forEach(Z=>Ko(Z,$R));const B=yh(F);return B.onDestroy(()=>{T.forEach(Z=>cy(Z,$R)),rl(y,t.toStyles)}),x.forEach(Z=>{ao(i,Z,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new yE(e.duration,e.delay)}}class TA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new yE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>sA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ao(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function YD(n){return n&&1===n.nodeType}function rN(n,e){const t=n.style.display;return n.style.display=e??"none",t}function iN(n,e,t,r,i){const u=[];t.forEach(y=>u.push(rN(y)));const c=[];r.forEach((y,w)=>{const T=new Map;y.forEach(x=>{const F=e.computeStyle(w,x,i);T.set(x,F),(!F||0==F.length)&&(w[Wo]=OF,c.push(w))}),n.set(w,T)});let f=0;return t.forEach(y=>rN(y,u[f++])),c}function sN(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=1,i=new Set(e),u=new Map;function c(f){if(!f)return r;let y=u.get(f);if(y)return y;const w=f.parentNode;return y=t.has(w)?w:i.has(w)?r:c(w),u.set(f,y),y}return e.forEach(f=>{const y=c(f);y!==r&&t.get(y).push(f)}),t}function Ko(n,e){n.classList?.add(e)}function cy(n,e){n.classList?.remove(e)}function BF(n,e,t){yh(t).onDone(()=>n.processLeaveNode(e))}function oN(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof xR?oN(r.players,e):e.push(r)}}function aN(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class QD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new FF(e,t,r),this._timelineEngine=new AF(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const y=[],w=[],T=mA(this._driver,u,y,w);if(y.length)throw function T1(n,e){return new h.vHH(3404,!1)}();f=function bF(n,e,t){return new CF(n,e,t)}(i,T,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,c]=PR(r);this._timelineEngine.command(u,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[c,f]=PR(r);return this._timelineEngine.listen(c,t,f,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let zF=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&rl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rl(this._element,this._initialStyles),this._endStyles&&(rl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(bp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bp(this._element,this._endStyles),this._endStyles=null),rl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function SA(n){let e=null;return n.forEach((t,r)=>{(function GF(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class uN{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:WR(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class qF{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return LR(e,t)}getParentElement(e){return lA(e)}query(e,t,r){return VR(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,c=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(y.easing=u);const w=new Map,T=c.filter(B=>B instanceof uN);(function Y1(n,e){return 0===n||0===e})(r,i)&&T.forEach(B=>{B.currentSnapshot.forEach((Z,re)=>w.set(re,Z))});let x=function q1(n){return n.length?n[0]instanceof Map?n:n.map(e=>jR(e)):[]}(t).map(B=>_h(B));x=function Q1(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((u,c)=>{r.has(c)||i.push(c),r.set(c,u)}),i.length)for(let u=1;u<e.length;u++){let c=e[u];i.forEach(f=>c.set(f,WR(n,f)))}}return e}(e,x,w);const F=function HF(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=SA(e[0]),e.length>1&&(r=SA(e[e.length-1]))):e instanceof Map&&(t=SA(e)),t||r?new zF(n,t,r):null}(e,x);return new uN(e,x,y,F)}}let WF=(()=>{class n extends bR{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?TR(t):t;return lN(this._renderer,null,r,"register",[i]),new KF(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(ae))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class KF extends r1{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new ZF(this._id,e,t||{},this._renderer)}}class ZF{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return lN(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function lN(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const cN="@.disabled";let YF=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,c)=>{const f=c?.parentNode(u);f&&c.removeChild(f,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(u);return T||(T=new dN("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,T)),T}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(c,f,t,T.name,T)};return r.data.animation.forEach(y),new QF(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[c,f]=u;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(QD),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class dN{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?u=>t.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==cN?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class QF extends dN{constructor(e,t,r,i,u){super(t,r,i,u),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==cN?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function JF(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),c="";return"@"!=u.charAt(0)&&([u,c]=function XF(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let eL=(()=>{class n extends QD{constructor(t,r,i,u){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ae),h.LFG(cA),h.LFG(wA),h.LFG(h.z2F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const hN=[{provide:bR,useClass:WF},{provide:wA,useFactory:function tL(){return new EF}},{provide:QD,useClass:eL},{provide:h.FYo,useFactory:function nL(n,e,t){return new YF(n,e,t)},deps:[Co,QD,h.R0b]}],AA=[{provide:cA,useFactory:()=>new qF},{provide:h.QbO,useValue:"BrowserAnimations"},...hN],fN=[{provide:cA,useClass:UR},{provide:h.QbO,useValue:"NoopAnimations"},...hN];let rL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?fN:AA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:AA,imports:[To]}),n})();class ru extends gh.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var iL=k(9672);function pN(...n){const e=(0,xo.yG)(n),t=(0,xo.jO)(n),{args:r,keys:i}=Ll(n);if(0===r.length)return(0,Jt.D)([],e);const u=new Gn.y(function sL(n,e,t=MD.y){return r=>{gN(e,()=>{const{length:i}=n,u=new Array(i);let c=i,f=i;for(let y=0;y<i;y++)gN(e,()=>{const w=(0,Jt.D)(n[y],e);let T=!1;w.subscribe((0,On.x)(r,x=>{u[y]=x,T||(T=!0,f--),f||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Aa(i,c):MD.y));return t?u.pipe($r(t)):u}function gN(n,e,t){n?(0,iL.f)(t,n,e):e()}var IE=k(8189);function MA(...n){return function oL(){return(0,IE.J)(1)}()((0,Jt.D)(n,(0,xo.yG)(n)))}function mN(n){return new Gn.y(e=>{(0,Au.Xf)(n()).subscribe(e)})}var aL=k(9635);function DE(n,e){const t=(0,Ky.m)(n)?n:()=>n,r=i=>i.error(t());return new Gn.y(e?i=>e.schedule(r,0,i):r)}var yN=k(727);function xA(){return(0,Yi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,On.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class _N extends Gn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Yi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yN.w0;const t=this.getSubject();e.add(this.source.subscribe((0,On.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yN.w0.EMPTY)}return e}refCount(){return xA()(this)}}var ns=k(8505);function vh(n){return(0,Yi.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,On.x)(t,void 0,void 0,c=>{u=(0,Au.Xf)(n(c,vh(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function vN(n,e){return(0,Yi.e)(function lL(n,e,t,r,i){return(u,c)=>{let f=t,y=e,w=0;u.subscribe((0,On.x)(c,T=>{const x=w++;y=f?n(y,T,x):(f=!0,T),r&&c.next(y)},i&&(()=>{f&&c.next(y),c.complete()})))}}(n,e,arguments.length>=2,!0))}function RA(n){return n<=0?()=>mh.E:(0,Yi.e)((e,t)=>{let r=[];e.subscribe((0,On.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function EN(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xs((i,u)=>n(i,u,r)):MD.y,RA(1),t?AD(e):Jx(()=>new SD))}function NA(n){return(0,Yi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Wt="primary",bE=Symbol("RouteTitle");class hL{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function dy(n){return new hL(n)}function fL(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],f=n[u];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function il(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!wN(n[i],e[i]))return!1;return!0}function wN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function IN(n){return Array.prototype.concat.apply([],n)}function DN(n){return n.length>0?n[n.length-1]:null}function Hi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Eh(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,Jt.D)(Promise.resolve(n)):wt(n)}const XD=!1,gL={exact:function TN(n,e,t){if(!Tp(n.segments,e.segments)||!eb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!TN(n.children[r],e.children[r],t))return!1;return!0},subset:SN},bN={exact:function mL(n,e){return il(n,e)},subset:function yL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>wN(n[t],e[t]))},ignored:()=>!0};function CN(n,e,t){return gL[t.paths](n.root,e.root,t.matrixParams)&&bN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function SN(n,e,t){return AN(n,e,e.segments,t)}function AN(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Tp(i,t)||e.hasChildren()||!eb(i,t,r))}if(n.segments.length===t.length){if(!Tp(n.segments,t)||!eb(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!SN(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Tp(n.segments,i)&&eb(n.segments,i,r)&&n.children[Wt])&&AN(n.children[Wt],e,u,r)}}function eb(n,e,t){return e.every((r,i)=>bN[t](n[i].parameters,r.parameters))}class wh{constructor(e=new nn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dy(this.queryParams)),this._queryParamMap}toString(){return EL.serialize(this)}}class nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Hi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tb(this)}}class CE{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=dy(this.parameters)),this._parameterMap}toString(){return RN(this)}}function Tp(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let TE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new PA},providedIn:"root"}),n})();class PA{parse(e){const t=new ML(e);return new wh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${SE(e.root,!0)}`,r=function DL(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${nb(t)}=${nb(i)}`).join("&"):`${nb(t)}=${nb(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function wL(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const EL=new PA;function tb(n){return n.segments.map(e=>RN(e)).join("/")}function SE(n,e){if(!n.hasChildren())return tb(n);if(e){const t=n.children[Wt]?SE(n.children[Wt],!1):"",r=[];return Hi(n.children,(i,u)=>{u!==Wt&&r.push(`${u}:${SE(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function vL(n,e){let t=[];return Hi(n.children,(r,i)=>{i===Wt&&(t=t.concat(e(r,i)))}),Hi(n.children,(r,i)=>{i!==Wt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Wt?[SE(n.children[Wt],!1)]:[`${i}:${SE(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Wt]?`${tb(n)}/${t[0]}`:`${tb(n)}/(${t.join("//")})`}}function MN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nb(n){return MN(n).replace(/%3B/gi,";")}function OA(n){return MN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rb(n){return decodeURIComponent(n)}function xN(n){return rb(n.replace(/\+/g,"%20"))}function RN(n){return`${OA(n.path)}${function IL(n){return Object.keys(n).map(e=>`;${OA(e)}=${OA(n[e])}`).join("")}(n.parameters)}`}const bL=/^[^\/()?;=#]+/;function ib(n){const e=n.match(bL);return e?e[0]:""}const CL=/^[^=?&#]+/,SL=/^[^&#]+/;class ML{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Wt]=new nn(e,t)),r}parseSegment(){const e=ib(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,XD);return this.capture(e),new CE(rb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ib(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ib(this.remaining);i&&(r=i,this.capture(r))}e[rb(t)]=rb(r)}parseQueryParam(e){const t=function TL(n){const e=n.match(CL);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function AL(n){const e=n.match(SL);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=xN(t),u=xN(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ib(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,XD);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Wt);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Wt]:new nn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,XD)}}function kA(n){return n.segments.length>0?new nn([],{[Wt]:n}):n}function sb(n){const e={};for(const r of Object.keys(n.children)){const u=sb(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function xL(n){if(1===n.numberOfChildren&&n.children[Wt]){const e=n.children[Wt];return new nn(n.segments.concat(e.segments),e.children)}return n}(new nn(n.segments,e))}function Sp(n){return n instanceof wh}const FA=!1;function RL(n,e,t,r,i){if(0===t.length)return hy(e.root,e.root,e.root,r,i);const u=function FN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new kN(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return Hi(u.outlets,(y,w)=>{f[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,u]},[]);return new kN(t,e,r)}(t);return u.toRoot()?hy(e.root,e.root,new nn([],{}),r,i):function c(y){const w=function PL(n,e,t,r){if(n.isAbsolute)return new fy(e.root,!0,0);if(-1===r)return new fy(t,t===e.root,0);return function LN(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new h.vHH(4005,FA&&"Invalid number of '../'");i=r.segments.length}return new fy(r,!1,i-u)}(t,r+(AE(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,y),T=w.processChildren?py(w.segmentGroup,w.index,u.commands):LA(w.segmentGroup,w.index,u.commands);return hy(e.root,w.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function AE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ME(n){return"object"==typeof n&&null!=n&&n.outlets}function hy(n,e,t,r,i){let c,u={};r&&Hi(r,(y,w)=>{u[w]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),c=n===e?t:ON(n,e,t);const f=kA(sb(c));return new wh(f,u,i)}function ON(n,e,t){const r={};return Hi(n.children,(i,u)=>{r[u]=i===e?t:ON(i,e,t)}),new nn(n.segments,r)}class kN{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&AE(r[0]))throw new h.vHH(4003,FA&&"Root segment cannot have matrix parameters");const i=r.find(ME);if(i&&i!==DN(r))throw new h.vHH(4004,FA&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function LA(n,e,t){if(n||(n=new nn([],{})),0===n.segments.length&&n.hasChildren())return py(n,e,t);const r=function kL(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],f=t[r];if(ME(f))break;const y=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!UN(y,w,c))return u;r+=2}else{if(!UN(y,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new nn(n.segments.slice(0,r.pathIndex),{});return u.children[Wt]=new nn(n.segments.slice(r.pathIndex),n.children),py(u,0,i)}return r.match&&0===i.length?new nn(n.segments,{}):r.match&&!n.hasChildren()?VA(n,e,t):r.match?py(n,0,i):VA(n,e,t)}function py(n,e,t){if(0===t.length)return new nn(n.segments,{});{const r=function OL(n){return ME(n[0])?n[0].outlets:{[Wt]:n}}(t),i={};if(!r[Wt]&&n.children[Wt]&&1===n.numberOfChildren&&0===n.children[Wt].segments.length){const u=py(n.children[Wt],e,t);return new nn(n.segments,u.children)}return Hi(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=LA(n.children[c],e,u))}),Hi(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new nn(n.segments,i)}}function VA(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(ME(u)){const y=FL(u.outlets);return new nn(r,y)}if(0===i&&AE(t[0])){r.push(new CE(n.segments[e].path,VN(t[0]))),i++;continue}const c=ME(u)?u.outlets[Wt]:`${u}`,f=i<t.length-1?t[i+1]:null;c&&f&&AE(f)?(r.push(new CE(c,VN(f))),i+=2):(r.push(new CE(c,{})),i++)}return new nn(r,{})}function FL(n){const e={};return Hi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=VA(new nn([],{}),0,t))}),e}function VN(n){const e={};return Hi(n,(t,r)=>e[r]=`${t}`),e}function UN(n,e,t){return n==t.path&&il(e,t.parameters)}const xE="imperative";class sl{constructor(e,t){this.id=e,this.url=t}}class UA extends sl{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ap extends sl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ob extends sl{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ab extends sl{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class BA extends sl{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class LL extends sl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VL extends sl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UL extends sl{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class BL extends sl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $L extends sl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jL{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class HL{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zL{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GL{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qL{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WL{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BN{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let YL=(()=>{class n{createUrlTree(t,r,i,u,c,f){return RL(t||r.root,i,u,c,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),JL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(e){return YL.\u0275fac(e)},providedIn:"root"}),n})();class $N{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=$A(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=$A(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=jA(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jA(e,this._root).map(t=>t.value)}}function $A(n,e){if(n===e.value)return e;for(const t of e.children){const r=$A(n,t);if(r)return r}return null}function jA(n,e){if(n===e.value)return[e];for(const t of e.children){const r=jA(n,t);if(r.length)return r.unshift(e),r}return[]}class kc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function gy(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class jN extends $N{constructor(e,t){super(e),this.snapshot=t,HA(this,e)}toString(){return this.snapshot.toString()}}function HN(n,e){const t=function XL(n,e){const c=new ub([],{},{},"",{},Wt,e,null,n.root,-1,{});return new GN("",new kc(c,[]))}(n,e),r=new ru([new CE("",{})]),i=new ru({}),u=new ru({}),c=new ru({}),f=new ru(""),y=new my(r,i,c,f,u,Wt,e,t.root);return y.snapshot=t.root,new jN(new kc(y,[]),t)}class my{constructor(e,t,r,i,u,c,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,kt.U)(w=>w[bE]))??wt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,kt.U)(e=>dy(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,kt.U)(e=>dy(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zN(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function eV(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ub{get title(){return this.data?.[bE]}constructor(e,t,r,i,u,c,f,y,w,T,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=f,this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=T,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GN extends $N{constructor(e,t){super(t),this.url=e,HA(this,t)}toString(){return qN(this._root)}}function HA(n,e){e.value._routerState=n,e.children.forEach(t=>HA(n,t))}function qN(n){const e=n.children.length>0?` { ${n.children.map(qN).join(", ")} } `:"";return`${n.value}${e}`}function zA(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,il(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),il(e.params,t.params)||n.params.next(t.params),function pL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!il(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),il(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function GA(n,e){const t=il(n.params,e.params)&&function _L(n,e){return Tp(n,e)&&n.every((t,r)=>il(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||GA(n.parent,e.parent))}function RE(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function nV(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return RE(n,r,i);return RE(n,r)})}(n,e,t);return new kc(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>RE(n,f)),c}}const r=function rV(n){return new my(new ru(n.url),new ru(n.params),new ru(n.queryParams),new ru(n.fragment),new ru(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>RE(n,u));return new kc(r,i)}}const qA="ngNavigationCancelingError";function WN(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Sp(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=KN(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function KN(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[qA]=!0,r.cancellationCode=e,t&&(r.url=t),r}function ZN(n){return YN(n)&&Sp(n.url)}function YN(n){return n&&n[qA]}class iV{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new NE,this.attachRef=null}}let NE=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new iV,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lb=!1;let QN=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(NE),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,lb);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,lb);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,lb);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,lb);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new sV(t,f,i.injector);if(r&&function oV(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(c);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(c,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class sV{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===my?this.route:e===NE?this.childContexts:this.parent.get(e,t)}}let WA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[QN],encapsulation:2}),n})();function JN(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ZA(n){const e=n.children&&n.children.map(ZA),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Wt&&(t.component=WA),t}function Zo(n){return n.outlet||Wt}function XN(n,e){const t=n.filter(r=>Zo(r)===e);return t.push(...n.filter(r=>Zo(r)!==e)),t}function PE(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class dV{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),zA(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=gy(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),Hi(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=gy(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=gy(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=gy(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new WL(u.value.snapshot))}),e.children.length&&this.forwardEvent(new GL(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(zA(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),zA(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=PE(i.snapshot),y=f?.get(h._Vd)??null;c.attachRef=null,c.route=i,c.resolver=y,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class eP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class cb{constructor(e,t){this.component=e,this.route=t}}function hV(n,e,t){const r=n._root;return OE(r,e?e._root:null,t,[r.value])}function yy(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function OE(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=gy(e);return n.children.forEach(c=>{(function pV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const y=function gV(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Tp(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Tp(n.url,e.url)||!il(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!GA(n,e)||!il(n.queryParams,e.queryParams);default:return!GA(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new eP(r)):(u.data=c.data,u._resolvedData=c._resolvedData),OE(n,e,u.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new cb(f.outlet.component,c))}else c&&kE(e,f,i),i.canActivateChecks.push(new eP(r)),OE(n,null,u.component?f?f.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),Hi(u,(c,f)=>kE(c,t.getContext(f),i)),i}function kE(n,e,t){const r=gy(n),i=n.value;Hi(r,(u,c)=>{kE(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new cb(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function FE(n){return"function"==typeof n}function YA(n){return n instanceof SD||"EmptyError"===n?.name}const db=Symbol("INITIAL_VALUE");function _y(){return wi(n=>pN(n.map(e=>e.pipe(uy(1),function uL(...n){const e=(0,xo.yG)(n);return(0,Yi.e)((t,r)=>{(e?MA(n,t,e):MA(n,t)).subscribe(r)})}(db)))).pipe((0,kt.U)(e=>{for(const t of e)if(!0!==t){if(t===db)return db;if(!1===t||t instanceof wh)return t}return!0}),Xs(e=>e!==db),uy(1)))}function tP(n){return(0,aL.z)((0,ns.b)(e=>{if(Sp(e))throw WN(0,e)}),(0,kt.U)(e=>!0===e))}const QA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nP(n,e,t,r,i){const u=JA(n,e,t);return u.matched?function NV(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?wt(i.map(c=>{const f=yy(c,n);return Eh(function wV(n){return n&&FE(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(_y(),tP()):wt(!0)}(r=JN(e,r),e,t).pipe((0,kt.U)(c=>!0===c?u:{...QA})):wt(u)}function JA(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...QA}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||fL)(t,n,e);if(!i)return{...QA};const u={};Hi(i.posParams,(f,y)=>{u[y]=f.path});const c=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function hb(n,e,t,r){if(t.length>0&&function kV(n,e,t){return t.some(r=>fb(n,e,r)&&Zo(r)!==Wt)}(n,t,r)){const u=new nn(e,function OV(n,e,t,r){const i={};i[Wt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Zo(u)!==Wt){const c=new nn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Zo(u)]=c}return i}(n,e,r,new nn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function FV(n,e,t){return t.some(r=>fb(n,e,r))}(n,t,r)){const u=new nn(n.segments,function PV(n,e,t,r,i){const u={};for(const c of r)if(fb(n,t,c)&&!i[Zo(c)]){const f=new nn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,u[Zo(c)]=f}return{...i,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const i=new nn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function fb(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function rP(n,e,t,r){return!!(Zo(n)===r||r!==Wt&&fb(e,t,n))&&("**"===n.path||JA(e,n,t).matched)}function iP(n,e,t){return 0===e.length&&!n.children[t]}const pb=!1;class gb{constructor(e){this.segmentGroup=e||null}}class sP{constructor(e){this.urlTree=e}}function LE(n){return DE(new gb(n))}function oP(n){return DE(new sP(n))}function LV(n){return DE(new h.vHH(4e3,pb&&`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class BV{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=hb(this.urlTree.root,[],[],this.config).segmentGroup,t=new nn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Wt).pipe((0,kt.U)(u=>this.createUrlTree(sb(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vh(u=>{if(u instanceof sP)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof gb?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Wt).pipe((0,kt.U)(i=>this.createUrlTree(sb(i),e.queryParams,e.fragment))).pipe(vh(i=>{throw i instanceof gb?this.noMatchError(i):i}))}noMatchError(e){return new h.vHH(4002,pb&&`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=kA(e);return new wh(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,kt.U)(u=>new nn([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Jt.D)(i).pipe(ku(u=>{const c=r.children[u],f=XN(t,u);return this.expandSegmentGroup(e,f,c,u).pipe((0,kt.U)(y=>({segment:y,outlet:u})))}),vN((u,c)=>(u[c.outlet]=c.segment,u),{}),EN())}expandSegment(e,t,r,i,u,c){return(0,Jt.D)(r).pipe(ku(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,u,c).pipe(vh(w=>{if(w instanceof gb)return wt(null);throw w}))),Nc(f=>!!f),vh((f,y)=>{if(YA(f))return iP(t,i,u)?wt(new nn([],{})):LE(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,u,c,f){return rP(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):LE(t):LE(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?oP(u):this.lineralizeSegments(r,u).pipe((0,yi.z)(c=>{const f=new nn(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:f,consumedSegments:y,remainingSegments:w,positionalParamSegments:T}=JA(t,i,u);if(!f)return LE(t);const x=this.applyRedirectCommands(y,i.redirectTo,T);return i.redirectTo.startsWith("/")?oP(x):this.lineralizeSegments(i,x).pipe((0,yi.z)(F=>this.expandSegment(e,t,r,F.concat(w),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=JN(r,e),r.loadChildren?(r._loadedRoutes?wt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,kt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new nn(i,{})))):wt(new nn(i,{}))):nP(t,r,i,e).pipe(wi(({matched:c,consumedSegments:f,remainingSegments:y})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,yi.z)(T=>{const x=T.injector??e,F=T.routes,{segmentGroup:B,slicedSegments:Z}=hb(t,f,y,F),re=new nn(B.segments,B.children);if(0===Z.length&&re.hasChildren())return this.expandChildren(x,F,re).pipe((0,kt.U)(ht=>new nn(f,ht)));if(0===F.length&&0===Z.length)return wt(new nn(f,{}));const me=Zo(r)===u;return this.expandSegment(x,re,F,Z,me?Wt:u,!0).pipe((0,kt.U)(ct=>new nn(f.concat(ct.segments),ct.children)))})):LE(t)))}getChildConfig(e,t,r){return t.children?wt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?wt({routes:t._loadedRoutes,injector:t._loadedInjector}):function RV(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?wt(!0):wt(i.map(c=>{const f=yy(c,n);return Eh(function yV(n){return n&&FE(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(_y(),tP())}(e,t,r).pipe((0,yi.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,ns.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function VV(n){return DE(KN(pb&&`Cannot load children because the guard of the route "path: '${n.path}'" returned false`,3))}(t))):wt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return wt(r);if(i.numberOfChildren>1||!i.children[Wt])return LV(e.redirectTo);i=i.children[Wt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new wh(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Hi(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[u]=t[f]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return Hi(t.children,(f,y)=>{c[y]=this.createSegmentGroup(e,f,r,i)}),new nn(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,pb&&`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class jV{}class GV{constructor(e,t,r,i,u,c,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=c,this.urlSerializer=f}recognize(){const e=hb(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Wt).pipe((0,kt.U)(t=>{if(null===t)return null;const r=new ub([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new kc(r,t),u=new GN(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=zN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Jt.D)(Object.keys(r.children)).pipe(ku(i=>{const u=r.children[i],c=XN(t,i);return this.processSegmentGroup(e,c,u,i)}),vN((i,u)=>i&&u?(i.push(...u),i):null),function cL(n,e=!1){return(0,Yi.e)((t,r)=>{let i=0;t.subscribe((0,On.x)(r,u=>{const c=n(u,i++);(c||e)&&r.next(u),!c&&r.complete()}))})}(i=>null!==i),AD(null),EN(),(0,kt.U)(i=>{if(null===i)return null;const u=uP(i);return function qV(n){n.sort((e,t)=>e.value.outlet===Wt?-1:t.value.outlet===Wt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,Jt.D)(t).pipe(ku(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,u)),Nc(c=>!!c),vh(c=>{if(YA(c))return iP(r,i,u)?wt([]):wt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!rP(t,r,i,u))return wt(null);let c;if("**"===t.path){const f=i.length>0?DN(i).parameters:{},y=cP(r)+i.length;c=wt({snapshot:new ub(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dP(t),Zo(t),t.component??t._loadedComponent??null,t,lP(r),y,hP(t)),consumedSegments:[],remainingSegments:[]})}else c=nP(r,t,i,e).pipe((0,kt.U)(({matched:f,consumedSegments:y,remainingSegments:w,parameters:T})=>{if(!f)return null;const x=cP(r)+y.length;return{snapshot:new ub(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dP(t),Zo(t),t.component??t._loadedComponent??null,t,lP(r),x,hP(t)),consumedSegments:y,remainingSegments:w}}));return c.pipe(wi(f=>{if(null===f)return wt(null);const{snapshot:y,consumedSegments:w,remainingSegments:T}=f;e=t._injector??e;const x=t._loadedInjector??e,F=function WV(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:Z}=hb(r,w,T,F.filter(me=>void 0===me.redirectTo));if(0===Z.length&&B.hasChildren())return this.processChildren(x,F,B).pipe((0,kt.U)(me=>null===me?null:[new kc(y,me)]));if(0===F.length&&0===Z.length)return wt([new kc(y,[])]);const re=Zo(t)===u;return this.processSegment(x,F,B,Z,re?Wt:u).pipe((0,kt.U)(me=>null===me?null:[new kc(y,me)]))}))}}function KV(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function uP(n){const e=[],t=new Set;for(const r of n){if(!KV(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=uP(r.children);e.push(new kc(r.value,i))}return e.filter(r=>!t.has(r))}function lP(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function cP(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function dP(n){return n.data||{}}function hP(n){return n.resolve||{}}function fP(n){return"string"==typeof n.title||null===n.title}function XA(n){return wi(e=>{const t=n(e);return t?(0,Jt.D)(t).pipe((0,kt.U)(()=>e)):wt(e)})}const vy=new h.OlP("ROUTES");let eM=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return wt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Eh(t.loadComponent()).pipe((0,kt.U)(gP),(0,ns.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),NA(()=>{this.componentLoaders.delete(t)})),i=new _N(r,()=>new gh.x).pipe(xA());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return wt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,kt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w,T=!1;Array.isArray(f)?w=f:(y=f.create(t).injector,w=IN(y.get(vy,[],h.XFs.Self|h.XFs.Optional)));return{routes:w.map(ZA),injector:y}}),NA(()=>{this.childrenLoaders.delete(r)})),c=new _N(u,()=>new gh.x).pipe(xA());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Eh(t()).pipe((0,kt.U)(gP),(0,yi.z)(r=>r instanceof h.YKP||Array.isArray(r)?wt(r):(0,Jt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gP(n){return function nU(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let yb=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new gh.x,this.configLoader=(0,h.f3M)(eM),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(TE),this.rootContexts=(0,h.f3M)(NE),this.navigationId=0,this.afterPreactivation=()=>wt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new HL(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new jL(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new ru({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xE,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xs(r=>0!==r.id),(0,kt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),wi(r=>{let i=!1,u=!1;return wt(r).pipe((0,ns.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),wi(c=>{const f=t.browserUrlTree.toString(),y=!t.navigated||c.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!y&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new ab(c.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),mh.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return mP(c.source)&&(t.browserUrlTree=c.extractedUrl),wt(c).pipe(wi(T=>{const x=this.transitions?.getValue();return this.events.next(new UA(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),x!==this.transitions?.getValue()?mh.E:Promise.resolve(T)}),function $V(n,e,t,r){return wi(i=>function UV(n,e,t,r,i){return new BV(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,kt.U)(u=>({...i,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,ns.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function YV(n,e,t,r,i){return(0,yi.z)(u=>function zV(n,e,t,r,i,u,c="emptyOnly"){return new GV(n,e,t,r,i,c,u).recognize().pipe(wi(f=>null===f?function HV(n){return new Gn.y(e=>e.error(n))}(new jV):wt(f)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i).pipe((0,kt.U)(c=>({...u,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,ns.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const F=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(F,T)}t.browserUrlTree=T.urlAfterRedirects}const x=new LL(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(x)}));if(y&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:x,source:F,restoredState:B,extras:Z}=c,re=new UA(T,this.urlSerializer.serialize(x),F,B);this.events.next(re);const me=HN(x,this.rootComponentType).snapshot;return wt(r={...c,targetSnapshot:me,urlAfterRedirects:x,extras:{...Z,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new ab(c.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),mh.E}}),(0,ns.b)(c=>{const f=new VL(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),(0,kt.U)(c=>r={...c,guards:hV(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function DV(n,e){return(0,yi.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?wt({...t,guardsResult:!0}):function bV(n,e,t,r){return(0,Jt.D)(n).pipe((0,yi.z)(i=>function xV(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?wt(u.map(f=>{const y=PE(e)??i,w=yy(f,y);return Eh(function EV(n){return n&&FE(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(Nc())})).pipe(_y()):wt(!0)}(i.component,i.route,t,e,r)),Nc(i=>!0!==i,!0))}(c,r,i,n).pipe((0,yi.z)(f=>f&&function mV(n){return"boolean"==typeof n}(f)?function CV(n,e,t,r){return(0,Jt.D)(e).pipe(ku(i=>MA(function SV(n,e){return null!==n&&e&&e(new zL(n)),wt(!0)}(i.route.parent,r),function TV(n,e){return null!==n&&e&&e(new qL(n)),wt(!0)}(i.route,r),function MV(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function fV(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>mN(()=>wt(c.guards.map(y=>{const w=PE(c.node)??t,T=yy(y,w);return Eh(function vV(n){return n&&FE(n.canActivateChild)}(T)?T.canActivateChild(r,n):w.runInContext(()=>T(r,n))).pipe(Nc())})).pipe(_y())));return wt(u).pipe(_y())}(n,i.path,t),function AV(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return wt(!0);const i=r.map(u=>mN(()=>{const c=PE(e)??t,f=yy(u,c);return Eh(function _V(n){return n&&FE(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(Nc())}));return wt(i).pipe(_y())}(n,i.route,t))),Nc(i=>!0!==i,!0))}(r,u,n,e):wt(f)),(0,kt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,c=>this.events.next(c)),(0,ns.b)(c=>{if(r.guardsResult=c.guardsResult,Sp(c.guardsResult))throw WN(0,c.guardsResult);const f=new UL(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),Xs(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),XA(c=>{if(c.guards.canActivateChecks.length)return wt(c).pipe((0,ns.b)(f=>{const y=new BL(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}),wi(f=>{let y=!1;return wt(f).pipe(function QV(n,e){return(0,yi.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return wt(t);let u=0;return(0,Jt.D)(i).pipe(ku(c=>function JV(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!fP(i)&&(u[bE]=i.title),function XV(n,e,t,r){const i=function eU(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return wt({});const u={};return(0,Jt.D)(i).pipe((0,yi.z)(c=>function tU(n,e,t,r){const i=PE(e)??r,u=yy(n,i);return Eh(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[c],e,t,r).pipe(Nc(),(0,ns.b)(f=>{u[c]=f}))),RA(1),function dL(n){return(0,kt.U)(()=>n)}(u),vh(c=>YA(c)?mh.E:DE(c)))}(u,n,e,r).pipe((0,kt.U)(c=>(n._resolvedData=c,n.data=zN(n,t).resolve,i&&fP(i)&&(n.data[bE]=i.title),null)))}(c.route,r,n,e)),(0,ns.b)(()=>u++),RA(1),(0,yi.z)(c=>u===i.length?wt(t):mh.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,ns.b)({next:()=>y=!0,complete:()=>{y||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,ns.b)(f=>{const y=new $L(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}))}),XA(c=>{const f=y=>{const w=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,ns.b)(T=>{y.component=T}),(0,kt.U)(()=>{})));for(const T of y.children)w.push(...f(T));return w};return pN(f(c.targetSnapshot.root)).pipe(AD(),uy(1))}),XA(()=>this.afterPreactivation()),(0,kt.U)(c=>{const f=function tV(n,e,t){const r=RE(n,e._root,t?t._root:void 0);return new jN(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:f}}),(0,ns.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,kt.U)(r=>(new dV(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),uy(1),(0,ns.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ap(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),NA(()=>{i||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),vh(c=>{if(u=!0,YN(c)){ZN(c)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new ob(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),ZN(c)){const y=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||mP(r.source)};t.scheduleNavigation(y,xE,null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new BA(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(c))}catch(y){r.reject(y)}}return mh.E}))}))}cancelNavigationTransition(t,r,i){const u=new ob(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mP(n){return n!==xE}let yP=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Wt);return r}getResolvedTitleForRoute(t){return t.data[bE]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(rU)},providedIn:"root"}),n})(),rU=(()=>{class n extends yP{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(So))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(oU)},providedIn:"root"}),n})();class sU{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let oU=(()=>{class n extends sU{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _b=new h.OlP("",{providedIn:"root",factory:()=>({})});let uU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(lU)},providedIn:"root"}),n})(),lU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cU(n){throw n}function dU(n,e,t){return e.parse("/")}const hU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(_b,{optional:!0})||{},this.errorHandler=this.options.errorHandler||cU,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||dU,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(uU),this.routeReuseStrategy=(0,h.f3M)(iU),this.urlCreationStrategy=(0,h.f3M)(JL),this.titleStrategy=(0,h.f3M)(yP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=IN((0,h.f3M)(vy,{optional:!0})??[]),this.navigationTransitions=(0,h.f3M)(yb),this.urlSerializer=(0,h.f3M)(TE),this.location=(0,h.f3M)(ke),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=HN(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xE,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const y={...i};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(u.state=y)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,c,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(ZA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:f,preserveFragment:y}=r,w=y?this.currentUrlTree.fragment:c;let T=null;switch(f){case"merge":T={...this.currentUrlTree.queryParams,...u};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=u||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,T,w??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Sp(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,xE,null,r)}navigate(t,r={skipLocationChange:!1}){return function pU(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new h.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...hU}:!1===r?{...fU}:r,Sp(t))return CN(this.currentUrlTree,t,i);const u=this.parseUrl(t);return CN(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,c){if(this.disposed)return Promise.resolve(!1);let f,y,w,T;return c?(f=c.resolve,y=c.reject,w=c.promise):w=new Promise((x,F)=>{f=x,y=F}),T="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:f,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _P{}let yU=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Xs(t=>t instanceof Ap),ku(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,f=u._loadedInjector??c;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&i.push(this.preloadConfig(c,u)),(u.children||u._loadedRoutes)&&i.push(this.processRoutes(f,u.children??u._loadedRoutes))}return(0,Jt.D)(i).pipe((0,IE.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):wt(null);const u=i.pipe((0,yi.z)(c=>null===c?wt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,Jt.D)([u,c]).pipe((0,IE.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(lo),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(_P),h.LFG(eM))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rM=new h.OlP("");let vP=(()=>{class n{constructor(t,r,i,u,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof UA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ap&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof BN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new BN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();var co=(()=>((co=co||{})[co.COMPLETE=0]="COMPLETE",co[co.FAILED=1]="FAILED",co[co.REDIRECTING=2]="REDIRECTING",co))();const Ey=!1;function Ih(n,e){return{\u0275kind:n,\u0275providers:e}}const iM=new h.OlP("",{providedIn:"root",factory:()=>!1});function wP(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(lo),i=n.get(IP);1===n.get(sM)&&r.initialNavigation(),n.get(DP,null,h.XFs.Optional)?.setUpPreloading(),n.get(rM,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const IP=new h.OlP(Ey?"bootstrap done indicator":"",{factory:()=>new gh.x}),sM=new h.OlP(Ey?"initial navigation":"",{providedIn:"root",factory:()=>1});function IU(){let n=[];return n=Ey?[{provide:h.Xts,multi:!0,useFactory:()=>{const e=(0,h.f3M)(lo);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function KL(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Ih(1,n)}const DP=new h.OlP(Ey?"router preloader":"");function DU(n){return Ih(0,[{provide:DP,useExisting:yU},{provide:_P,useExisting:n}])}const VE=!1,bP=new h.OlP(VE?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),bU=[ke,{provide:TE,useClass:PA},lo,NE,{provide:my,useFactory:function EP(n){return n.routerState.root},deps:[lo]},eM,VE?{provide:iM,useValue:!0}:[]];function CU(){return new h.PXZ("Router",lo)}let CP=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[bU,VE&&r?.enableTracing?IU().\u0275providers:[],{provide:vy,multi:!0,useValue:t},{provide:bP,useFactory:MU,deps:[[lo,new h.FiY,new h.tp0]]},{provide:_b,useValue:r||{}},r?.useHash?{provide:st,useClass:Ee}:{provide:st,useClass:_e},{provide:rM,useFactory:()=>{const n=(0,h.f3M)(ia),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(_b),r=(0,h.f3M)(yb),i=(0,h.f3M)(TE);return t.scrollOffset&&n.setOffset(t.scrollOffset),new vP(i,r,n,e,t)}},r?.preloadingStrategy?DU(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:CU},r?.initialNavigation?xU(r):[],[{provide:TP,useFactory:wP},{provide:h.tb,multi:!0,useExisting:TP}]]}}static forChild(t){return{ngModule:n,providers:[{provide:vy,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(bP,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[WA]}),n})();function MU(n){if(VE&&n)throw new h.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function xU(n){return["disabled"===n.initialNavigation?Ih(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(lo);return()=>{e.setUpLocationChangeListener()}}},{provide:sM,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ih(2,[{provide:sM,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(De,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(lo),u=e.get(IP);(function _U(n,e){n.events.pipe(Xs(t=>t instanceof Ap||t instanceof ob||t instanceof BA||t instanceof ab),(0,kt.U)(t=>t instanceof Ap||t instanceof ab?co.COMPLETE:t instanceof ob&&(0===t.code||1===t.code)?co.REDIRECTING:co.FAILED),Xs(t=>t!==co.REDIRECTING),uy(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(yb).afterPreactivation=()=>(r(!0),u.closed?wt(void 0):u),i.initialNavigation()}))}}]).\u0275providers:[]]}const TP=new h.OlP(VE?"Router Initializer":""),NU=[];let PU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[CP.forRoot(NU),CP]}),n})();var wy=k(8277);let vb=(()=>{class n{constructor(t){this.http=t,this.app=(0,tf.ZF)(nA_firebaseConfig),this.auth=(0,wy.o)(this.app),this.db=Tx(this.app),PS(ED(gD(this.db,"users")),u=>{const c=[];u.forEach(f=>{c.push(f.data())}),this.usersList=c}),(0,wy.x)(this.auth,u=>{u&&(this.signedInUser=u,PS(ED(gD(this.db,"users"),iy("displayName","==",u.displayName)),y=>{let w;if(y.forEach(T=>{w=T.data().dms}),void 0!==typeof w&&Array.isArray(w)){const T=this.usersList.filter(x=>w.includes(x.displayName));this.dms=T}}))})}signIn(t){var r=this;return(0,et.Z)(function*(){try{return yield(0,wy.a9)(r.auth,t.email,t.password),yield r.changeStatus(!0),"success"}catch(i){return console.log(i.code),i.code}})()}createAccount(t){var r=this;return(0,et.Z)(function*(){const i=ED(gD(r.db,"users"),iy("displayName","==",t.displayName));if(!(yield function LO(n){n=un(n,$i);const e=un(n.firestore,Yn),t=Zr(e),r=new ph(e);return Ux(n._query),function vx(n,e,t={}){const r=new Er;return n.asyncQueue.enqueueAndForget((0,et.Z)(function*(){return function(i,u,c,f,y){const w=new cD({next:x=>{u.enqueueAndForget(()=>LT(i,T)),x.fromCache&&"server"===f.source?y.reject(new Ae(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),T=new BT(c,w,{includeMetadataChanges:!0,xu:!0});return kT(i,T)}(yield ey(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new ay(e,r,n,i))}(i)).empty)return"Display name is already in use";try{const f=(yield(0,wy.a8)(r.auth,t.email,t.password)).user;return yield(0,wy.ai)(f,{displayName:t.displayName}),yield Wx(ty(r.db,"users",f.uid),{displayName:t.displayName,email:t.email,signedIn:!0,uid:f.uid,dms:[]}),r.signout(),location.reload(),"success"}catch(c){return console.log(c.code),c.code}})()}signout(){var t=this;return(0,et.Z)(function*(){try{return yield(0,wy.B)(t.auth),yield t.changeStatus(!1),"success"}catch(r){return r}})()}changeStatus(t){var r=this;return(0,et.Z)(function*(){yield NS(ty(r.db,"users",r.signedInUser.uid),{signedIn:t})})()}addToDms(t){const r=this.usersList.filter(i=>i.displayName===this.signedInUser.displayName)[0].dms;r.includes(t)?console.log("user is already in list"):(r.push(t),NS(ty(this.db,"users",this.signedInUser.uid),{dms:r}))}removeDm(t){const i=this.usersList.filter(u=>u.displayName===this.signedInUser.displayName)[0].dms.filter(u=>u!==t);NS(ty(this.db,"users",this.signedInUser.uid),{dms:i})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(lw))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OU=(()=>{class n{constructor(){this.app=(0,tf.ZF)(nA_firebaseConfig),this.db=Tx(this.app),this.messages=[]}saveNewMessage(t){try{Wx(ty(this.db,"messages",t.date),{date:t.date,from:t.from,message:t.message,read:!1,to:t.to})}catch(r){console.log(r)}}loadMessages(t,r){try{const i=ED(gD(this.db,"messages"),function PO(...n){return n.forEach(e=>qx("or",e)),sy._create("or",n)}(Bx(iy("to","==",t),iy("from","==",r)),Bx(iy("from","==",t),iy("to","==",r))));PS(i,c=>{const f=[];c.forEach(y=>{f.push(y.data())}),this.messages=f})}catch(i){console.log(i)}}clearMessages(){this.messages=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kU(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"input",3),h.NdJ("ngModelChange",function(i){h.CHM(t);const u=h.oxw();return h.KtG(u.searchQuery=i)})("ngModelChange",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.onSearchQueryChange())}),h.qZA()}if(2&n){const t=h.oxw();h.Q6J("ngModel",t.searchQuery)}}function FU(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"li",5),h.NdJ("click",function(){const u=h.CHM(t).$implicit,c=h.oxw(2);return h.KtG(c.addToDms(u.displayName))}),h._uU(1),h.qZA()}if(2&n){const t=e.$implicit;h.xp6(1),h.Oqu(t.displayName)}}function LU(n,e){if(1&n&&(h.TgZ(0,"ul"),h.YNc(1,FU,2,1,"li",4),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngForOf",t.searchResults)}}function VU(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"p"),h._uU(1),h._UZ(2,"br"),h.TgZ(3,"a",6),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.onSignOut())}),h._uU(4,"(Sign Out)"),h.qZA()()}if(2&n){const t=h.oxw();h.xp6(1),h.Oqu(t.signedInUser.displayName)}}let UU=(()=>{class n{constructor(t){this.user=t,this.addDM=new h.vpe,this.searchQuery="",this.searchResults=[]}filterUsers(){this.searchResults=this.usersList.filter(t=>t.displayName.toLowerCase().includes(this.searchQuery.toLowerCase()))}onSearchQueryChange(){this.filterUsers()}addToDms(t){this.addDM.emit(t),this.searchQuery=""}onSignOut(){var t=this;return(0,et.Z)(function*(){const r=yield t.user.signout();"success"===r?location.reload():console.log(r)})()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(vb))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-header"]],inputs:{signedInUser:"signedInUser",usersList:"usersList"},outputs:{addDM:"addDM"},decls:7,vars:3,consts:[[1,"search-container"],["type","text","placeholder","search users",3,"ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],["type","text","placeholder","search users",3,"ngModel","ngModelChange"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["href","#",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"header")(1,"h1"),h._uU(2,"DISCUSS"),h.qZA(),h.TgZ(3,"div",0),h.YNc(4,kU,1,1,"input",1),h.YNc(5,LU,2,1,"ul",2),h.qZA(),h.YNc(6,VU,5,1,"p",2),h.qZA()),2&t&&(h.xp6(4),h.Q6J("ngIf",r.signedInUser),h.xp6(1),h.Q6J("ngIf",r.searchResults.length>0&&0!==r.searchQuery.length),h.xp6(1),h.Q6J("ngIf",r.signedInUser))},dependencies:[Tn,Ai,M,pd,lg],styles:["h1[_ngcontent-%COMP%]{color:#fff;margin-top:10px;padding-left:10px}header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;padding-bottom:20px;z-index:9999;border-bottom:solid rgba(188,101,217,.384) 10px;background-color:#363636;height:15vh;display:flex;flex-direction:column;align-items:center;justify-content:space-between;margin-bottom:0}a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:.75em}a[_ngcontent-%COMP%]:hover{cursor:pointer}p[_ngcontent-%COMP%]{position:absolute;top:10px;right:0;width:60px;margin:0;color:#fff;display:flex;flex-direction:column;justify-content:center}.search-container[_ngcontent-%COMP%]{position:relative;display:inline-block;width:200px}input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 0 10px 10px;border:1px solid #ccc;border-radius:4px}input[_ngcontent-%COMP%]:focus{outline:none}ul[_ngcontent-%COMP%]{list-style:none;width:calc(100% + 10px);margin:0;padding:0;position:absolute;top:100%;left:0;right:0;background-color:#fff;border:1px solid #ccc;border-top:none;border-radius:0 0 4px 4px;box-shadow:0 2px 4px #0003;z-index:1}li[_ngcontent-%COMP%]{width:calc(100% - 10px);padding:10px 0 10px 10px;border-bottom:1px solid #ccc;cursor:pointer}li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}li[_ngcontent-%COMP%]:last-child{border-bottom:none}"]}),n})();function BU(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"li"),h._UZ(1,"div",3),h.TgZ(2,"span",4),h.NdJ("click",function(){const u=h.CHM(t).$implicit,c=h.oxw();return h.KtG(c.onNameClick(u.displayName))}),h._uU(3),h.qZA(),h.TgZ(4,"span",5),h.NdJ("click",function(){const u=h.CHM(t).$implicit,c=h.oxw();return h.KtG(c.onCloseClick(u.displayName))}),h._uU(5,"x"),h.qZA()()}if(2&n){const t=e.$implicit;h.xp6(1),h.Q6J("ngClass",t.signedIn?"online":""),h.xp6(2),h.Oqu(t.displayName)}}let $U=(()=>{class n{constructor(t){this.user=t,this.activeChatChange=new h.vpe,this.removeDm=new h.vpe,this.activeChat="",this.sidebarState="in"}get userList(){return this.user.usersList}onNameClick(t){this.onToggleSidebar(),this.activeChatChange.emit(t)}onCloseClick(t){this.removeDm.emit(t),t===this.activeChat&&this.activeChatChange.emit("")}onToggleSidebar(){this.sidebarState="in"===this.sidebarState?"out":"in"}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(vb))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-sidebar"]],inputs:{dms:"dms",activeChat:"activeChat"},outputs:{activeChatChange:"activeChatChange",removeDm:"removeDm"},decls:6,vars:2,consts:[[1,"container"],[1,"slider",3,"click"],[4,"ngFor","ngForOf"],[1,"status",3,"ngClass"],[1,"dm",3,"click"],[1,"close",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1),h.NdJ("click",function(){return r.onToggleSidebar()}),h.qZA(),h.TgZ(2,"h2"),h._uU(3,"Continue chatting with:"),h.qZA(),h.TgZ(4,"ul"),h.YNc(5,BU,6,2,"li",2),h.qZA()()),2&t&&(h.Q6J("@slideInOut",r.sidebarState),h.xp6(5),h.Q6J("ngForOf",r.dms))},dependencies:[Je,Tn],styles:[".container[_ngcontent-%COMP%]{position:absolute;top:15vh;bottom:0;background-color:#363636;width:85vw;border-right:solid rgba(188,101,217,.384) 10px;display:flex;align-items:center;flex-direction:column}h2[_ngcontent-%COMP%]{padding-top:20px;color:#c6c6c6}ul[_ngcontent-%COMP%]{list-style-type:none;display:flex;flex-direction:column;justify-content:center;padding-left:0;padding-bottom:50px}li[_ngcontent-%COMP%]{color:#fff;font-size:1.5em;margin-bottom:10px}.dm[_ngcontent-%COMP%]:hover{cursor:pointer}.status[_ngcontent-%COMP%]{height:10px;width:10px;border:1px solid white;border-radius:50%;display:inline-block;margin-right:10px}.status.online[_ngcontent-%COMP%]{background-color:green;border:1px solid black}.slider[_ngcontent-%COMP%]{height:50px;width:20px;background-color:#bc65d962;position:absolute;top:50%;right:-30px;transform:translateY(-25px)}.slider[_ngcontent-%COMP%]:hover{cursor:pointer}.close[_ngcontent-%COMP%]{color:#dadada;margin-left:40px;float:right}.close[_ngcontent-%COMP%]:hover{cursor:pointer}"],data:{animation:[i1("slideInOut",[SR("in",FD({left:"0"})),SR("out",FD({left:"-85vw"})),AR("in => out",CR(".75s ease-in-out")),AR("out => in",CR(".75s ease-in-out"))])]}}),n})();const jU=["messagesContainer"];function HU(n,e){if(1&n&&(h.TgZ(0,"h2"),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.hij("This is the beginning of your chat with ",t.activeChat,"")}}function zU(n,e){if(1&n&&(h.ynx(0),h.TgZ(1,"div",8)(2,"div",9)(3,"p",10),h._uU(4),h.qZA(),h.TgZ(5,"p"),h._uU(6),h.ALo(7,"date"),h.qZA()(),h.TgZ(8,"p"),h._uU(9),h.qZA()(),h.BQk()),2&n){const t=e.$implicit,r=h.oxw();h.xp6(4),h.Oqu(t.from===r.activeChat?t.from:"You"),h.xp6(2),h.Oqu(h.xi3(7,3,t.date,"short")),h.xp6(3),h.Oqu(t.message)}}let GU=(()=>{class n{constructor(){this.sendMessage=new h.vpe,this.activeChat="",this.newMessage=""}ngOnInit(){this.scrollToBottom(),this.messages.changes.subscribe(()=>{this.scrollToBottom()})}scrollToBottom(){this.messagesContainer&&(this.messagesContainer.nativeElement.scrollToTop=this.messagesContainer.nativeElement.scrollHeight)}onSendMessage(){this.sendMessage.emit(this.newMessage),this.newMessage=""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-main"]],viewQuery:function(t,r){if(1&t&&h.Gf(jU,5),2&t){let i;h.iGM(i=h.CRH())&&(r.messagesContainer=i.first)}},inputs:{activeChat:"activeChat",messages:"messages"},outputs:{sendMessage:"sendMessage"},decls:10,vars:3,consts:[[1,"container"],[1,"messages"],["messagesContainer",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"message-input"],["type","text",3,"ngModel","keyup.enter","ngModelChange"],[1,"material-symbols-outlined"],[1,"message"],[1,"message-title"],[1,"from"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1,2),h.YNc(3,HU,2,1,"h2",3),h.YNc(4,zU,10,6,"ng-container",4),h.qZA(),h.TgZ(5,"div",5)(6,"input",6),h.NdJ("keyup.enter",function(){return r.onSendMessage()})("ngModelChange",function(u){return r.newMessage=u}),h.qZA(),h.TgZ(7,"button")(8,"span",7),h._uU(9,"send"),h.qZA()()()()),2&t&&(h.xp6(3),h.Q6J("ngIf",r.activeChat),h.xp6(1),h.Q6J("ngForOf",r.messages),h.xp6(2),h.Q6J("ngModel",r.newMessage))},dependencies:[Tn,Ai,M,pd,lg,Tr],styles:[".container[_ngcontent-%COMP%]{position:fixed;top:15vh;bottom:0;padding:0;background-color:#363636;width:100vw;display:flex;flex-direction:column;align-items:center}h2[_ngcontent-%COMP%]{color:#c6c6c6}.messages[_ngcontent-%COMP%]{width:85%;height:calc(100% - 50px);overflow-y:scroll;padding-left:50px;padding-top:20px}.messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#363636}.messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#bc65d962;border-radius:6px;border:1px solid rgb(54,54,54);visibility:hidden}.messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#bc65d962;visibility:visible}.message-title[_ngcontent-%COMP%]{padding-bottom:0}.message-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}p[_ngcontent-%COMP%]{display:inline-block;color:#fff;padding-right:10px}.from[_ngcontent-%COMP%]{color:#adff2f;font-weight:bolder;font-size:1.25em}.message-input[_ngcontent-%COMP%]{width:85%;height:50px;margin-bottom:40px;border:solid 3px rgba(188,101,217,.384);border-radius:25px;display:flex;align-items:center}input[_ngcontent-%COMP%]{height:70%;width:85%;margin-left:10px;border:none;background-color:#363636;color:#fff;font:1.5em sans-serif}input[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{background-color:#363636;border:none;margin-right:5px;width:10px}button[_ngcontent-%COMP%]:hover{cursor:pointer}.material-symbols-outlined[_ngcontent-%COMP%]{color:#bc65d962}"]}),n})();const qU=n=>{const e=n.get("password"),t=n.get("confirmedPassword");return e.value!==t.value?{passwordMismatch:!0}:null},WU=n=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(n.value)?null:{invalidEmailFormat:!0};function KU(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"form",5),h.NdJ("ngSubmit",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.onSignIn())}),h.TgZ(1,"div",6)(2,"label",7),h._uU(3,"EMAIL:"),h.qZA(),h.TgZ(4,"input",8),h.NdJ("ngModelChange",function(i){h.CHM(t);const u=h.oxw();return h.KtG(u.userSignInInfo.email=i)}),h.qZA()(),h.TgZ(5,"div",6)(6,"label",9),h._uU(7,"PASSWORD:"),h.qZA(),h.TgZ(8,"input",10),h.NdJ("ngModelChange",function(i){h.CHM(t);const u=h.oxw();return h.KtG(u.userSignInInfo.password=i)}),h.qZA()(),h.TgZ(9,"button",11),h._uU(10,"SIGN IN"),h.qZA(),h.TgZ(11,"p"),h._uU(12,"OR"),h.qZA(),h.TgZ(13,"button",12),h.NdJ("click",function(i){h.CHM(t);const u=h.oxw();return h.KtG(u.createAccountToggle(i))}),h._uU(14,"CREATE ACCOUNT"),h.qZA()()}if(2&n){const t=h.oxw();h.xp6(4),h.Q6J("ngModel",t.userSignInInfo.email),h.xp6(4),h.Q6J("ngModel",t.userSignInInfo.password),h.xp6(1),h.Q6J("disabled",""===t.userSignInInfo.email||""===t.userSignInInfo.password)}}function ZU(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"form",13),h.NdJ("ngSubmit",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.onCreateAccount())}),h.TgZ(1,"div",6)(2,"label",14),h._uU(3,"DISPLAY NAME:"),h.qZA(),h._UZ(4,"input",15),h.qZA(),h.TgZ(5,"div",6)(6,"label",7),h._uU(7,"EMAIL:"),h.qZA(),h._UZ(8,"input",16),h.qZA(),h.TgZ(9,"div",6)(10,"label",9),h._uU(11,"PASSWORD:"),h.qZA(),h._UZ(12,"input",17),h.qZA(),h.TgZ(13,"div",6)(14,"label",18),h._uU(15,"CONFIRM PASSWORD:"),h.qZA(),h._UZ(16,"input",19),h.qZA(),h.TgZ(17,"button",11),h._uU(18,"CREATE ACCOUNT"),h.qZA(),h.TgZ(19,"p"),h._uU(20,"OR"),h.qZA(),h.TgZ(21,"button",12),h.NdJ("click",function(i){h.CHM(t);const u=h.oxw();return h.KtG(u.createAccountToggle(i))}),h._uU(22,"SIGN IN"),h.qZA()()}if(2&n){const t=h.oxw();h.Q6J("formGroup",t.createAccountForm),h.xp6(17),h.Q6J("disabled",!t.createAccountForm.valid)}}function YU(n,e){1&n&&(h.ynx(0),h.TgZ(1,"p"),h._uU(2,"Username is required"),h.qZA(),h.BQk())}function QU(n,e){1&n&&(h.ynx(0),h.TgZ(1,"p"),h._uU(2,"Email is required"),h.qZA(),h.BQk())}function JU(n,e){1&n&&(h.ynx(0),h.TgZ(1,"p"),h._uU(2,"Email must be a valid email address"),h.qZA(),h.BQk())}function XU(n,e){1&n&&(h.ynx(0),h.TgZ(1,"p"),h._uU(2,"Password must be at least 8 characters"),h.qZA(),h.BQk())}function eB(n,e){1&n&&(h.ynx(0),h.TgZ(1,"p"),h._uU(2,"Passwords must match"),h.qZA(),h.BQk())}function tB(n,e){if(1&n&&(h.TgZ(0,"div",20),h.YNc(1,YU,3,0,"ng-container",21),h.YNc(2,QU,3,0,"ng-container",21),h.YNc(3,JU,3,0,"ng-container",21),h.YNc(4,XU,3,0,"ng-container",21),h.YNc(5,eB,3,0,"ng-container",21),h.qZA()),2&n){const t=h.oxw();let r,i,u,c,f;h.xp6(1),h.Q6J("ngIf",(null==(r=t.createAccountForm.get("username"))?null:r.hasError("required"))&&(null==(r=t.createAccountForm.get("username"))?null:r.touched)),h.xp6(1),h.Q6J("ngIf",(null==(i=t.createAccountForm.get("email"))?null:i.hasError("required"))&&(null==(i=t.createAccountForm.get("email"))?null:i.touched)),h.xp6(1),h.Q6J("ngIf",(null==(u=t.createAccountForm.get("email"))?null:u.hasError("invalidEmailFormat"))&&(null==(u=t.createAccountForm.get("email"))?null:u.touched)),h.xp6(1),h.Q6J("ngIf",(null==(c=t.createAccountForm.get("password"))?null:c.hasError("minlength"))&&(null==(c=t.createAccountForm.get("password"))?null:c.touched)),h.xp6(1),h.Q6J("ngIf",t.createAccountForm.hasError("passwordMismatch")&&(null==(f=t.createAccountForm.get("confirmedPassword"))?null:f.touched))}}let nB=(()=>{class n{constructor(t){this.user=t,this.userSignIn=new h.vpe,this.signIn=!0,this.createAccount=!1,this.errorMessage="",this.userSignInInfo={email:"",password:""},this.createAccountForm=new Hl({displayName:new Md("",lt.required),email:new Md("",[lt.required,WU]),password:new Md("",[lt.required,lt.minLength(8)]),confirmedPassword:new Md("",lt.required)},{validators:qU})}get test(){return this.user.signedInUser}createAccountToggle(t){this.signIn=!this.signIn,this.createAccount=!this.createAccount}onSignIn(){var t=this;return(0,et.Z)(function*(){const r=yield t.user.signIn(t.userSignInInfo);"success"!==r&&(t.errorMessage=r)})()}onCreateAccount(){var t=this;return(0,et.Z)(function*(){const r={displayName:t.createAccountForm.get("displayName").value,email:t.createAccountForm.get("email").value,password:t.createAccountForm.get("password").value},i=yield t.user.createAccount(r);"success"!==i&&(t.errorMessage=i)})()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(vb))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-sign-in"]],outputs:{userSignIn:"userSignIn"},decls:7,vars:4,consts:[[1,"container"],[1,"errorMessage","top"],[3,"ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","formCheck",4,"ngIf"],[3,"ngSubmit"],[1,"form-field"],["for","email"],["id","email","type","text","name","email","required","",3,"ngModel","ngModelChange"],["for","password"],["id","password","type","password","name","password","required","",3,"ngModel","ngModelChange"],["type","submit",3,"disabled"],[3,"click"],[3,"formGroup","ngSubmit"],["for","displayName"],["formControlName","displayName","type","text"],["formControlName","email","type","text"],["formControlName","password","type","password"],["for","confirmedPassword"],["formControlName","confirmedPassword","type","password"],[1,"formCheck"],[4,"ngIf"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"p"),h._uU(3),h.qZA()(),h.YNc(4,KU,15,3,"form",2),h.YNc(5,ZU,23,2,"form",3),h.YNc(6,tB,6,5,"div",4),h.qZA()),2&t&&(h.xp6(3),h.Oqu(r.errorMessage),h.xp6(1),h.Q6J("ngIf",r.signIn),h.xp6(1),h.Q6J("ngIf",r.createAccount),h.xp6(1),h.Q6J("ngIf",r.createAccount))},dependencies:[Ai,zE,M,pd,gd,mg,lg,Sd,dg,QE],styles:[".container[_ngcontent-%COMP%]{position:fixed;top:15vh;left:0;bottom:0;width:100vw;margin:0;display:flex;justify-content:center;padding-top:300px;background-color:#363636}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-bottom:20px}label[_ngcontent-%COMP%]{color:#fff;text-align:center;font:1.5em sans-serif;margin-bottom:20px}input[_ngcontent-%COMP%]{background-color:#363636;color:#fff;border-left:none;border-right:none;border-top:none;border-bottom:1px solid rgba(188,101,217,.384);text-align:center;font:1.25em sans-serif}input[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{background-color:#bc65d962;color:#fff;width:100%;height:30px;border:1px solid rgb(255,255,255);border-radius:25px}button[_ngcontent-%COMP%]:hover{cursor:pointer}button[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}p[_ngcontent-%COMP%]{text-align:center;color:#fff}.errorMessage[_ngcontent-%COMP%]{position:absolute;top:100px}.errorMessage[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red;font:1.25em sans-serif}.formCheck[_ngcontent-%COMP%]{position:absolute;top:800px;font:1em sans-serif}.formCheck[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red;font:1.25em sans-serif}"]}),n})();function rB(n,e){if(1&n){const t=h.EpF();h.ynx(0),h.TgZ(1,"app-main",2),h.NdJ("sendMessage",function(i){h.CHM(t);const u=h.oxw();return h.KtG(u.saveMessage(i))}),h.qZA(),h.TgZ(2,"app-sidebar",3),h.NdJ("removeDm",function(i){h.CHM(t);const u=h.oxw();return h.KtG(u.removeDm(i))})("activeChatChange",function(i){h.CHM(t);const u=h.oxw();return h.KtG(u.setActiveChat(i))}),h.qZA(),h.BQk()}if(2&n){const t=h.oxw();h.xp6(1),h.Q6J("messages",t.messages)("activeChat",t.activeChat),h.xp6(1),h.Q6J("dms",t.dms)("activeChat",t.activeChat)}}function iB(n,e){1&n&&h._UZ(0,"app-sign-in")}let sB=(()=>{class n{constructor(t,r){this.userService=t,this.messageService=r,this.title="discuss",this.activeChat=""}setUserOffline(t){var r=this;return(0,et.Z)(function*(){yield r.userService.changeStatus(!1)})()}get usersList(){return this.userService.usersList}get signedInUser(){return this.userService.signedInUser}get dms(){return this.userService.dms}get messages(){return this.messageService.messages}saveMessage(t){const r={date:Date.now().toString(),from:this.signedInUser.displayName,message:t,to:this.activeChat};this.messageService.saveNewMessage(r)}setActiveChat(t){this.activeChat=t,""===t?this.messageService.clearMessages():this.messageService.loadMessages(t,this.signedInUser.displayName)}addToDms(t){this.userService.addToDms(t)}removeDm(t){this.userService.removeDm(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(vb),h.Y36(OU))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],hostBindings:function(t,r){1&t&&h.NdJ("beforeunload",function(u){return r.setUserOffline(u)},!1,h.Jf7)},decls:3,vars:4,consts:[[3,"usersList","signedInUser","addDM"],[4,"ngIf"],[3,"messages","activeChat","sendMessage"],[3,"dms","activeChat","removeDm","activeChatChange"]],template:function(t,r){1&t&&(h.TgZ(0,"app-header",0),h.NdJ("addDM",function(u){return r.addToDms(u)}),h.qZA(),h.YNc(1,rB,3,4,"ng-container",1),h.YNc(2,iB,1,0,"app-sign-in",1)),2&t&&(h.Q6J("usersList",r.usersList)("signedInUser",r.signedInUser),h.xp6(1),h.Q6J("ngIf",r.signedInUser),h.xp6(1),h.Q6J("ngIf",!r.signedInUser))},dependencies:[Ai,UU,$U,GU,nB]}),n})(),oB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[sB]}),n.\u0275inj=h.cJS({imports:[To,PU,Wy,rw,Jb,Uu.hO.initializeApp(nA_firebaseConfig),n1,Yx,rL]}),n})();Ca().bootstrapModule(oB).catch(n=>console.error(n))},9751:(vt,Se,k)=>{k.d(Se,{y:()=>ve});var h=k(2961),L=k(727),G=k(8822),se=k(9635),oe=k(2416),ae=k(576),Ne=k(2806);let ve=(()=>{class Y{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const ze=new Y;return ze.source=this,ze.operator=Ie,ze}subscribe(Ie,ze,st){const le=function H(Y){return Y&&Y instanceof h.Lv||function j(Y){return Y&&(0,ae.m)(Y.next)&&(0,ae.m)(Y.error)&&(0,ae.m)(Y.complete)}(Y)&&(0,L.Nn)(Y)}(Ie)?Ie:new h.Hp(Ie,ze,st);return(0,Ne.x)(()=>{const{operator:_e,source:Ee}=this;le.add(_e?_e.call(le,Ee):Ee?this._subscribe(le):this._trySubscribe(le))}),le}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(ze){Ie.error(ze)}}forEach(Ie,ze){return new(ze=De(ze))((st,le)=>{const _e=new h.Hp({next:Ee=>{try{Ie(Ee)}catch(ke){le(ke),_e.unsubscribe()}},error:le,complete:st});this.subscribe(_e)})}_subscribe(Ie){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(Ie)}[G.L](){return this}pipe(...Ie){return(0,se.U)(Ie)(this)}toPromise(Ie){return new(Ie=De(Ie))((ze,st)=>{let le;this.subscribe(_e=>le=_e,_e=>st(_e),()=>ze(le))})}}return Y.create=Be=>new Y(Be),Y})();function De(Y){var Be;return null!==(Be=Y??oe.v.Promise)&&void 0!==Be?Be:Promise}},7579:(vt,Se,k)=>{k.d(Se,{x:()=>Ne});var h=k(9751),L=k(727);const se=(0,k(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=k(8737),ae=k(2806);let Ne=(()=>{class De extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Y=new ve(this,this);return Y.operator=H,Y}_throwIfClosed(){if(this.closed)throw new se}next(H){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(H)}})}error(H){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Y}=this;for(;Y.length;)Y.shift().error(H)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Y,isStopped:Be,observers:Ie}=this;return Y||Be?L.Lc:(this.currentObservers=null,Ie.push(H),new L.w0(()=>{this.currentObservers=null,(0,oe.P)(Ie,H)}))}_checkFinalizedStatuses(H){const{hasError:Y,thrownError:Be,isStopped:Ie}=this;Y?H.error(Be):Ie&&H.complete()}asObservable(){const H=new h.y;return H.source=this,H}}return De.create=(j,H)=>new ve(j,H),De})();class ve extends Ne{constructor(j,H){super(),this.destination=j,this.source=H}next(j){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Y||Y.call(H,j)}error(j){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Y||Y.call(H,j)}complete(){var j,H;null===(H=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===H||H.call(j)}_subscribe(j){var H,Y;return null!==(Y=null===(H=this.source)||void 0===H?void 0:H.subscribe(j))&&void 0!==Y?Y:L.Lc}}},2961:(vt,Se,k)=>{k.d(Se,{Hp:()=>st,Lv:()=>Y});var h=k(576),L=k(727),G=k(2416),se=k(7849);function oe(){}const ae=De("C",void 0,void 0);function De(be,ye,Ce){return{kind:be,value:ye,error:Ce}}var j=k(3410),H=k(2806);class Y extends L.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,L.Nn)(ye)&&ye.add(this)):this.destination=ke}static create(ye,Ce,Ue){return new st(ye,Ce,Ue)}next(ye){this.isStopped?Ee(function ve(be){return De("N",be,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Ee(function Ne(be){return De("E",void 0,be)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Ee(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Ie(be,ye){return Be.call(be,ye)}class ze{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(ye)}catch(Ue){le(Ue)}}error(ye){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(ye)}catch(Ue){le(Ue)}else le(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(Ce){le(Ce)}}}class st extends Y{constructor(ye,Ce,Ue){let xe;if(super(),(0,h.m)(ye)||!ye)xe={next:ye??void 0,error:Ce??void 0,complete:Ue??void 0};else{let $;this&&G.v.useDeprecatedNextContext?($=Object.create(ye),$.unsubscribe=()=>this.unsubscribe(),xe={next:ye.next&&Ie(ye.next,$),error:ye.error&&Ie(ye.error,$),complete:ye.complete&&Ie(ye.complete,$)}):xe=ye}this.destination=new ze(xe)}}function le(be){G.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(be):(0,se.h)(be)}function Ee(be,ye){const{onStoppedNotification:Ce}=G.v;Ce&&j.z.setTimeout(()=>Ce(be,ye))}const ke={closed:!0,next:oe,error:function _e(be){throw be},complete:oe}},727:(vt,Se,k)=>{k.d(Se,{Lc:()=>ae,w0:()=>oe,Nn:()=>Ne});var h=k(576);const G=(0,k(3888).d)(De=>function(H){De(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Y,Be)=>`${Be+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var se=k(8737);class oe{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Ie of H)Ie.remove(this);else H.remove(this);const{initialTeardown:Y}=this;if((0,h.m)(Y))try{Y()}catch(Ie){j=Ie instanceof G?Ie.errors:[Ie]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Ie of Be)try{ve(Ie)}catch(ze){j=j??[],ze instanceof G?j=[...j,...ze.errors]:j.push(ze)}}if(j)throw new G(j)}}add(j){var H;if(j&&j!==this)if(this.closed)ve(j);else{if(j instanceof oe){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(j)}}_hasParent(j){const{_parentage:H}=this;return H===j||Array.isArray(H)&&H.includes(j)}_addParent(j){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(j),H):H?[H,j]:j}_removeParent(j){const{_parentage:H}=this;H===j?this._parentage=null:Array.isArray(H)&&(0,se.P)(H,j)}remove(j){const{_finalizers:H}=this;H&&(0,se.P)(H,j),j instanceof oe&&j._removeParent(this)}}oe.EMPTY=(()=>{const De=new oe;return De.closed=!0,De})();const ae=oe.EMPTY;function Ne(De){return De instanceof oe||De&&"closed"in De&&(0,h.m)(De.remove)&&(0,h.m)(De.add)&&(0,h.m)(De.unsubscribe)}function ve(De){(0,h.m)(De)?De():De.unsubscribe()}},2416:(vt,Se,k)=>{k.d(Se,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Se,k)=>{k.d(Se,{E:()=>L});const L=new(k(9751).y)(oe=>oe.complete())},8996:(vt,Se,k)=>{k.d(Se,{D:()=>ye});var h=k(8421),L=k(5363),G=k(9468),ae=k(9751),ve=k(2202),De=k(576),j=k(9672);function Y(Ce,Ue){if(!Ce)throw new Error("Iterable cannot be null");return new ae.y(xe=>{(0,j.f)(xe,Ue,()=>{const $=Ce[Symbol.asyncIterator]();(0,j.f)(xe,Ue,()=>{$.next().then(fe=>{fe.done?xe.complete():xe.next(fe.value)})},0,!0)})})}var Be=k(3670),Ie=k(8239),ze=k(1144),st=k(6495),le=k(2206),_e=k(4532),Ee=k(3260);function ye(Ce,Ue){return Ue?function be(Ce,Ue){if(null!=Ce){if((0,Be.c)(Ce))return function se(Ce,Ue){return(0,h.Xf)(Ce).pipe((0,G.R)(Ue),(0,L.Q)(Ue))}(Ce,Ue);if((0,ze.z)(Ce))return function Ne(Ce,Ue){return new ae.y(xe=>{let $=0;return Ue.schedule(function(){$===Ce.length?xe.complete():(xe.next(Ce[$++]),xe.closed||this.schedule())})})}(Ce,Ue);if((0,Ie.t)(Ce))return function oe(Ce,Ue){return(0,h.Xf)(Ce).pipe((0,G.R)(Ue),(0,L.Q)(Ue))}(Ce,Ue);if((0,le.D)(Ce))return Y(Ce,Ue);if((0,st.T)(Ce))return function H(Ce,Ue){return new ae.y(xe=>{let $;return(0,j.f)(xe,Ue,()=>{$=Ce[ve.h](),(0,j.f)(xe,Ue,()=>{let fe,$e;try{({value:fe,done:$e}=$.next())}catch(Ge){return void xe.error(Ge)}$e?xe.complete():xe.next(fe)},0,!0)}),()=>(0,De.m)($?.return)&&$.return()})}(Ce,Ue);if((0,Ee.L)(Ce))return function ke(Ce,Ue){return Y((0,Ee.Q)(Ce),Ue)}(Ce,Ue)}throw(0,_e.z)(Ce)}(Ce,Ue):(0,h.Xf)(Ce)}},8421:(vt,Se,k)=>{k.d(Se,{Xf:()=>Be});var h=k(655),L=k(1144),G=k(8239),se=k(9751),oe=k(3670),ae=k(2206),Ne=k(4532),ve=k(6495),De=k(3260),j=k(576),H=k(7849),Y=k(8822);function Be(be){if(be instanceof se.y)return be;if(null!=be){if((0,oe.c)(be))return function Ie(be){return new se.y(ye=>{const Ce=be[Y.L]();if((0,j.m)(Ce.subscribe))return Ce.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,L.z)(be))return function ze(be){return new se.y(ye=>{for(let Ce=0;Ce<be.length&&!ye.closed;Ce++)ye.next(be[Ce]);ye.complete()})}(be);if((0,G.t)(be))return function st(be){return new se.y(ye=>{be.then(Ce=>{ye.closed||(ye.next(Ce),ye.complete())},Ce=>ye.error(Ce)).then(null,H.h)})}(be);if((0,ae.D)(be))return _e(be);if((0,ve.T)(be))return function le(be){return new se.y(ye=>{for(const Ce of be)if(ye.next(Ce),ye.closed)return;ye.complete()})}(be);if((0,De.L)(be))return function Ee(be){return _e((0,De.Q)(be))}(be)}throw(0,Ne.z)(be)}function _e(be){return new se.y(ye=>{(function ke(be,ye){var Ce,Ue,xe,$;return(0,h.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,h.KL)(be);!(Ue=yield Ce.next()).done;)if(ye.next(Ue.value),ye.closed)return}catch(fe){xe={error:fe}}finally{try{Ue&&!Ue.done&&($=Ce.return)&&(yield $.call(Ce))}finally{if(xe)throw xe.error}}ye.complete()})})(be,ye).catch(Ce=>ye.error(Ce))})}},6451:(vt,Se,k)=>{k.d(Se,{T:()=>ae});var h=k(8189),L=k(8421),G=k(515),se=k(7669),oe=k(8996);function ae(...Ne){const ve=(0,se.yG)(Ne),De=(0,se._6)(Ne,1/0),j=Ne;return j.length?1===j.length?(0,L.Xf)(j[0]):(0,h.J)(De)((0,oe.D)(j,ve)):G.E}},5403:(vt,Se,k)=>{k.d(Se,{x:()=>L});var h=k(2961);function L(se,oe,ae,Ne,ve){return new G(se,oe,ae,Ne,ve)}class G extends h.Lv{constructor(oe,ae,Ne,ve,De,j){super(oe),this.onFinalize=De,this.shouldUnsubscribe=j,this._next=ae?function(H){try{ae(H)}catch(Y){oe.error(Y)}}:super._next,this._error=ve?function(H){try{ve(H)}catch(Y){oe.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(H){oe.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(vt,Se,k)=>{k.d(Se,{U:()=>G});var h=k(4482),L=k(5403);function G(se,oe){return(0,h.e)((ae,Ne)=>{let ve=0;ae.subscribe((0,L.x)(Ne,De=>{Ne.next(se.call(oe,De,ve++))}))})}},8189:(vt,Se,k)=>{k.d(Se,{J:()=>G});var h=k(5577),L=k(4671);function G(se=1/0){return(0,h.z)(L.y,se)}},5577:(vt,Se,k)=>{k.d(Se,{z:()=>ve});var h=k(4004),L=k(8421),G=k(4482),se=k(9672),oe=k(5403),Ne=k(576);function ve(De,j,H=1/0){return(0,Ne.m)(j)?ve((Y,Be)=>(0,h.U)((Ie,ze)=>j(Y,Ie,Be,ze))((0,L.Xf)(De(Y,Be))),H):("number"==typeof j&&(H=j),(0,G.e)((Y,Be)=>function ae(De,j,H,Y,Be,Ie,ze,st){const le=[];let _e=0,Ee=0,ke=!1;const be=()=>{ke&&!le.length&&!_e&&j.complete()},ye=Ue=>_e<Y?Ce(Ue):le.push(Ue),Ce=Ue=>{Ie&&j.next(Ue),_e++;let xe=!1;(0,L.Xf)(H(Ue,Ee++)).subscribe((0,oe.x)(j,$=>{Be?.($),Ie?ye($):j.next($)},()=>{xe=!0},void 0,()=>{if(xe)try{for(_e--;le.length&&_e<Y;){const $=le.shift();ze?(0,se.f)(j,ze,()=>Ce($)):Ce($)}be()}catch($){j.error($)}}))};return De.subscribe((0,oe.x)(j,ye,()=>{ke=!0,be()})),()=>{st?.()}}(Y,Be,De,H)))}},5363:(vt,Se,k)=>{k.d(Se,{Q:()=>se});var h=k(9672),L=k(4482),G=k(5403);function se(oe,ae=0){return(0,L.e)((Ne,ve)=>{Ne.subscribe((0,G.x)(ve,De=>(0,h.f)(ve,oe,()=>ve.next(De),ae),()=>(0,h.f)(ve,oe,()=>ve.complete(),ae),De=>(0,h.f)(ve,oe,()=>ve.error(De),ae)))})}},3099:(vt,Se,k)=>{k.d(Se,{B:()=>oe});var h=k(8421),L=k(7579),G=k(2961),se=k(4482);function oe(Ne={}){const{connector:ve=(()=>new L.x),resetOnError:De=!0,resetOnComplete:j=!0,resetOnRefCountZero:H=!0}=Ne;return Y=>{let Be,Ie,ze,st=0,le=!1,_e=!1;const Ee=()=>{Ie?.unsubscribe(),Ie=void 0},ke=()=>{Ee(),Be=ze=void 0,le=_e=!1},be=()=>{const ye=Be;ke(),ye?.unsubscribe()};return(0,se.e)((ye,Ce)=>{st++,!_e&&!le&&Ee();const Ue=ze=ze??ve();Ce.add(()=>{st--,0===st&&!_e&&!le&&(Ie=ae(be,H))}),Ue.subscribe(Ce),!Be&&st>0&&(Be=new G.Hp({next:xe=>Ue.next(xe),error:xe=>{_e=!0,Ee(),Ie=ae(ke,De,xe),Ue.error(xe)},complete:()=>{le=!0,Ee(),Ie=ae(ke,j),Ue.complete()}}),(0,h.Xf)(ye).subscribe(Be))})(Y)}}function ae(Ne,ve,...De){if(!0===ve)return void Ne();if(!1===ve)return;const j=new G.Hp({next:()=>{j.unsubscribe(),Ne()}});return ve(...De).subscribe(j)}},9468:(vt,Se,k)=>{k.d(Se,{R:()=>L});var h=k(4482);function L(G,se=0){return(0,h.e)((oe,ae)=>{ae.add(G.schedule(()=>oe.subscribe(ae),se))})}},8505:(vt,Se,k)=>{k.d(Se,{b:()=>oe});var h=k(576),L=k(4482),G=k(5403),se=k(4671);function oe(ae,Ne,ve){const De=(0,h.m)(ae)||Ne||ve?{next:ae,error:Ne,complete:ve}:ae;return De?(0,L.e)((j,H)=>{var Y;null===(Y=De.subscribe)||void 0===Y||Y.call(De);let Be=!0;j.subscribe((0,G.x)(H,Ie=>{var ze;null===(ze=De.next)||void 0===ze||ze.call(De,Ie),H.next(Ie)},()=>{var Ie;Be=!1,null===(Ie=De.complete)||void 0===Ie||Ie.call(De),H.complete()},Ie=>{var ze;Be=!1,null===(ze=De.error)||void 0===ze||ze.call(De,Ie),H.error(Ie)},()=>{var Ie,ze;Be&&(null===(Ie=De.unsubscribe)||void 0===Ie||Ie.call(De)),null===(ze=De.finalize)||void 0===ze||ze.call(De)}))}):se.y}},6063:(vt,Se,k)=>{k.d(Se,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(vt,Se,k)=>{k.d(Se,{z:()=>h});const h={setTimeout(L,G,...se){const{delegate:oe}=h;return oe?.setTimeout?oe.setTimeout(L,G,...se):setTimeout(L,G,...se)},clearTimeout(L){const{delegate:G}=h;return(G?.clearTimeout||clearTimeout)(L)},delegate:void 0}},2202:(vt,Se,k)=>{k.d(Se,{h:()=>L});const L=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Se,k)=>{k.d(Se,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(vt,Se,k)=>{k.d(Se,{_6:()=>ae,jO:()=>se,yG:()=>oe});var h=k(576);function G(Ne){return Ne[Ne.length-1]}function se(Ne){return(0,h.m)(G(Ne))?Ne.pop():void 0}function oe(Ne){return function L(Ne){return Ne&&(0,h.m)(Ne.schedule)}(G(Ne))?Ne.pop():void 0}function ae(Ne,ve){return"number"==typeof G(Ne)?Ne.pop():ve}},8737:(vt,Se,k)=>{function h(L,G){if(L){const se=L.indexOf(G);0<=se&&L.splice(se,1)}}k.d(Se,{P:()=>h})},3888:(vt,Se,k)=>{function h(L){const se=L(oe=>{Error.call(oe),oe.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(Se,{d:()=>h})},2806:(vt,Se,k)=>{k.d(Se,{O:()=>se,x:()=>G});var h=k(2416);let L=null;function G(oe){if(h.v.useDeprecatedSynchronousErrorHandling){const ae=!L;if(ae&&(L={errorThrown:!1,error:null}),oe(),ae){const{errorThrown:Ne,error:ve}=L;if(L=null,Ne)throw ve}}else oe()}function se(oe){h.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=oe)}},9672:(vt,Se,k)=>{function h(L,G,se,oe=0,ae=!1){const Ne=G.schedule(function(){se(),ae?L.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(L.add(Ne),!ae)return Ne}k.d(Se,{f:()=>h})},4671:(vt,Se,k)=>{function h(L){return L}k.d(Se,{y:()=>h})},1144:(vt,Se,k)=>{k.d(Se,{z:()=>h});const h=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(vt,Se,k)=>{k.d(Se,{D:()=>L});var h=k(576);function L(G){return Symbol.asyncIterator&&(0,h.m)(G?.[Symbol.asyncIterator])}},576:(vt,Se,k)=>{function h(L){return"function"==typeof L}k.d(Se,{m:()=>h})},3670:(vt,Se,k)=>{k.d(Se,{c:()=>G});var h=k(8822),L=k(576);function G(se){return(0,L.m)(se[h.L])}},6495:(vt,Se,k)=>{k.d(Se,{T:()=>G});var h=k(2202),L=k(576);function G(se){return(0,L.m)(se?.[h.h])}},8239:(vt,Se,k)=>{k.d(Se,{t:()=>L});var h=k(576);function L(G){return(0,h.m)(G?.then)}},3260:(vt,Se,k)=>{k.d(Se,{L:()=>se,Q:()=>G});var h=k(655),L=k(576);function G(oe){return(0,h.FC)(this,arguments,function*(){const Ne=oe.getReader();try{for(;;){const{value:ve,done:De}=yield(0,h.qq)(Ne.read());if(De)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(ve)}}finally{Ne.releaseLock()}})}function se(oe){return(0,L.m)(oe?.getReader)}},4482:(vt,Se,k)=>{k.d(Se,{A:()=>L,e:()=>G});var h=k(576);function L(se){return(0,h.m)(se?.lift)}function G(se){return oe=>{if(L(oe))return oe.lift(function(ae){try{return se(ae,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(vt,Se,k)=>{k.d(Se,{U:()=>G,z:()=>L});var h=k(4671);function L(...se){return G(se)}function G(se){return 0===se.length?h.y:1===se.length?se[0]:function(ae){return se.reduce((Ne,ve)=>ve(Ne),ae)}}},7849:(vt,Se,k)=>{k.d(Se,{h:()=>G});var h=k(2416),L=k(3410);function G(se){L.z.setTimeout(()=>{const{onUnhandledError:oe}=h.v;if(!oe)throw se;oe(se)})}},4532:(vt,Se,k)=>{function h(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Se,{z:()=>h})},655:(vt,Se,k)=>{function se(ne,ue){var de={};for(var Te in ne)Object.prototype.hasOwnProperty.call(ne,Te)&&ue.indexOf(Te)<0&&(de[Te]=ne[Te]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(Te=Object.getOwnPropertySymbols(ne);Oe<Te.length;Oe++)ue.indexOf(Te[Oe])<0&&Object.prototype.propertyIsEnumerable.call(ne,Te[Oe])&&(de[Te[Oe]]=ne[Te[Oe]])}return de}function Y(ne,ue,de,Te){return new(de||(de=Promise))(function(je,nt){function Pe(en){try{mt(Te.next(en))}catch(Dt){nt(Dt)}}function Ct(en){try{mt(Te.throw(en))}catch(Dt){nt(Dt)}}function mt(en){en.done?je(en.value):function Oe(je){return je instanceof de?je:new de(function(nt){nt(je)})}(en.value).then(Pe,Ct)}mt((Te=Te.apply(ne,ue||[])).next())})}function be(ne){return this instanceof be?(this.v=ne,this):new be(ne)}function ye(ne,ue,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,Te=de.apply(ne,ue||[]),je=[];return Oe={},nt("next"),nt("throw"),nt("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function nt(Zt){Te[Zt]&&(Oe[Zt]=function($n){return new Promise(function(fn,Mn){je.push([Zt,$n,fn,Mn])>1||Pe(Zt,$n)})})}function Pe(Zt,$n){try{!function Ct(Zt){Zt.value instanceof be?Promise.resolve(Zt.value.v).then(mt,en):Dt(je[0][2],Zt)}(Te[Zt]($n))}catch(fn){Dt(je[0][3],fn)}}function mt(Zt){Pe("next",Zt)}function en(Zt){Pe("throw",Zt)}function Dt(Zt,$n){Zt($n),je.shift(),je.length&&Pe(je[0][0],je[0][1])}}function Ue(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,ue=ne[Symbol.asyncIterator];return ue?ue.call(ne):(ne=function st(ne){var ue="function"==typeof Symbol&&Symbol.iterator,de=ue&&ne[ue],Te=0;if(de)return de.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&Te>=ne.length&&(ne=void 0),{value:ne&&ne[Te++],done:!ne}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),de={},Te("next"),Te("throw"),Te("return"),de[Symbol.asyncIterator]=function(){return this},de);function Te(je){de[je]=ne[je]&&function(nt){return new Promise(function(Pe,Ct){!function Oe(je,nt,Pe,Ct){Promise.resolve(Ct).then(function(mt){je({value:mt,done:Pe})},nt)}(Pe,Ct,(nt=ne[je](nt)).done,nt.value)})}}}k.d(Se,{FC:()=>ye,KL:()=>Ue,_T:()=>se,mG:()=>Y,qq:()=>be})},4650:(vt,Se,k)=>{k.d(Se,{$8M:()=>Tu,$WT:()=>Es,$Z:()=>Yl,AFp:()=>Hv,ALo:()=>Zu,AaK:()=>ve,BQk:()=>Wg,CHM:()=>Zs,CRH:()=>sp,CZH:()=>oo,CqO:()=>Kg,D6c:()=>yp,EJc:()=>lT,EpF:()=>Cf,F4k:()=>Tf,FYo:()=>Hb,FiY:()=>$r,Gf:()=>sh,GfV:()=>hw,Gpc:()=>H,JOm:()=>ls,Jf7:()=>i_,KtG:()=>Ah,LFG:()=>Fe,Lbi:()=>Gv,Lck:()=>W0,MMx:()=>Hf,MR2:()=>Ky,NdJ:()=>Zg,OlP:()=>yn,Oqu:()=>rv,P3R:()=>Bb,PXZ:()=>fT,Q6J:()=>Hg,QGY:()=>nc,QbO:()=>qv,Qsj:()=>wM,R0b:()=>ms,RDi:()=>GE,Rgc:()=>Qf,SBq:()=>Ig,Sil:()=>up,Suo:()=>oh,TTD:()=>ia,TgZ:()=>Gd,X6Q:()=>jI,XFs:()=>Et,Xpm:()=>iu,Xts:()=>Wy,Y36:()=>Vd,YKP:()=>bv,YNc:()=>Ww,Yjl:()=>cl,Yz7:()=>Dt,Z0I:()=>Mn,ZZ4:()=>Mc,_Bn:()=>jf,_UZ:()=>Gg,_Vd:()=>Xh,_c5:()=>TT,_uU:()=>h0,aQg:()=>aE,c2e:()=>Wv,cJS:()=>$n,cg1:()=>Vi,dDg:()=>Um,dqk:()=>Tt,eFA:()=>UI,eJc:()=>Kn,ekj:()=>tv,eoX:()=>FI,f3M:()=>rt,g9A:()=>Om,h0i:()=>Za,hGG:()=>ST,hij:()=>rm,iGM:()=>ip,ifc:()=>X,ip1:()=>Qu,jDz:()=>_m,kL8:()=>Jd,lG2:()=>ll,lqb:()=>Fu,lri:()=>OI,n5z:()=>sd,oAB:()=>Jo,oxw:()=>Qw,q4F:()=>e_,qLn:()=>Pd,qOj:()=>Xl,qZA:()=>bf,rWj:()=>kI,sBO:()=>vT,s_b:()=>Us,soG:()=>Cc,tb:()=>Jv,tp0:()=>Fi,uIk:()=>ro,vHH:()=>le,vpe:()=>gs,wAp:()=>Mt,xi3:()=>mc,xp6:()=>mw,ynx:()=>qg,z2F:()=>el,zSh:()=>Nd,zs3:()=>cs});var h=k(7579),L=k(727),G=k(9751),se=k(6451),oe=k(3099);function ae(s){for(let o in s)if(s[o]===ae)return o;throw Error("Could not find renamed property on target object.")}function Ne(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function De(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=ae({__forward_ref__:ae});function H(s){return s.__forward_ref__=H,s.toString=function(){return ve(this())},s}function Y(s){return Be(s)?s():s}function Be(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===H}function Ie(s){return s&&!!s.\u0275providers}const st="https://g.co/ng/security#xss";class le extends Error{constructor(o,a){super(_e(o,a)),this.code=o}}function _e(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function Ee(s){return"string"==typeof s?s:null==s?"":String(s)}function Ue(s,o){throw new le(-201,!1)}function nt(s,o){null==s&&function Pe(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function Dt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function $n(s){return{providers:s.providers||[],imports:s.imports||[]}}function fn(s){return Qn(s,bi)||Qn(s,Dn)}function Mn(s){return null!==fn(s)}function Qn(s,o){return s.hasOwnProperty(o)?s[o]:null}function ui(s){return s&&(s.hasOwnProperty(_s)||s.hasOwnProperty(nr))?s[_s]:null}const bi=ae({\u0275prov:ae}),_s=ae({\u0275inj:ae}),Dn=ae({ngInjectableDef:ae}),nr=ae({ngInjectorDef:ae});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let vs;function Ln(s){const o=vs;return vs=s,o}function jn(s,o,a){const l=fn(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Et.Optional?null:void 0!==o?o:void Ue(ve(s))}const Tt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),rr={},xn="__NG_DI_FLAG__",_r="ngTempTokenPath",Ir="ngTokenPath",fo=/\n/gm,wn="\u0275",js="__source";let tn;function Lr(s){const o=tn;return tn=s,o}function Vr(s,o=Et.Default){if(void 0===tn)throw new le(-203,!1);return null===tn?jn(s,void 0,o):tn.get(s,o&Et.Optional?null:void 0,o)}function Fe(s,o=Et.Default){return(function Ci(){return vs}()||Vr)(Y(s),o)}function rt(s,o=Et.Default){return Fe(s,_t(o))}function _t(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function zt(s){const o=[];for(let a=0;a<s.length;a++){const l=Y(s[a]);if(Array.isArray(l)){if(0===l.length)throw new le(900,!1);let d,g=Et.Default;for(let _=0;_<l.length;_++){const I=l[_],D=Vn(I);"number"==typeof D?-1===D?d=I.token:g|=D:d=I}o.push(Fe(d,g))}else o.push(Fe(l))}return o}function Gt(s,o){return s[xn]=o,s.prototype[xn]=o,s}function Vn(s){return s[xn]}function K(s){return{toString:s}.toString()}var ce=(()=>((ce=ce||{})[ce.OnPush=0]="OnPush",ce[ce.Default=1]="Default",ce))(),X=(()=>{return(s=X||(X={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",X;var s})();const tt={},We=[],cn=ae({\u0275cmp:ae}),Hn=ae({\u0275dir:ae}),In=ae({\u0275pipe:ae}),ir=ae({\u0275mod:ae}),jt=ae({\u0275fac:ae}),Ur=ae({__NG_ELEMENT_ID__:ae});let Ti=0;function iu(s){return K(()=>{const o=Dr(s),a={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===ce.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||X.Emulated,id:"c"+Ti++,styles:s.styles||We,_:null,schemas:s.schemas||null,tView:null};Gi(a);const l=s.dependencies;return a.directiveDefs=ws(l,!1),a.pipeDefs=ws(l,!0),a})}function al(s){return rn(s)||Rn(s)}function Qo(s){return null!==s}function Jo(s){return K(()=>({type:s.type,bootstrap:s.bootstrap||We,declarations:s.declarations||We,imports:s.imports||We,exports:s.exports||We,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Xo(s,o){if(null==s)return tt;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=l,o&&(o[d]=g)}return a}function ll(s){return K(()=>{const o=Dr(s);return Gi(o),o})}function cl(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function rn(s){return s[cn]||null}function Rn(s){return s[Hn]||null}function sr(s){return s[In]||null}function Es(s){const o=rn(s)||Rn(s)||sr(s);return null!==o&&o.standalone}function Yr(s,o){const a=s[ir]||null;if(!a&&!0===o)throw new Error(`Type ${ve(s)} does not have '\u0275mod' property.`);return a}function Dr(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||We,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xo(s.inputs,o),outputs:Xo(s.outputs)}}function Gi(s){s.features?.forEach(o=>o(s))}function ws(s,o){if(!s)return null;const a=o?sr:al;return()=>("function"==typeof s?s():s).map(l=>a(l)).filter(Qo)}const qi=0,Je=1,at=2,pn=3,Si=4,Hs=5,Tn=6,Is=7,Nn=8,Ai=9,dl=10,Ot=11,ea=12,Ds=13,po=14,zs=15,br=16,bs=17,Gs=18,Mi=19,qs=20,hl=21,Yt=22,ta=1,su=2,is=7,li=8,go=9,or=10;function Cr(s){return Array.isArray(s)&&"object"==typeof s[ta]}function xi(s){return Array.isArray(s)&&!0===s[ta]}function na(s){return 0!=(4&s.flags)}function Cs(s){return s.componentOffset>-1}function Tr(s){return 1==(1&s.flags)}function Qr(s){return!!s.template}function fl(s){return 0!=(256&s[at])}function di(s,o){return s.hasOwnProperty(jt)?s[jt]:null}class $c{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function ia(){return Ts}function Ts(s){return s.type.prototype.ngOnChanges&&(s.setInput=mo),du}function du(){const s=yo(this),o=s?.current;if(o){const a=s.previous;if(a===tt)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function mo(s,o,a,l){const d=this.declaredInputs[a],g=yo(s)||function hu(s,o){return s[pl]=o}(s,{previous:tt,current:null}),_=g.current||(g.current={}),I=g.previous,D=I[d];_[d]=new $c(D&&D.currentValue,o,I===tt),s[l]=o}ia.ngInherit=!0;const pl="__ngSimpleChanges__";function yo(s){return s[pl]||null}const ln=function(s,o,a){};function Pn(s){for(;Array.isArray(s);)s=s[qi];return s}function Ss(s,o){return Pn(o[s])}function ar(s,o){return Pn(o[s.index])}function oa(s,o){return s.data[o]}function ur(s,o){const a=o[s];return Cr(a)?a:a[qi]}function _o(s){return 64==(64&s[at])}function Ni(s,o){return null==o?null:s[o]}function Ks(s){s[Gs]=0}function aa(s,o){s[Hs]+=o;let a=s,l=s[pn];for(;null!==l&&(1===o&&1===a[Hs]||-1===o&&0===a[Hs]);)l[Hs]+=o,a=l,l=l[pn]}const Rt={lFrame:Kc(null),bindingsEnabled:!0};function Hc(){return Rt.bindingsEnabled}function we(){return Rt.lFrame.lView}function Qt(){return Rt.lFrame.tView}function Zs(s){return Rt.lFrame.contextLView=s,s[Nn]}function Ah(s){return Rt.lFrame.contextLView=null,s}function Un(){let s=Mh();for(;null!==s&&64===s.type;)s=s.parent;return s}function Mh(){return Rt.lFrame.currentTNode}function Pi(s,o){const a=Rt.lFrame;a.currentTNode=s,a.isParent=o}function mu(){return Rt.lFrame.isParent}function ua(){Rt.lFrame.isParent=!1}function ca(){return Rt.lFrame.bindingIndex++}function Il(s,o){const a=Rt.lFrame;a.bindingIndex=a.bindingRootIndex=s,vo(o)}function vo(s){Rt.lFrame.currentDirectiveIndex=s}function vu(){return Rt.lFrame.currentQueryIndex}function Eu(s){Rt.lFrame.currentQueryIndex=s}function Wc(s){const o=s[Je];return 2===o.type?o.declTNode:1===o.type?s[Tn]:null}function Dl(s,o,a){if(a&Et.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||a&Et.Host||(d=Wc(g),null===d||(g=g[zs],10&d.type))););if(null===d)return!1;o=d,s=g}const l=Rt.lFrame=Fp();return l.currentTNode=o,l.lView=s,!0}function wu(s){const o=Fp(),a=s[Je];Rt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Fp(){const s=Rt.lFrame,o=null===s?null:s.child;return null===o?Kc(s):o}function Kc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function bl(){const s=Rt.lFrame;return Rt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Zc=bl;function Yc(){const s=bl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function lr(){return Rt.lFrame.selectedIndex}function Eo(s){Rt.lFrame.selectedIndex=s}function dn(){const s=Rt.lFrame;return oa(s.tView,s.selectedIndex)}function Jc(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:I,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:R}=g;_&&(s.contentHooks??(s.contentHooks=[])).push(-a,_),I&&((s.contentHooks??(s.contentHooks=[])).push(a,I),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(a,I)),D&&(s.viewHooks??(s.viewHooks=[])).push(-a,D),S&&((s.viewHooks??(s.viewHooks=[])).push(a,S),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(a,S)),null!=R&&(s.destroyHooks??(s.destroyHooks=[])).push(a,R)}}function Xc(s,o,a){Ms(s,o,3,a)}function Iu(s,o,a,l){(3&s[at])===a&&Ms(s,o,a,l)}function da(s,o){let a=s[at];(3&a)===o&&(a&=2047,a+=1,s[at]=a)}function Ms(s,o,a,l){const g=l??-1,_=o.length-1;let I=0;for(let D=void 0!==l?65535&s[Gs]:0;D<_;D++)if("number"==typeof o[D+1]){if(I=o[D],null!=l&&I>=l)break}else o[D]<0&&(s[Gs]+=65536),(I<g||-1==g)&&(Up(s,a,o,D),s[Gs]=(4294901760&s[Gs])+D+2),D++}function Up(s,o,a,l){const d=a[l]<0,g=a[l+1],I=s[d?-a[l]:a[l]];if(d){if(s[at]>>11<s[Gs]>>16&&(3&s[at])===o){s[at]+=2048,ln(4,I,g);try{g.call(I)}finally{ln(5,I,g)}}}else{ln(4,I,g);try{g.call(I)}finally{ln(5,I,g)}}}const Wi=-1;class ha{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function wo(s,o,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const g=a[l++],_=a[l++],I=a[l++];s.setAttribute(o,_,I,g)}else{const g=d,_=a[++l];xs(g)?s.setProperty(o,g,_):s.setAttribute(o,g,_),l++}}return l}function Io(s){return 3===s||4===s||6===s}function xs(s){return 64===s.charCodeAt(0)}function Ki(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||pa(s,a,d,null,-1===a||2===a?o[++l]:null)}}return s}function pa(s,o,a,l,d){let g=0,_=s.length;if(-1===o)_=-1;else for(;g<s.length;){const I=s[g++];if("number"==typeof I){if(I===o){_=-1;break}if(I>o){_=g-1;break}}}for(;g<s.length;){const I=s[g];if("number"==typeof I)break;if(I===a){if(null===l)return void(null!==d&&(s[g+1]=d));if(l===s[g+1])return void(s[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==_&&(s.splice(_,0,o),g=_+1),s.splice(g++,0,a),null!==l&&s.splice(g++,0,l),null!==d&&s.splice(g++,0,d)}function Do(s){return s!==Wi}function ga(s){return 32767&s}function bo(s,o){let a=function Oh(s){return s>>16}(s),l=o;for(;a>0;)l=l[zs],a--;return l}let Du=!0;function ma(s){const o=Du;return Du=s,o}const bu=255,ya=5;let Co=0;const fi={};function _a(s,o){const a=Cu(s,o);if(-1!==a)return a;const l=o[Je];l.firstCreatePass&&(s.injectorIndex=o.length,mn(l.data,s),mn(o,null),mn(l.blueprint,null));const d=Rs(s,o),g=s.injectorIndex;if(Do(d)){const _=ga(d),I=bo(d,o),D=I[Je].data;for(let S=0;S<8;S++)o[g+S]=I[_+S]|D[_+S]}return o[g+8]=d,g}function mn(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Cu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Rs(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){if(l=od(d),null===l)return Wi;if(a++,d=d[zs],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return Wi}function va(s,o,a){!function Ys(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Ur)&&(l=a[Ur]),null==l&&(l=a[Ur]=Co++);const d=l&bu;o.data[s+(d>>ya)]|=1<<d}(s,o,a)}function Ea(s,o,a){if(a&Et.Optional||void 0!==s)return s;Ue()}function nd(s,o,a,l){if(a&Et.Optional&&void 0===l&&(l=null),!(a&(Et.Self|Et.Host))){const d=s[Ai],g=Ln(void 0);try{return d?d.get(o,l,a&Et.Optional):jn(o,l,a&Et.Optional)}finally{Ln(g)}}return Ea(l,0,a)}function wa(s,o,a,l=Et.Default,d){if(null!==s){if(1024&o[at]){const _=function Ml(s,o,a,l,d){let g=s,_=o;for(;null!==g&&null!==_&&1024&_[at]&&!(256&_[at]);){const I=rd(g,_,a,l|Et.Self,fi);if(I!==fi)return I;let D=g.parent;if(!D){const S=_[hl];if(S){const R=S.get(a,fi,l);if(R!==fi)return R}D=od(_),_=_[zs]}g=D}return d}(s,o,a,l,fi);if(_!==fi)return _}const g=rd(s,o,a,l,fi);if(g!==fi)return g}return nd(o,a,l,d)}function rd(s,o,a,l,d){const g=function Ns(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ur)?s[Ur]:void 0;return"number"==typeof o?o>=0?o&bu:ba:o}(a);if("function"==typeof g){if(!Dl(o,s,l))return l&Et.Host?Ea(d,0,l):nd(o,a,l,d);try{const _=g(l);if(null!=_||l&Et.Optional)return _;Ue()}finally{Zc()}}else if("number"==typeof g){let _=null,I=Cu(s,o),D=Wi,S=l&Et.Host?o[br][Tn]:null;for((-1===I||l&Et.SkipSelf)&&(D=-1===I?Rs(s,o):o[I+8],D!==Wi&&Da(l,!1)?(_=o[Je],I=ga(D),o=bo(D,o)):I=-1);-1!==I;){const R=o[Je];if(id(g,I,R.data)){const O=Br(I,o,a,_,l,S);if(O!==fi)return O}D=o[I+8],D!==Wi&&Da(l,o[Je].data[I+8]===S)&&id(g,I,o)?(_=R,I=ga(D),o=bo(D,o)):I=-1}}return d}function Br(s,o,a,l,d,g){const _=o[Je],I=_.data[s+8],R=Ia(I,_,a,null==l?Cs(I)&&Du:l!=_&&0!=(3&I.type),d&Et.Host&&g===I);return null!==R?Oi(o,_,R,I):fi}function Ia(s,o,a,l,d){const g=s.providerIndexes,_=o.data,I=1048575&g,D=s.directiveStart,R=g>>20,z=d?I+R:s.directiveEnd;for(let Q=l?I:I+R;Q<z;Q++){const he=_[Q];if(Q<D&&a===he||Q>=D&&he.type===a)return Q}if(d){const Q=_[D];if(Q&&Qr(Q)&&Q.type===a)return D}return null}function Oi(s,o,a,l){let d=s[a];const g=o.data;if(function Nh(s){return s instanceof ha}(d)){const _=d;_.resolving&&function be(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new le(-200,`Circular dependency in DI detected for ${s}${a}`)}(function ke(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ee(s)}(g[a]));const I=ma(_.canSeeViewProviders);_.resolving=!0;const D=_.injectImpl?Ln(_.injectImpl):null;Dl(s,l,Et.Default);try{d=s[a]=_.factory(void 0,g,s,l),o.firstCreatePass&&a>=l.directiveStart&&function Rh(s,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(l){const _=Ts(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,_)}d&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-s,d),g&&((a.preOrderHooks??(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==D&&Ln(D),ma(I),_.resolving=!1,Zc()}}return d}function id(s,o,a){return!!(a[o+(s>>ya)]&1<<s)}function Da(s,o){return!(s&Et.Self||s&Et.Host&&o)}class Ar{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return wa(this._tNode,this._lView,o,_t(l),a)}}function ba(){return new Ar(Un(),we())}function sd(s){return K(()=>{const o=s.prototype.constructor,a=o[jt]||Ca(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const g=d[jt]||Ca(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Ca(s){return Be(s)?()=>{const o=Ca(Y(s));return o&&o()}:di(s)}function od(s){const o=s[Je],a=o.type;return 2===a?o.declTNode:1===a?s[Tn]:null}function Tu(s){return function Al(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const g=a[d];if(Io(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(Un(),s)}const Ps="__parameters__";function So(s,o,a){return K(()=>{const l=function ad(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...g){if(this instanceof d)return l.apply(this,g),this;const _=new d(...g);return I.annotation=_,I;function I(D,S,R){const O=D.hasOwnProperty(Ps)?D[Ps]:Object.defineProperty(D,Ps,{value:[]})[Ps];for(;O.length<=R;)O.push(null);return(O[R]=O[R]||[]).push(_),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class yn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Dt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ao(s,o){s.forEach(a=>Array.isArray(a)?Ao(a,o):o(a))}function ld(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Pl(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Jt(s,o,a){let l=Zi(s,o);return l>=0?s[1|l]=a:(l=~l,function kl(s,o,a,l){let d=s.length;if(d==o)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function Gn(s,o){const a=Zi(s,o);if(a>=0)return s[1|a]}function Zi(s,o){return function Su(s,o,a){let l=0,d=s.length>>a;for(;d!==l;){const g=l+(d-l>>1),_=s[g<<a];if(o===_)return g<<a;_>o?d=g:l=g+1}return~(d<<a)}(s,o,1)}const $r=Gt(So("Optional"),8),Fi=Gt(So("SkipSelf"),4);var ls=(()=>((ls=ls||{})[ls.Important=1]="Important",ls[ls.DashCase=2]="DashCase",ls))();const Xp=new Map;let BE=0;const tg="__ngContext__";function ni(s,o){Cr(o)?(s[tg]=o[qs],function gd(s){Xp.set(s[qs],s)}(o)):s[tg]=o}let xu;function Pa(s,o){return xu(s,o)}function Oo(s){const o=s[pn];return xi(o)?o[pn]:o}function Dd(s){return qh(s[Ds])}function Ru(s){return qh(s[Si])}function qh(s){for(;null!==s&&!xi(s);)s=s[Si];return s}function ka(s,o,a,l,d){if(null!=l){let g,_=!1;xi(l)?g=l:Cr(l)&&(_=!0,l=l[qi]);const I=Pn(l);0===s&&null!==a?null==d?Nu(o,a,I):mi(o,a,I,d||null,!0):1===s&&null!==a?mi(o,a,I,d||null,!0):2===s?function Sd(s,o,a){const l=Fa(s,o);l&&function sg(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}(o,I,_):3===s&&o.destroyNode(I),null!=g&&function Ib(s,o,a,l,d){const g=a[is];g!==Pn(a)&&ka(o,s,l,g,d);for(let I=or;I<a.length;I++){const D=a[I];Ad(D[Je],D,s,o,l,g)}}(o,s,g,a,d)}}function ig(s,o,a){return s.createElement(o,a)}function N(s,o){const a=s[go],l=a.indexOf(o),d=o[pn];512&o[at]&&(o[at]&=-513,aa(d,-1)),a.splice(l,1)}function q(s,o){if(s.length<=or)return;const a=or+o,l=s[a];if(l){const d=l[bs];null!==d&&d!==s&&N(d,l),o>0&&(s[a-1][Si]=l[Si]);const g=Pl(s,or+o);!function Py(s,o){Ad(s,o,o[Ot],2,null,null),o[qi]=null,o[Tn]=null}(l[Je],l);const _=g[Mi];null!==_&&_.detachView(g[Je]),l[pn]=null,l[Si]=null,l[at]&=-65}return l}function te(s,o){if(!(128&o[at])){const a=o[Ot];a.destroyNode&&Ad(s,o,a,3,null,null),function m(s){let o=s[Ds];if(!o)return Le(s[Je],s);for(;o;){let a=null;if(Cr(o))a=o[Ds];else{const l=o[or];l&&(a=l)}if(!a){for(;o&&!o[Si]&&o!==s;)Cr(o)&&Le(o[Je],o),o=o[pn];null===o&&(o=s),Cr(o)&&Le(o[Je],o),a=o&&o[Si]}o=a}}(o)}}function Le(s,o){if(!(128&o[at])){o[at]&=-65,o[at]|=128,function dt(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof ha)){const g=a[l+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const I=d[g[_]],D=g[_+1];ln(4,I,D);try{D.call(I)}finally{ln(5,I,D)}}else{ln(4,d,g);try{g.call(d)}finally{ln(5,d,g)}}}}}(s,o),function qe(s,o){const a=s.cleanup,l=o[Is];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const _=a[g+3];_>=0?l[d=_]():l[d=-_].unsubscribe(),g+=2}else{const _=l[d=a[g+1]];a[g].call(_)}if(null!==l){for(let g=d+1;g<l.length;g++)(0,l[g])();o[Is]=null}}(s,o),1===o[Je].type&&o[Ot].destroy();const a=o[bs];if(null!==a&&xi(o[pn])){a!==o[pn]&&N(a,o);const l=o[Mi];null!==l&&l.detachView(s)}!function yd(s){Xp.delete(s[qs])}(o)}}function Ut(s,o,a){return function Hr(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[qi];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:g}=s.data[l.directiveStart+d];if(g===X.None||g===X.Emulated)return null}return ar(l,a)}}(s,o.parent,a)}function mi(s,o,a,l,d){s.insertBefore(o,a,l,d)}function Nu(s,o,a){s.appendChild(o,a)}function Wh(s,o,a,l,d){null!==l?mi(s,o,a,l,d):Nu(s,o,a)}function Fa(s,o){return s.parentNode(o)}let Gl,Ly,Vy,Cd=function zl(s,o,a){return 40&s.type?ar(s,a):null};function Pu(s,o,a,l){const d=Ut(s,l,o),g=o[Ot],I=function ag(s,o,a){return Cd(s,o,a)}(l.parent||o[Tn],l,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)Wh(g,d,a[D],I,!1);else Wh(g,d,a,I,!1);void 0!==Gl&&Gl(g,l,o,a,d)}function Kh(s,o){if(null!==o){const a=o.type;if(3&a)return ar(o,s);if(4&a)return ql(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return Kh(s,l);{const d=s[o.index];return xi(d)?ql(-1,d):Pn(d)}}if(32&a)return Pa(o,s)()||Pn(s[o.index]);{const l=$E(s,o);return null!==l?Array.isArray(l)?l[0]:Kh(Oo(s[br]),l):Kh(s,o.next)}}return null}function $E(s,o){return null!==o?s[br][Tn].projection[o.projection]:null}function ql(s,o){const a=or+s+1;if(a<o.length){const l=o[a],d=l[Je].firstChild;if(null!==d)return Kh(l,d)}return o[is]}function ug(s,o,a,l,d,g,_){for(;null!=a;){const I=l[a.index],D=a.type;if(_&&0===o&&(I&&ni(Pn(I),l),a.flags|=2),32!=(32&a.flags))if(8&D)ug(s,o,a.child,l,d,g,!1),ka(o,s,d,I,g);else if(32&D){const S=Pa(a,l);let R;for(;R=S();)ka(o,s,d,R,g);ka(o,s,d,I,g)}else 16&D?wb(s,o,l,a,d,g):ka(o,s,d,I,g);a=_?a.projectionNext:a.next}}function Ad(s,o,a,l,d,g){ug(a,l,s.firstChild,o,d,g,!1)}function wb(s,o,a,l,d,g){const _=a[br],D=_[Tn].projection[l.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)ka(o,s,d,D[S],g);else ug(s,o,D,_[pn],d,g,!0)}function Db(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function bb(s,o,a){const{mergedAttrs:l,classes:d,styles:g}=a;null!==l&&wo(s,o,l),null!==d&&Db(s,o,d),null!==g&&function aM(s,o,a){s.setAttribute(o,"style",a)}(s,o,g)}function GE(s){Ly=s}function KE(s){return function cg(){if(void 0===Vy&&(Vy=null,Tt.trustedTypes))try{Vy=Tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Vy}()?.createScriptURL(s)||s}class By{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${st})`}}function Ou(s){return s instanceof By?s.changingThisBreaksApplicationSecurity:s}function Kl(s,o){const a=function Ab(s){return s instanceof By&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${st})`)}return a===o}const Nb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var dr=(()=>((dr=dr||{})[dr.NONE=0]="NONE",dr[dr.HTML=1]="HTML",dr[dr.STYLE=2]="STYLE",dr[dr.SCRIPT=3]="SCRIPT",dr[dr.URL=4]="URL",dr[dr.RESOURCE_URL=5]="RESOURCE_URL",dr))();function Vb(s){const o=_g();return o?o.sanitize(dr.URL,s)||"":Kl(s,"URL")?Ou(s):function hg(s){return(s=String(s)).match(Nb)?s:"unsafe:"+s}(Ee(s))}function qy(s){const o=_g();if(o)return KE(o.sanitize(dr.RESOURCE_URL,s)||"");if(Kl(s,"ResourceURL"))return KE(Ou(s));throw new le(904,!1)}function Bb(s,o,a){return function mM(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?qy:Vb}(o,a)(s)}function _g(){const s=we();return s&&s[ea]}const Wy=new yn("ENVIRONMENT_INITIALIZER"),rw=new yn("INJECTOR",-1),wt=new yn("INJECTOR_DEF_TYPES");class yi{get(o,a=rr){if(a===rr){const l=new Error(`NullInjectorError: No provider for ${ve(o)}!`);throw l.name="NullInjectorError",l}return a}}function Ky(s){return{\u0275providers:s}}function ku(...s){return{\u0275providers:Yi(0,s),\u0275fromNgModule:!0}}function Yi(s,...o){const a=[],l=new Set;let d;return Ao(o,g=>{const _=g;Rd(_,a,[],l)&&(d||(d=[]),d.push(_))}),void 0!==d&&Xs(d,a),a}function Xs(s,o){for(let a=0;a<s.length;a++){const{providers:d}=s[a];eo(d,g=>{o.push(g)})}}function Rd(s,o,a,l){if(!(s=Y(s)))return!1;let d=null,g=ui(s);const _=!g&&rn(s);if(g||_){if(_&&!_.standalone)return!1;d=s}else{const D=s.ngModule;if(g=ui(D),!g)return!1;d=D}const I=l.has(d);if(_){if(I)return!1;if(l.add(d),_.dependencies){const D="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const S of D)Rd(S,o,a,l)}}else{if(!g)return!1;{if(null!=g.imports&&!I){let S;l.add(d);try{Ao(g.imports,R=>{Rd(R,o,a,l)&&(S||(S=[]),S.push(R))})}finally{}void 0!==S&&Xs(S,o)}if(!I){const S=di(d)||(()=>new d);o.push({provide:d,useFactory:S,deps:We},{provide:wt,useValue:d,multi:!0},{provide:Wy,useValue:()=>Fe(d),multi:!0})}const D=g.providers;null==D||I||eo(D,R=>{o.push(R)})}}return d!==s&&void 0!==s.providers}function eo(s,o){for(let a of s)Ie(a)&&(a=a.\u0275providers),Array.isArray(a)?eo(a,o):o(a)}const yM=ae({provide:String,useValue:ae});function Zy(s){return null!==s&&"object"==typeof s&&yM in s}function Zl(s){return"function"==typeof s}const Nd=new yn("Set Injector scope."),to={},_M={};let Yy;function vg(){return void 0===Yy&&(Yy=new yi),Yy}class Fu{}class Qy extends Fu{get destroyed(){return this._destroyed}constructor(o,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qh(o,_=>this.processProvider(_)),this.records.set(rw,Lu(void 0,this)),d.has("environment")&&this.records.set(Fu,Lu(void 0,this));const g=this.records.get(Nd);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(wt.multi,We,Et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Lr(this),l=Ln(void 0);try{return o()}finally{Lr(a),Ln(l)}}get(o,a=rr,l=Et.Default){this.assertNotDestroyed(),l=_t(l);const d=Lr(this),g=Ln(void 0);try{if(!(l&Et.SkipSelf)){let I=this.records.get(o);if(void 0===I){const D=function uw(s){return"function"==typeof s||"object"==typeof s&&s instanceof yn}(o)&&fn(o);I=D&&this.injectableDefInScope(D)?Lu(Eg(o),to):null,this.records.set(o,I)}if(null!=I)return this.hydrate(o,I)}return(l&Et.Self?vg():this.parent).get(o,a=l&Et.Optional&&a===rr?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[_r]=_[_r]||[]).unshift(ve(o)),d)throw _;return function U(s,o,a,l){const d=s[_r];throw o[js]&&d.unshift(o[js]),s.message=function V(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==wn?s.slice(2):s;let d=ve(o);if(Array.isArray(o))d=o.map(ve).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let I=o[_];g.push(_+":"+("string"==typeof I?JSON.stringify(I):ve(I)))}d=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(fo,"\n  ")}`}("\n"+s.message,d,a,l),s[Ir]=d,s[_r]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{Ln(g),Lr(d)}}resolveInjectorInitializers(){const o=Lr(this),a=Ln(void 0);try{const l=this.get(Wy.multi,We,Et.Self);for(const d of l)d()}finally{Lr(o),Ln(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(ve(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(o){let a=Zl(o=Y(o))?o:Y(o&&o.provide);const l=function Yh(s){return Zy(s)?Lu(void 0,s.useValue):Lu(hr(s),to)}(o);if(Zl(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Lu(void 0,to,!0),d.factory=()=>zt(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===to&&(a.value=_M,a.value=a.factory()),"object"==typeof a.value&&a.value&&function wg(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Y(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Eg(s){const o=fn(s),a=null!==o?o.factory:di(s);if(null!==a)return a;if(s instanceof yn)throw new le(204,!1);if(s instanceof Function)return function $b(s){const o=s.length;if(o>0)throw function Mo(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}(o,"?"),new le(204,!1);const a=function zi(s){const o=s&&(s[bi]||s[Dn]);return o?(function ys(s){if(s.hasOwnProperty("name"))return s.name;(""+s).match(/^function\s*([^\s(]+)/)}(s),o):null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new le(204,!1)}function hr(s,o,a){let l;if(Zl(s)){const d=Y(s);return di(d)||Eg(d)}if(Zy(s))l=()=>Y(s.useValue);else if(function ow(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...zt(s.deps||[]));else if(function sw(s){return!(!s||!s.useExisting)}(s))l=()=>Fe(Y(s.useExisting));else{const d=Y(s&&(s.useClass||s.provide));if(!function Jy(s){return!!s.deps}(s))return di(d)||Eg(d);l=()=>new d(...zt(s.deps))}return l}function Lu(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Qh(s,o){for(const a of s)Array.isArray(a)?Qh(a,o):a&&Ie(a)?Qh(a.\u0275providers,o):o(a)}class lw{}class Xy{}class Jh{resolveComponentFactory(o){throw function jb(s){const o=Error(`No component factory found for ${ve(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Xh=(()=>{class s{}return s.NULL=new Jh,s})();function dw(){return ef(Un(),we())}function ef(s,o){return new Ig(ar(s,o))}let Ig=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=dw,s})();function EM(s){return s instanceof Ig?s.nativeElement:s}class Hb{}let wM=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function IM(){const s=we(),a=ur(Un().index,s);return(Cr(a)?a:s)[Ot]}(),s})(),zb=(()=>{class s{}return s.\u0275prov=Dt({token:s,providedIn:"root",factory:()=>null}),s})();class hw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const e_=new hw("15.2.7"),t_={},fw="ngOriginalError";function n_(s){return s[fw]}class Pd{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&n_(o);for(;a&&n_(a);)a=n_(a);return a||null}}function i_(s){return s.ownerDocument.defaultView}function Vu(s){return s instanceof Function?s():s}function Zb(s,o,a){let l=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===l||s.charCodeAt(d+g)<=32)return d}a=d+1}}const Yb="ng-template";function CM(s,o,a){let l=0,d=!0;for(;l<s.length;){let g=s[l++];if("string"==typeof g&&d){const _=s[l++];if(a&&"class"===g&&-1!==Zb(_.toLowerCase(),o,0))return!0}else{if(1===g){for(;l<s.length&&"string"==typeof(g=s[l++]);)if(g.toLowerCase()===o)return!0;return!1}"number"==typeof g&&(d=!1)}}return!1}function Qb(s){return 4===s.type&&s.value!==Yb}function TM(s,o,a){return o===(4!==s.type||a?s.value:Yb)}function Jb(s,o,a){let l=4;const d=s.attrs||[],g=function tf(s){for(let o=0;o<s.length;o++)if(Io(s[o]))return o;return s.length}(d);let _=!1;for(let I=0;I<o.length;I++){const D=o[I];if("number"!=typeof D){if(!_)if(4&l){if(l=2|1&l,""!==D&&!TM(s,D,a)||""===D&&1===o.length){if(ko(l))return!1;_=!0}}else{const S=8&l?D:o[++I];if(8&l&&null!==s.attrs){if(!CM(s.attrs,S,a)){if(ko(l))return!1;_=!0}continue}const O=SM(8&l?"class":D,d,Qb(s),a);if(-1===O){if(ko(l))return!1;_=!0;continue}if(""!==S){let z;z=O>g?"":d[O+1].toLowerCase();const Q=8&l?z:null;if(Q&&-1!==Zb(Q,S,0)||2&l&&S!==z){if(ko(l))return!1;_=!0}}}}else{if(!_&&!ko(l)&&!ko(D))return!1;if(_&&ko(D))continue;_=!1,l=D|1&l}}return ko(l)||_}function ko(s){return 0==(1&s)}function SM(s,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let g=!1;for(;d<o.length;){const _=o[d];if(_===s)return d;if(3===_||6===_)g=!0;else{if(1===_||2===_){let I=o[++d];for(;"string"==typeof I;)I=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=g?1:2}return-1}return function nf(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function Uu(s,o,a=!1){for(let l=0;l<o.length;l++)if(Jb(s,o[l],a))return!0;return!1}function eC(s,o){return s?":not("+o.trim()+")":o}function tC(s){let o=s[0],a=1,l=2,d="",g=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&l){const I=s[++a];d+="["+_+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!ko(_)&&(o+=eC(g,d),d=""),l=_,g=g||!ko(l);a++}return""!==d&&(o+=eC(g,d)),o}const $t={};function mw(s){yw(Qt(),we(),lr()+s,!1)}function yw(s,o,a,l){if(!l)if(3==(3&o[at])){const g=s.preOrderCheckHooks;null!==g&&Xc(o,g,a)}else{const g=s.preOrderHooks;null!==g&&Iu(o,g,0,a)}Eo(a)}function Fo(s,o=null,a=null,l){const d=Dg(s,o,a,l);return d.resolveInjectorInitializers(),d}function Dg(s,o=null,a=null,l,d=new Set){const g=[a||We,ku(s)];return l=l||("object"==typeof s?void 0:ve(s)),new Qy(g,o||vg(),l||null,d)}let cs=(()=>{class s{static create(a,l){if(Array.isArray(a))return Fo({name:""},l,a,"");{const d=a.name??"";return Fo({name:d},a.parent,a.providers,d)}}}return s.THROW_IF_NOT_FOUND=rr,s.NULL=new yi,s.\u0275prov=Dt({token:s,providedIn:"any",factory:()=>Fe(rw)}),s.__NG_ELEMENT_ID__=-1,s})();function Vd(s,o=Et.Default){const a=we();return null===a?Fe(s,o):wa(Un(),a,Y(s),o)}function Yl(){throw new Error("invalid")}function Tg(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const g=a[l+1];if(-1!==g){const _=s.data[g];Eu(a[l]),_.contentQueries(2,o[g],g)}}}function af(s,o,a,l,d,g,_,I,D,S,R){const O=o.blueprint.slice();return O[qi]=d,O[at]=76|l,(null!==R||s&&1024&s[at])&&(O[at]|=1024),Ks(O),O[pn]=O[zs]=s,O[Nn]=a,O[dl]=_||s&&s[dl],O[Ot]=I||s&&s[Ot],O[ea]=D||s&&s[ea]||null,O[Ai]=S||s&&s[Ai]||null,O[Tn]=g,O[qs]=function pd(){return BE++}(),O[hl]=R,O[br]=2==o.type?s[br]:O,O}function Va(s,o,a,l,d){let g=s.data[o];if(null===g)g=function uf(s,o,a,l,d){const g=Mh(),_=mu(),D=s.data[o]=function Mg(s,o,a,l,d,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,a,o,l,d);return null===s.firstChild&&(s.firstChild=D),null!==g&&(_?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D,D.prev=g)),D}(s,o,a,l,d),function _u(){return Rt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=a,g.value=l,g.attrs=d;const _=function As(){const s=Rt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return Pi(g,!0),g}function Ql(s,o,a,l){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function lf(s,o,a){wu(o);try{const l=s.viewQuery;null!==l&&mf(1,l,a);const d=s.template;null!==d&&bw(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Tg(s,o),s.staticViewQueries&&mf(2,s.viewQuery,a);const g=s.components;null!==g&&function uC(s,o){for(let a=0;a<o.length;a++)gC(s,o[a])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[at]&=-5,Yc()}}function Sg(s,o,a,l){const d=o[at];if(128!=(128&d)){wu(o);try{Ks(o),function wl(s){return Rt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&bw(s,o,a,2,l);const _=3==(3&d);if(_){const S=s.preOrderCheckHooks;null!==S&&Xc(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Iu(o,S,0,null),da(o,0)}if(function pC(s){for(let o=Dd(s);null!==o;o=Ru(o)){if(!o[su])continue;const a=o[go];for(let l=0;l<a.length;l++){const d=a[l];512&d[at]||aa(d[pn],1),d[at]|=512}}}(o),function fC(s){for(let o=Dd(s);null!==o;o=Ru(o))for(let a=or;a<o.length;a++){const l=o[a],d=l[Je];_o(l)&&Sg(d,l,d.template,l[Nn])}}(o),null!==s.contentQueries&&Tg(s,o),_){const S=s.contentCheckHooks;null!==S&&Xc(o,S)}else{const S=s.contentHooks;null!==S&&Iu(o,S,1),da(o,1)}!function Iw(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Eo(~d);else{const g=d,_=a[++l],I=a[++l];Il(_,g),I(2,o[g])}}}finally{Eo(-1)}}(s,o);const I=s.components;null!==I&&function Dw(s,o){for(let a=0;a<o.length;a++)Nw(s,o[a])}(o,I);const D=s.viewQuery;if(null!==D&&mf(2,D,l),_){const S=s.viewCheckHooks;null!==S&&Xc(o,S)}else{const S=s.viewHooks;null!==S&&Iu(o,S,2),da(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[at]&=-41,512&o[at]&&(o[at]&=-513,aa(o[pn],-1))}finally{Yc()}}}function bw(s,o,a,l,d){const g=lr(),_=2&l;try{Eo(-1),_&&o.length>Yt&&yw(s,o,Yt,!1),ln(_?2:0,d),a(l,d)}finally{Eo(g),ln(_?3:1,d)}}function cf(s,o,a){if(na(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const _=s.data[g];_.contentQueries&&_.contentQueries(1,a[g],g)}}}function Ag(s,o,a){Hc()&&(function xw(s,o,a,l){const d=a.directiveStart,g=a.directiveEnd;Cs(a)&&function ii(s,o,a){const l=ar(o,s),d=Ud(a),g=s[dl],_=gf(s,af(s,d,null,a.onPush?32:16,l,o,g,g.createRenderer(l,a),null,null,null));s[o.index]=_}(o,a,s.data[d+a.componentOffset]),s.firstCreatePass||_a(a,o),ni(l,o);const _=a.initialInputs;for(let I=d;I<g;I++){const D=s.data[I],S=Oi(o,s,I,a);ni(S,o),null!==_&&dC(0,I-d,S,D,0,_),Qr(D)&&(ur(a.index,o)[Nn]=Oi(o,s,I,a))}}(s,o,a,ar(a,o)),64==(64&a.flags)&&E_(s,o,a))}function p_(s,o,a=ar){const l=o.localNames;if(null!==l){let d=o.index+1;for(let g=0;g<l.length;g+=2){const _=l[g+1],I=-1===_?a(o,s):s[_];s[d++]=I}}}function Ud(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=g_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function g_(s,o,a,l,d,g,_,I,D,S){const R=Yt+l,O=R+d,z=function df(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:$t);return a}(R,O),Q="function"==typeof S?S():S;return z[Je]={type:s,blueprint:z,template:a,queries:null,viewQuery:I,declTNode:o,data:z.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:D,consts:Q,incompleteFirstPass:!1}}function Cw(s,o,a,l){const d=Ow(o);null===a?d.push(l):(d.push(a),s.firstCreatePass&&Bd(s).push(l,d.length-1))}function xg(s,o,a,l){for(let d in s)if(s.hasOwnProperty(d)){a=null===a?{}:a;const g=s[d];null===l?m_(a,o,d,g):l.hasOwnProperty(d)&&m_(a,o,l[d],g)}return a}function m_(s,o,a,l){s.hasOwnProperty(a)?s[a].push(o,l):s[a]=[o,l]}function hf(s,o,a,l){if(Hc()){const d=null===l?null:{"":-1},g=function Rw(s,o){const a=s.directiveRegistry;let l=null,d=null;if(a)for(let g=0;g<a.length;g++){const _=a[g];if(Uu(o,_.selectors,!1))if(l||(l=[]),Qr(_))if(null!==_.findHostDirectiveDefs){const I=[];d=d||new Map,_.findHostDirectiveDefs(_,I,d),l.unshift(...I,_),I_(s,o,I.length)}else l.unshift(_),I_(s,o,0);else d=d||new Map,_.findHostDirectiveDefs?.(_,l,d),l.push(_)}return null===l?null:[l,d]}(s,a);let _,I;null===g?_=I=null:[_,I]=g,null!==_&&v_(s,o,a,_,d,I),d&&function D_(s,o,a){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new le(-301,!1);l.push(o[d],g)}}}(a,l,d)}a.mergedAttrs=Ki(a.mergedAttrs,a.attrs)}function v_(s,o,a,l,d,g){for(let S=0;S<l.length;S++)va(_a(a,o),s,l[S].type);!function C_(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,l.length);for(let S=0;S<l.length;S++){const R=l[S];R.providersResolver&&R.providersResolver(R)}let _=!1,I=!1,D=Ql(s,o,l.length,null);for(let S=0;S<l.length;S++){const R=l[S];a.mergedAttrs=Ki(a.mergedAttrs,R.hostAttrs),qr(s,a,o,D,R),b_(D,R,d),null!==R.contentQueries&&(a.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(a.flags|=64);const O=R.type.prototype;!_&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(a.index),_=!0),!I&&(O.ngOnChanges||O.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(a.index),I=!0),D++}!function Tw(s,o,a){const d=o.directiveEnd,g=s.data,_=o.attrs,I=[];let D=null,S=null;for(let R=o.directiveStart;R<d;R++){const O=g[R],z=a?a.get(O):null,he=z?z.outputs:null;D=xg(O.inputs,R,D,z?z.inputs:null),S=xg(O.outputs,R,S,he);const Ve=null===D||null===_||Qb(o)?null:hC(D,R,_);I.push(Ve)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=8),D.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=I,o.inputs=D,o.outputs=S}(s,a,g)}function E_(s,o,a){const l=a.directiveStart,d=a.directiveEnd,g=a.index,_=function xh(){return Rt.lFrame.currentDirectiveIndex}();try{Eo(g);for(let I=l;I<d;I++){const D=s.data[I],S=o[I];vo(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&w_(D,S)}}finally{Eo(-1),vo(_)}}function w_(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function I_(s,o,a){o.componentOffset=a,(s.components??(s.components=[])).push(o.index)}function b_(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Qr(o)&&(a[""]=s)}}function qr(s,o,a,l,d){s.data[l]=d;const g=d.factory||(d.factory=di(d.type)),_=new ha(g,Qr(d),Vd);s.blueprint[l]=_,a[l]=_,function Mw(s,o,a,l,d){const g=d.hostBindings;if(g){let _=s.hostBindingOpCodes;null===_&&(_=s.hostBindingOpCodes=[]);const I=~o.index;(function cC(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(_)!=I&&_.push(I),_.push(a,l,g)}}(s,o,l,Ql(s,a,d.hostVars,$t),d)}function ds(s,o,a,l,d,g){const _=ar(s,o);!function ff(s,o,a,l,d,g,_){if(null==g)s.removeAttribute(o,d,a);else{const I=null==_?Ee(g):_(g,l||"",d);s.setAttribute(o,d,I,a)}}(o[Ot],_,g,s.value,a,l,d)}function dC(s,o,a,l,d,g){const _=g[o];if(null!==_){const I=l.setInput;for(let D=0;D<_.length;){const S=_[D++],R=_[D++],O=_[D++];null!==I?l.setInput(a,O,S,R):a[R]=O}}}function hC(s,o,a){let l=null,d=0;for(;d<a.length;){const g=a[d];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===l&&(l=[]);const _=s[g];for(let I=0;I<_.length;I+=2)if(_[I]===o){l.push(g,_[I+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function T_(s,o,a,l){return[s,!0,!1,o,null,0,l,a,null,null]}function Nw(s,o){const a=ur(o,s);if(_o(a)){const l=a[Je];48&a[at]?Sg(l,a,l.template,a[Nn]):a[Hs]>0&&pf(a)}}function pf(s){for(let l=Dd(s);null!==l;l=Ru(l))for(let d=or;d<l.length;d++){const g=l[d];if(_o(g))if(512&g[at]){const _=g[Je];Sg(_,g,_.template,g[Nn])}else g[Hs]>0&&pf(g)}const a=s[Je].components;if(null!==a)for(let l=0;l<a.length;l++){const d=ur(a[l],s);_o(d)&&d[Hs]>0&&pf(d)}}function gC(s,o){const a=ur(o,s),l=a[Je];(function S_(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),lf(l,a,a[Nn])}function gf(s,o){return s[Ds]?s[po][Si]=o:s[Ds]=o,s[po]=o,o}function Rg(s){for(;s;){s[at]|=32;const o=Oo(s);if(fl(s)&&!o)return s;s=o}return null}function Jl(s,o,a,l=!0){const d=o[dl];d.begin&&d.begin();try{Sg(s,o,s.template,a)}catch(_){throw l&&M_(o,_),_}finally{d.end&&d.end()}}function mf(s,o,a){Eu(0),o(s,a)}function Ow(s){return s[Is]||(s[Is]=[])}function Bd(s){return s.cleanup||(s.cleanup=[])}function M_(s,o){const a=s[Ai],l=a?a.get(Pd,null):null;l&&l.handleError(o)}function Ng(s,o,a,l,d){for(let g=0;g<a.length;){const _=a[g++],I=a[g++],D=o[_],S=s.data[_];null!==S.setInput?S.setInput(D,d,l,I):D[I]=d}}function Pg(s,o,a){let l=a?s.styles:null,d=a?s.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const I=o[_];"number"==typeof I?g=I:1==g?d=De(d,I):2==g&&(l=De(l,I+": "+o[++_]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}function Og(s,o,a,l,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&l.push(Pn(g)),xi(g))for(let I=or;I<g.length;I++){const D=g[I],S=D[Je].firstChild;null!==S&&Og(D[Je],D,S,l)}const _=a.type;if(8&_)Og(s,o,a.child,l);else if(32&_){const I=Pa(a,o);let D;for(;D=I();)l.push(D)}else if(16&_){const I=$E(o,a);if(Array.isArray(I))l.push(...I);else{const D=Oo(o[br]);Og(D[Je],D,I,l,!0)}}a=d?a.projectionNext:a.next}return l}class Lo{get rootNodes(){const o=this._lView,a=o[Je];return Og(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nn]}set context(o){this._lView[Nn]=o}get destroyed(){return 128==(128&this._lView[at])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[pn];if(xi(o)){const a=o[li],l=a?a.indexOf(this):-1;l>-1&&(q(o,l),Pl(a,l))}this._attachedToViewContainer=!1}te(this._lView[Je],this._lView)}onDestroy(o){Cw(this._lView[Je],this._lView,null,o)}markForCheck(){Rg(this._cdRefInjectingView||this._lView)}detach(){this._lView[at]&=-65}reattach(){this._lView[at]|=64}detectChanges(){Jl(this._lView[Je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function p(s,o){Ad(s,o,o[Ot],2,null,null)}(this._lView[Je],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=o}}class yC extends Lo{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Jl(o[Je],o,o[Nn],!1)}checkNoChanges(){}get context(){return null}}class kw extends Xh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=rn(o);return new $d(a,this.ngModule)}}function ju(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class kg{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=_t(l);const d=this.injector.get(o,t_,l);return d!==t_||a===t_?d:this.parentInjector.get(o,a,l)}}class $d extends Xy{get inputs(){return ju(this.componentDef.inputs)}get outputs(){return ju(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function o_(s){return s.map(tC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,d){let g=(d=d||this.ngModule)instanceof Fu?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new kg(o,g):o,I=_.get(Hb,null);if(null===I)throw new le(407,!1);const D=_.get(zb,null),S=I.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",O=l?function lC(s,o,a){return s.selectRootElement(o,a===X.ShadowDom)}(S,l,this.componentDef.encapsulation):ig(S,R,function Fw(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),z=this.componentDef.onPush?288:272,Q=g_(0,null,null,1,0,null,null,null,null,null),he=af(null,Q,null,z,null,null,I,S,D,_,null);let Ve,Ke;wu(he);try{const ot=this.componentDef;let At,Me=null;ot.findHostDirectiveDefs?(At=[],Me=new Map,ot.findHostDirectiveDefs(ot,At,Me),At.push(ot)):At=[ot];const Ft=function Li(s,o){const a=s[Je],l=Yt;return s[l]=o,Va(a,l,2,"#host",null)}(he,O),Bn=function Lw(s,o,a,l,d,g,_,I){const D=d[Je];!function _f(s,o,a,l){for(const d of s)o.mergedAttrs=Ki(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(Pg(o,o.mergedAttrs,!0),null!==a&&bb(l,a,o))}(l,s,o,_);const S=g.createRenderer(o,a),R=af(d,Ud(a),null,a.onPush?32:16,d[s.index],s,g,S,I||null,null,null);return D.firstCreatePass&&I_(D,s,l.length-1),gf(d,R),d[s.index]=R}(Ft,O,ot,At,he,I,S);Ke=oa(Q,Yt),O&&function Vw(s,o,a,l){if(l)wo(s,a,["ng-version",e_.full]);else{const{attrs:d,classes:g}=function AM(s){const o=[],a=[];let l=1,d=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++l]):8===d&&a.push(g);else{if(!ko(d))break;d=g}l++}return{attrs:o,classes:a}}(o.selectors[0]);d&&wo(s,a,d),g&&g.length>0&&Db(s,a,g.join(" "))}}(S,ot,O,l),void 0!==a&&function x_(s,o,a){const l=s.projection=[];for(let d=0;d<o.length;d++){const g=a[d];l.push(null!=g?Array.from(g):null)}}(Ke,this.ngContentSelectors,a),Ve=function Fg(s,o,a,l,d,g){const _=Un(),I=d[Je],D=ar(_,d);v_(I,d,_,a,null,l);for(let R=0;R<a.length;R++)ni(Oi(d,I,_.directiveStart+R,_),d);E_(I,d,_),D&&ni(D,d);const S=Oi(d,I,_.directiveStart+_.componentOffset,_);if(s[Nn]=d[Nn]=S,null!==g)for(const R of g)R(S,o);return cf(I,_,s),S}(Bn,ot,At,Me,he,[Uw]),lf(Q,he,null)}finally{Yc()}return new yf(this.componentType,Ve,ef(Ke,he),he,Ke)}}class yf extends lw{constructor(o,a,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new yC(d),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){const g=this._rootLView;Ng(g[Je],g,d,o,a),Rg(ur(this._tNode.index,g))}}get injector(){return new Ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Uw(){const s=Un();Jc(we()[Je],s)}function Xl(s){let o=function R_(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let d;if(Qr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new le(903,!1);d=o.\u0275dir}if(d){if(a){l.push(d);const _=s;_.inputs=vf(s.inputs),_.declaredInputs=vf(s.declaredInputs),_.outputs=vf(s.outputs);const I=d.hostBindings;I&&Ef(s,I);const D=d.viewQuery,S=d.contentQueries;if(D&&P_(s,D),S&&Lg(s,S),Ne(s.inputs,d.inputs),Ne(s.declaredInputs,d.declaredInputs),Ne(s.outputs,d.outputs),Qr(d)&&d.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let _=0;_<g.length;_++){const I=g[_];I&&I.ngInherit&&I(s),I===Xl&&(a=!1)}}o=Object.getPrototypeOf(o)}!function N_(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Ki(d.hostAttrs,a=Ki(a,d.hostAttrs))}}(l)}function vf(s){return s===tt?{}:s===We?[]:s}function P_(s,o){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function Lg(s,o){const a=s.contentQueries;s.contentQueries=a?(l,d,g)=>{o(l,d,g),a(l,d,g)}:o}function Ef(s,o){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}function wf(s){return!!Ua(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Ua(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function si(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function ro(s,o,a,l){const d=we();return si(d,ca(),o)&&(Qt(),ds(dn(),d,s,o,a,l)),ro}function Ww(s,o,a,l,d,g,_,I){const D=we(),S=Qt(),R=s+Yt,O=S.firstCreatePass?function wC(s,o,a,l,d,g,_,I,D){const S=o.consts,R=Va(o,s,4,_||null,Ni(S,I));hf(o,a,R,Ni(S,D)),Jc(o,R);const O=R.tView=g_(2,R,l,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,R),O.queries=o.queries.embeddedTView(R)),R}(R,S,D,o,a,l,d,g,_):S.data[R];Pi(O,!1);const z=D[Ot].createComment("");Pu(S,D,z,O),ni(z,D),gf(D,D[R]=T_(z,D,z,O)),Tr(O)&&Ag(S,D,O),null!=_&&p_(D,O,I)}function Hg(s,o,a){const l=we();return si(l,ca(),o)&&function _i(s,o,a,l,d,g,_,I){const D=ar(o,a);let R,S=o.inputs;!I&&null!=S&&(R=S[l])?(Ng(s,a,R,l,d),Cs(o)&&function y_(s,o){const a=ur(o,s);16&a[at]||(a[at]|=32)}(a,o.index)):3&o.type&&(l=function Sw(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=_?_(d,o.value||"",l):d,g.setProperty(D,l,d))}(Qt(),dn(),l,s,o,l[Ot],a,!1),Hg}function zg(s,o,a,l,d){const _=d?"class":"style";Ng(s,a,o.inputs[_],_,l)}function Gd(s,o,a,l){const d=we(),g=Qt(),_=Yt+s,I=d[Ot],D=g.firstCreatePass?function B_(s,o,a,l,d,g){const _=o.consts,D=Va(o,s,2,l,Ni(_,d));return hf(o,a,D,Ni(_,g)),null!==D.attrs&&Pg(D,D.attrs,!1),null!==D.mergedAttrs&&Pg(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(_,g,d,o,a,l):g.data[_],S=d[_]=ig(I,o,function Vp(){return Rt.lFrame.currentNamespace}()),R=Tr(D);return Pi(D,!0),bb(I,S,D),32!=(32&D.flags)&&Pu(g,d,S,D),0===function yl(){return Rt.lFrame.elementDepthCount}()&&ni(S,d),function _l(){Rt.lFrame.elementDepthCount++}(),R&&(Ag(g,d,D),cf(g,D,d)),null!==l&&p_(d,D),Gd}function bf(){let s=Un();mu()?ua():(s=s.parent,Pi(s,!1));const o=s;!function vl(){Rt.lFrame.elementDepthCount--}();const a=Qt();return a.firstCreatePass&&(Jc(a,s),na(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ph(s){return 0!=(8&s.flags)}(o)&&zg(a,o,we(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function fa(s){return 0!=(16&s.flags)}(o)&&zg(a,o,we(),o.stylesWithoutHost,!1),bf}function Gg(s,o,a,l){return Gd(s,o,a,l),bf(),Gg}function qg(s,o,a){const l=we(),d=Qt(),g=s+Yt,_=d.firstCreatePass?function $_(s,o,a,l,d){const g=o.consts,_=Ni(g,l),I=Va(o,s,8,"ng-container",_);return null!==_&&Pg(I,_,!0),hf(o,a,I,Ni(g,d)),null!==o.queries&&o.queries.elementStart(o,I),I}(g,d,l,o,a):d.data[g];Pi(_,!0);const I=l[g]=l[Ot].createComment("");return Pu(d,l,I,_),ni(I,l),Tr(_)&&(Ag(d,l,_),cf(d,_,l)),null!=a&&p_(l,_),qg}function Wg(){let s=Un();const o=Qt();return mu()?ua():(s=s.parent,Pi(s,!1)),o.firstCreatePass&&(Jc(o,s),na(s)&&o.queries.elementEnd(s)),Wg}function Cf(){return we()}function nc(s){return!!s&&"function"==typeof s.then}function Tf(s){return!!s&&"function"==typeof s.subscribe}const Kg=Tf;function Zg(s,o,a,l){const d=we(),g=Qt(),_=Un();return function Yw(s,o,a,l,d,g,_){const I=Tr(l),S=s.firstCreatePass&&Bd(s),R=o[Nn],O=Ow(o);let z=!0;if(3&l.type||_){const Ve=ar(l,o),Ke=_?_(Ve):Ve,ot=O.length,At=_?Ft=>_(Pn(Ft[l.index])):l.index;let Me=null;if(!_&&I&&(Me=function Sf(s,o,a,l){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const _=d[g];if(_===a&&d[g+1]===l){const I=o[Is],D=d[g+2];return I.length>D?I[D]:null}"string"==typeof _&&(g+=2)}return null}(s,o,d,l.index)),null!==Me)(Me.__ngLastListenerFn__||Me).__ngNextListenerFn__=g,Me.__ngLastListenerFn__=g,z=!1;else{g=j_(l,o,R,g,!1);const Ft=a.listen(Ke,d,g);O.push(g,Ft),S&&S.push(d,At,ot,ot+1)}}else g=j_(l,o,R,g,!1);const Q=l.outputs;let he;if(z&&null!==Q&&(he=Q[d])){const Ve=he.length;if(Ve)for(let Ke=0;Ke<Ve;Ke+=2){const Bn=o[he[Ke]][he[Ke+1]].subscribe(g),Zn=O.length;O.push(g,Bn),S&&S.push(d,l.index,Zn,-(Zn+1))}}}(g,d,d[Ot],_,s,o,l),Zg}function qn(s,o,a,l){try{return ln(6,o,a),!1!==a(l)}catch(d){return M_(s,d),!1}finally{ln(7,o,a)}}function j_(s,o,a,l,d){return function g(_){if(_===Function)return l;Rg(s.componentOffset>-1?ur(s.index,o):o);let D=qn(o,a,l,_),S=g.__ngNextListenerFn__;for(;S;)D=qn(o,a,S,_)&&D,S=S.__ngNextListenerFn__;return d&&!1===D&&(_.preventDefault(),_.returnValue=!1),D}}function Qw(s=1){return function Cl(s){return(Rt.lFrame.contextLView=function Qc(s,o){for(;s>0;)o=o[zs],s--;return o}(s,Rt.lFrame.contextLView))[Nn]}(s)}function Kd(s,o){return s<<17|o<<2}function io(s){return s>>17&32767}function K_(s){return 2|s}function zu(s){return(131068&s)>>2}function rc(s,o){return-131069&s|o<<2}function Xg(s){return 1|s}function Z_(s,o,a,l,d){const g=s[a+1],_=null===o;let I=l?io(g):zu(g),D=!1;for(;0!==I&&(!1===D||_);){const R=s[I+1];s0(s[I],o)&&(D=!0,s[I+1]=l?Xg(R):K_(R)),I=l?io(R):zu(R)}D&&(s[a+1]=l?K_(g):Xg(g))}function s0(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Zi(s,o)>=0}function tv(s,o){return function vi(s,o,a,l){const d=we(),g=Qt(),_=function hi(s){const o=Rt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);g.firstUpdatePass&&function SC(s,o,a,l){const d=s.data;if(null===d[a+1]){const g=d[lr()],_=function nm(s,o){return o>=s.expandoStartIndex}(s,a);(function d0(s,o){return 0!=(s.flags&(o?8:16))})(g,l)&&null===o&&!_&&(o=!1),o=function Re(s,o,a,l){const d=function qc(s){const o=Rt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=ut(a=it(null,s,o,a,l),o.attrs,l),g=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==d)if(a=it(d,s,o,a,l),null===g){let D=function pr(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==zu(l))return s[io(l)]}(s,o,l);void 0!==D&&Array.isArray(D)&&(D=it(null,s,o,D[1],l),D=ut(D,o.attrs,l),function za(s,o,a,l){s[io(a?o.classBindings:o.styleBindings)]=l}(s,o,l,D))}else g=function nv(s,o,a){let l;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)l=ut(l,s[g].hostAttrs,a);return ut(l,o.attrs,a)}(s,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,l),function r0(s,o,a,l,d,g){let _=g?o.classBindings:o.styleBindings,I=io(_),D=zu(_);s[l]=a;let R,S=!1;if(Array.isArray(a)?(R=a[1],(null===R||Zi(a,R)>0)&&(S=!0)):R=a,d)if(0!==D){const z=io(s[I+1]);s[l+1]=Kd(z,I),0!==z&&(s[z+1]=rc(s[z+1],l)),s[I+1]=function Jg(s,o){return 131071&s|o<<17}(s[I+1],l)}else s[l+1]=Kd(I,0),0!==I&&(s[I+1]=rc(s[I+1],l)),I=l;else s[l+1]=Kd(D,0),0===I?I=l:s[D+1]=rc(s[D+1],l),D=l;S&&(s[l+1]=K_(s[l+1])),Z_(s,R,l,!0),Z_(s,R,l,!1),function em(s,o,a,l,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Zi(g,o)>=0&&(a[l+1]=Xg(a[l+1]))}(o,R,s,l,g),_=Kd(I,D),g?o.classBindings=_:o.styleBindings=_}(d,g,o,a,_,l)}}(g,s,_,l),o!==$t&&si(d,_,o)&&function Ae(s,o,a,l,d,g,_,I){if(!(3&o.type))return;const D=s.data,S=D[I+1],R=function e0(s){return 1==(1&s)}(S)?Er(D,o,a,d,zu(S),_):void 0;Mf(R)||(Mf(g)||function Xw(s){return 2==(2&s)}(S)&&(g=Er(D,null,a,d,I,_)),function jE(s,o,a,l,d){if(o)d?s.addClass(a,l):s.removeClass(a,l);else{let g=-1===l.indexOf("-")?void 0:ls.DashCase;null==d?s.removeStyle(a,l,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=ls.Important),s.setStyle(a,l,d,g))}}(l,_,Ss(lr(),a),d,g))}(g,g.data[lr()],d,d[Ot],s,d[_+1]=function AC(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ve(Ou(s)))),s}(o,a),l,_)}(s,o,null,!0),tv}function it(s,o,a,l,d){let g=null;const _=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<_&&(g=o[I],l=ut(l,g.hostAttrs,d),g!==s);)I++;return null!==s&&(a.directiveStylingLast=I),l}function ut(s,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?d=_:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Jt(s,_,!!a||o[++g]))}return void 0===s?null:s}function Er(s,o,a,l,d,g){const _=null===o;let I;for(;d>0;){const D=s[d],S=Array.isArray(D),R=S?D[1]:D,O=null===R;let z=a[d+1];z===$t&&(z=O?We:void 0);let Q=O?Gn(z,l):R===l?z:void 0;if(S&&!Mf(Q)&&(Q=Gn(D,l)),Mf(Q)&&(I=Q,_))return I;const he=s[d+1];d=_?io(he):zu(he)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(I=Gn(D,l))}return I}function Mf(s){return void 0!==s}function h0(s,o=""){const a=we(),l=Qt(),d=s+Yt,g=l.firstCreatePass?Va(l,d,1,o,null):l.data[d],_=a[d]=function bd(s,o){return s.createText(o)}(a[Ot],o);Pu(l,a,_,g),Pi(g,!1)}function rv(s){return rm("",s,""),rv}function rm(s,o,a){const l=we(),d=function $a(s,o,a,l){return si(s,ca(),a)?o+Ee(a)+l:$t}(l,s,o,a);return d!==$t&&function Fs(s,o,a){const l=Ss(o,s);!function Hl(s,o,a){s.setValue(o,a)}(s[Ot],l,a)}(l,lr(),d),rm}const ps=void 0;var cv=["en",[["a","p"],["AM","PM"],ps],[["AM","PM"],ps,ps],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ps,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ps,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ps,"{1} 'at' {0}",ps],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function E0(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Qd={};function Vi(s){const o=function w0(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=dv(o);if(a)return a;const l=o.split("-")[0];if(a=dv(l),a)return a;if("en"===l)return cv;throw new le(701,!1)}function Jd(s){return Vi(s)[Mt.PluralCase]}function dv(s){return s in Qd||(Qd[s]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[s]),Qd[s]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const Wa="en-US";let b0=Wa;function wv(s,o,a,l,d){if(s=Y(s),Array.isArray(s))for(let g=0;g<s.length;g++)wv(s[g],o,a,l,d);else{const g=Qt(),_=we();let I=Zl(s)?s:Y(s.provide),D=hr(s);const S=Un(),R=1048575&S.providerIndexes,O=S.directiveStart,z=S.providerIndexes>>20;if(Zl(s)||!s.multi){const Q=new ha(D,d,Vd),he=Iv(I,o,d?R:R+z,O);-1===he?(va(_a(S,_),g,I),mm(g,s,o.length),o.push(I),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(Q),_.push(Q)):(a[he]=Q,_[he]=Q)}else{const Q=Iv(I,o,R+z,O),he=Iv(I,o,R,R+z),Ke=he>=0&&a[he];if(d&&!Ke||!d&&!(Q>=0&&a[Q])){va(_a(S,_),g,I);const ot=function $f(s,o,a,l,d){const g=new ha(s,a,Vd);return g.multi=[],g.index=o,g.componentProviders=0,q0(g,d,l&&!a),g}(d?Dv:HC,a.length,d,l,D);!d&&Ke&&(a[he].providerFactory=ot),mm(g,s,o.length,0),o.push(I),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(ot),_.push(ot)}else mm(g,s,Q>-1?Q:he,q0(a[d?he:Q],D,!d&&l));!d&&l&&Ke&&a[he].componentProviders++}}}function mm(s,o,a,l){const d=Zl(o),g=function aw(s){return!!s.useClass}(o);if(d||g){const D=(g?Y(o.useClass):o).prototype.ngOnDestroy;if(D){const S=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const R=S.indexOf(a);-1===R?S.push(a,[l,D]):S[R+1].push(l,D)}else S.push(a,D)}}}function q0(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Iv(s,o,a,l){for(let d=a;d<l;d++)if(o[d]===s)return d;return-1}function HC(s,o,a,l){return Ka(this.multi,[])}function Dv(s,o,a,l){const d=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,I=Oi(a,a[Je],this.providerFactory.index,l);g=I.slice(0,_),Ka(d,g);for(let D=_;D<I.length;D++)g.push(I[D])}else g=[],Ka(d,g);return g}function Ka(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function jf(s,o=[]){return a=>{a.providersResolver=(l,d)=>function G0(s,o,a){const l=Qt();if(l.firstCreatePass){const d=Qr(s);wv(a,l.data,l.blueprint,d,!0),wv(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class Za{}class bv{}function W0(s,o){return new Cv(s,o??null)}class Cv extends Za{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kw(this);const l=Yr(o);this._bootstrapComponents=Vu(l.bootstrap),this._r3Injector=Dg(o,a,[{provide:Za,useValue:this},{provide:Xh,useValue:this.componentFactoryResolver}],ve(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Ku extends bv{constructor(o){super(),this.moduleType=o}create(o){return new Cv(this.moduleType,o)}}class K0 extends Za{constructor(o,a,l){super(),this.componentFactoryResolver=new kw(this),this.instance=null;const d=new Qy([...o,{provide:Za,useValue:this},{provide:Xh,useValue:this.componentFactoryResolver}],a||vg(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Hf(s,o,a=null){return new K0(s,o,a).injector}let ym=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Yi(0,a.type),d=l.length>0?Hf([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Dt({token:s,providedIn:"environment",factory:()=>new s(Fe(Fu))}),s})();function _m(s){s.getStandaloneInjector=o=>o.get(ym).getOrCreateStandaloneInjector(s)}function tI(s,o,a,l,d,g,_){const I=o+a;return function Hu(s,o,a,l){const d=si(s,o,a);return si(s,o+1,l)||d}(s,I,d,g)?function Vo(s,o,a){return s[o]=a}(s,I+2,_?l.call(_,d,g):l(d,g)):function rh(s,o){const a=s[o];return a===$t?void 0:a}(s,I+2)}function Zu(s,o){const a=Qt();let l;const d=s+Yt;a.firstCreatePass?(l=function rI(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks??(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const g=l.factory||(l.factory=di(l.type)),_=Ln(Vd);try{const I=ma(!1),D=g();return ma(I),function Kw(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}(a,we(),d,D),D}finally{Ln(_)}}function mc(s,o,a,l){const d=s+Yt,g=we(),_=function Ri(s,o){return s[o]}(g,d);return function Yf(s,o){return s[Je].data[o].pure}(g,d)?tI(g,function zn(){const s=Rt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,_.transform,a,l,_):_.transform(a,l)}function An(s){return o=>{setTimeout(s,void 0,o)}}const gs=class ZC extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let d=o,g=a||(()=>null),_=l;if(o&&"object"==typeof o){const D=o;d=D.next?.bind(D),g=D.error?.bind(D),_=D.complete?.bind(D)}this.__isAsync&&(g=An(g),d&&(d=An(d)),_&&(_=An(_)));const I=super.subscribe({next:d,error:g,complete:_});return o instanceof L.w0&&o.add(I),I}};function wm(){return this._results[Symbol.iterator]()}class Im{get changes(){return this._changes||(this._changes=new gs)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Im.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=wm)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=function pi(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Gp(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],g=o[l];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Qf=(()=>{class s{}return s.__NG_ELEMENT_ID__=aI,s})();const Jf=Qf,YC=class extends Jf{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tView,d=af(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);d[bs]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[Mi];return null!==_&&(d[Mi]=_.createEmbeddedView(l)),lf(l,d,o),new Lo(d)}};function aI(){return Ja(Un(),we())}function Ja(s,o){return 4&s.type?new YC(o,s,ef(s,o)):null}let Us=(()=>{class s{}return s.__NG_ELEMENT_ID__=uI,s})();function uI(){return Dm(Un(),we())}const lI=Us,Mv=class extends lI{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return ef(this._hostTNode,this._hostLView)}get injector(){return new Ar(this._hostTNode,this._hostLView)}get parentInjector(){const o=Rs(this._hostTNode,this._hostLView);if(Do(o)){const a=bo(o,this._hostLView),l=ga(o);return new Ar(a[Je].data[l+8],a)}return new Ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=yc(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-or}createEmbeddedView(o,a,l){let d,g;"number"==typeof l?d=l:null!=l&&(d=l.index,g=l.injector);const _=o.createEmbeddedView(a||{},g);return this.insert(_,d),_}createComponent(o,a,l,d,g){const _=o&&!function Qs(s){return"function"==typeof s}(o);let I;if(_)I=a;else{const O=a||{};I=O.index,l=O.injector,d=O.projectableNodes,g=O.environmentInjector||O.ngModuleRef}const D=_?o:new $d(rn(o)),S=l||this.parentInjector;if(!g&&null==D.ngModule){const z=(_?S:this.parentInjector).get(Fu,null);z&&(g=z)}const R=D.create(S,d,void 0,g);return this.insert(R.hostView,I),R}insert(o,a){const l=o._lView,d=l[Je];if(function gl(s){return xi(s[pn])}(l)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const O=l[pn],z=new Mv(O,O[Tn],O[pn]);z.detach(z.indexOf(o))}}const g=this._adjustIndex(a),_=this._lContainer;!function E(s,o,a,l){const d=or+l,g=a.length;l>0&&(a[d-1][Si]=o),l<g-or?(o[Si]=a[d],ld(a,or+l,o)):(a.push(o),o[Si]=null),o[pn]=a;const _=o[bs];null!==_&&a!==_&&function A(s,o){const a=s[go];o[br]!==o[pn][pn][br]&&(s[su]=!0),null===a?s[go]=[o]:a.push(o)}(_,o);const I=o[Mi];null!==I&&I.insertView(s),o[at]|=64}(d,l,_,g);const I=ql(g,_),D=l[Ot],S=Fa(D,_[is]);return null!==S&&function v(s,o,a,l,d,g){l[qi]=d,l[Tn]=o,Ad(s,l,a,1,d,g)}(d,_[Tn],D,l,S,I),o.attachToViewContainerRef(),ld(Xf(_),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=yc(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=q(this._lContainer,a);l&&(Pl(Xf(this._lContainer),a),te(l[Je],l))}detach(o){const a=this._adjustIndex(o,-1),l=q(this._lContainer,a);return l&&null!=Pl(Xf(this._lContainer),a)?new Lo(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function yc(s){return s[li]}function Xf(s){return s[li]||(s[li]=[])}function Dm(s,o){let a;const l=o[s.index];if(xi(l))a=l;else{let d;if(8&s.type)d=Pn(l);else{const g=o[Ot];d=g.createComment("");const _=ar(s,o);mi(g,Fa(g,_),d,function og(s,o){return s.nextSibling(o)}(g,_),!1)}o[s.index]=a=T_(l,o,d,s),gf(o,a)}return new Mv(a,s,o)}class ep{constructor(o){this.queryList=o,this.matches=null}clone(){return new ep(this.queryList)}setDirty(){this.queryList.setDirty()}}class tp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<l;g++){const _=a.getByIndex(g);d.push(this.queries[_.indexInDeclarationView].clone())}return new tp(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Ov(o,a).matches&&this.queries[a].setDirty()}}class cI{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class np{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,d);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new np(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class xv{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new xv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(o,a,QC(a,g)),this.matchTNodeWithReadOption(o,a,Ia(a,o,g,!1,!1))}else l===Qf?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Ia(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Ig||d===Us||d===Qf&&4&a.type)this.addMatch(a.index,-2);else{const g=Ia(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function QC(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function an(s,o,a,l){return-1===a?function wr(s,o){return 11&s.type?ef(s,o):4&s.type?Ja(s,o):null}(o,s):-2===a?function dI(s,o,a){return a===Ig?ef(o,s):a===Qf?Ja(o,s):a===Us?Dm(o,s):void 0}(s,o,l):Oi(s,s[Je],a,o)}function Rv(s,o,a,l){const d=o[Mi].queries[l];if(null===d.matches){const g=s.data,_=a.matches,I=[];for(let D=0;D<_.length;D+=2){const S=_[D];I.push(S<0?null:an(o,g[S],_[D+1],a.metadata.read))}d.matches=I}return d.matches}function rp(s,o,a,l){const d=s.queries.getByIndex(a),g=d.matches;if(null!==g){const _=Rv(s,o,d,a);for(let I=0;I<g.length;I+=2){const D=g[I];if(D>0)l.push(_[I/2]);else{const S=g[I+1],R=o[-D];for(let O=or;O<R.length;O++){const z=R[O];z[bs]===z[pn]&&rp(z[Je],z,S,l)}if(null!==R[go]){const O=R[go];for(let z=0;z<O.length;z++){const Q=O[z];rp(Q[Je],Q,S,l)}}}}}return l}function ip(s){const o=we(),a=Qt(),l=vu();Eu(l+1);const d=Ov(a,l);if(s.dirty&&function jc(s){return 4==(4&s[at])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?rp(a,o,l,[]):Rv(a,o,d,l);s.reset(g,EM),s.notifyOnChanges()}return!0}return!1}function sh(s,o,a){const l=Qt();l.firstCreatePass&&(Pv(l,new cI(s,o,a),-1),2==(2&o)&&(l.staticViewQueries=!0)),Nv(l,we(),o)}function oh(s,o,a,l){const d=Qt();if(d.firstCreatePass){const g=Un();Pv(d,new cI(o,a,l),g.index),function JC(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}Nv(d,we(),a)}function sp(){return function hI(s,o){return s[Mi].queries[o].queryList}(we(),vu())}function Nv(s,o,a){const l=new Im(4==(4&a));Cw(s,o,l,l.destroy),null===o[Mi]&&(o[Mi]=new tp),o[Mi].queries.push(new ep(l))}function Pv(s,o,a){null===s.queries&&(s.queries=new np),s.queries.track(new xv(o,a))}function Ov(s,o){return s.queries.getByIndex(o)}function Kn(s){return!!Yr(s)}function Nm(...s){}const Qu=new yn("Application Initializer");let oo=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Nm,this.reject=Nm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(nc(g))a.push(g);else if(Kg(g)){const _=new Promise((I,D)=>{g.subscribe({complete:I,error:D})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Fe(Qu,8))},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Hv=new yn("AppId",{providedIn:"root",factory:function SI(){return`${zv()}${zv()}${zv()}`}});function zv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Om=new yn("Platform Initializer"),Gv=new yn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qv=new yn("AnimationModuleType");let Wv=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Cc=new yn("LocaleId",{providedIn:"root",factory:()=>rt(Cc,Et.Optional|Et.SkipSelf)||function AI(){return typeof $localize<"u"&&$localize.locale||Wa}()}),lT=new yn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class xI{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let up=(()=>{class s{compileModuleSync(a){return new Ku(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=Vu(Yr(a).declarations).reduce((_,I)=>{const D=rn(I);return D&&_.push(new $d(D)),_},[]);return new xI(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Lm=(()=>Promise.resolve(0))();function Vm(s){typeof Zone>"u"?Lm.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ms{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gs(!1),this.onMicrotaskEmpty=new gs(!1),this.onStable=new gs(!1),this.onError=new gs(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Ju(){let s=Tt.requestAnimationFrame,o=Tt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function NI(s){const o=()=>{!function dh(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Tt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,qo(s),s.isCheckStableRunning=!0,Yv(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),qo(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,g,_,I)=>{try{return Qv(s),a.invokeTask(d,g,_,I)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),PI(s)}},onInvoke:(a,l,d,g,_,I,D)=>{try{return Qv(s),a.invoke(d,g,_,I,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),PI(s)}},onHasTask:(a,l,d,g)=>{a.hasTask(d,g),l===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,qo(s),Yv(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,d,g)=>(a.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ms.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(ms.isInAngularZone())throw new le(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+d,o,Tc,Nm,Nm);try{return g.runTask(_,a,l)}finally{g.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const Tc={};function Yv(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function qo(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Qv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function PI(s){s._nesting--,Yv(s)}class dT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gs,this.onMicrotaskEmpty=new gs,this.onStable=new gs,this.onError=new gs}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}const OI=new yn(""),kI=new yn("");let Bm,Um=(()=>{class s{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bm||(function hT(s){Bm=s}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ms.assertNotInAngularZone(),Vm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(Fe(ms),Fe(FI),Fe(kI))},s.\u0275prov=Dt({token:s,factory:s.\u0275fac}),s})(),FI=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Bm?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const eu=!1;let tu=null;const Xu=new yn("AllowMultipleToken"),Sc=new yn("PlatformDestroyListeners"),Jv=new yn("appBootstrapListener");class fT{constructor(o,a){this.name=o,this.token=a}}function UI(s,o,a=[]){const l=`Platform: ${o}`,d=new yn(l);return(g=[])=>{let _=eE();if(!_||_.injector.get(Xu,!1)){const I=[...a,...g,{provide:d,useValue:!0}];s?s(I):function pT(s){if(tu&&!tu.get(Xu,!1))throw new le(400,!1);tu=s;const o=s.get(cp);(function Or(s){const o=s.get(Om,null);o&&o.forEach(a=>a())})(s)}(function BI(s=[],o){return cs.create({name:o,providers:[{provide:Nd,useValue:"platform"},{provide:Sc,useValue:new Set([()=>tu=null])},...s]})}(I,l))}return function gT(s){const o=eE();if(!o)throw new le(401,!1);return o}()}}function eE(){return tu?.get(cp)??null}let cp=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function tE(s,o){let a;return a="noop"===s?new dT:("zone.js"===s?void 0:s)||new ms(o),a}(l?.ngZone,function $I(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),g=[{provide:ms,useValue:d}];return d.run(()=>{const _=cs.create({providers:g,parent:this.injector,name:a.moduleType.name}),I=a.create(_),D=I.injector.get(Pd,null);if(!D)throw new le(402,!1);return d.runOutsideAngular(()=>{const S=d.onError.subscribe({next:R=>{D.handleError(R)}});I.onDestroy(()=>{Ac(this._modules,I),S.unsubscribe()})}),function $m(s,o,a){try{const l=a();return nc(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(D,d,()=>{const S=I.injector.get(oo);return S.runInitializers(),S.donePromise.then(()=>(function C0(s){nt(s,"Expected localeId to be defined"),"string"==typeof s&&(b0=s.toLowerCase().replace(/_/g,"-"))}(I.injector.get(Cc,Wa)||Wa),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,l=[]){const d=jm({},l);return function LI(s,o,a){const l=new Ku(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const l=a.injector.get(el);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new le(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Sc,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Fe(cs))},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function jm(s,o){return Array.isArray(o)?o.reduce(jm,s):{...s,...o}}let el=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,l,d){this._zone=a,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new G.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),_=new G.y(I=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{ms.assertNotInAngularZone(),Vm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{ms.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{D.unsubscribe(),S.unsubscribe()}});this.isStable=(0,se.T)(g,_.pipe((0,oe.B)()))}bootstrap(a,l){const d=a instanceof Xy;if(!this._injector.get(oo).done){!d&&Es(a);throw new le(405,eu)}let _;_=d?a:this._injector.get(Xh).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const I=function VI(s){return s.isBoundToModule}(_)?void 0:this._injector.get(Za),S=_.create(cs.NULL,[],l||_.selector,I),R=S.location.nativeElement,O=S.injector.get(OI,null);return O?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),Ac(this.components,S),O?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Ac(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(Jv,[]);l.push(...this._bootstrapListeners),l.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Ac(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new le(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Fe(ms),Fe(Fu),Fe(Pd))},s.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Ac(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}function jI(){return!1}let vT=(()=>{class s{}return s.__NG_ELEMENT_ID__=HI,s})();function HI(s){return function ET(s,o,a){if(Cs(s)&&!a){const l=ur(s.index,o);return new Lo(l,l)}return 47&s.type?new Lo(o[br],o):null}(Un(),we(),16==(16&s))}class iE{constructor(){}supports(o){return wf(o)}create(o){return new XI(o)}}const IT=(s,o)=>o;class XI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||IT}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,g=null;for(;a||l;){const _=!l||a&&a.currentIndex<tD(l,d,g)?a:l,I=tD(_,d,g),D=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{g||(g=[]);const S=I-d,R=D-d;if(S!=R){for(let z=0;z<S;z++){const Q=z<g.length?g[z]:g[z]=0,he=Q+z;R<=he&&he<S&&(g[z]=Q+1)}g[_.previousIndex]=R-S}}I!==D&&o(_,I,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!wf(o))throw new le(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let I=0;I<this.length;I++)g=o[I],_=this._trackByFn(I,g),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,g,_,I)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,_,I),l=!0),a=a._next}else d=0,function If(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Symbol.iterator]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,I=>{_=this._trackByFn(d,I),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,I,_,d)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,_,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new Wm(a,l),g,d),o}_verifyReinsertion(o,a,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new eD),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eD),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Wm{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sE{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class eD{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new sE,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tD(s,o,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class ai{constructor(){}supports(o){return o instanceof Map||Ua(o)}create(){return new DT}}class DT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Ua(o)))throw new le(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,_=d._next;return g&&(g._next=_),_&&(_._prev=g),d._next=null,d._prev=null,d}const l=new nD(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class nD{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mp(){return new Mc([new iE])}let Mc=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||mp()),deps:[[s,new Fi,new $r]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new le(901,!1)}}return s.\u0275prov=Dt({token:s,providedIn:"root",factory:mp}),s})();function oE(){return new aE([new ai])}let aE=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||oE()),deps:[[s,new Fi,new $r]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new le(901,!1)}}return s.\u0275prov=Dt({token:s,providedIn:"root",factory:oE}),s})();const TT=UI(null,"core",[]);let ST=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Fe(el))},s.\u0275mod=Jo({type:s}),s.\u0275inj=$n({}),s})();function yp(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(vt,Se,k)=>{k.d(Se,{Z:()=>ze});var h=k(2090),L=k(4859),G=k(9681),se=k(1877);class oe{constructor(le,_e){this._delegate=le,this.firebase=_e,(0,G._addComponent)(le,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this._delegate.automaticDataCollectionEnabled=le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(le=>{this._delegate.checkDestroyed(),le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(le,_e=G._DEFAULT_ENTRY_NAME){var Ee;this._delegate.checkDestroyed();const ke=this._delegate.container.getProvider(le);return!ke.isInitialized()&&"EXPLICIT"===(null===(Ee=ke.getComponent())||void 0===Ee?void 0:Ee.instantiationMode)&&ke.initialize(),ke.getImmediate({identifier:_e})}_removeServiceInstance(le,_e=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(le).clearInstance(_e)}_addComponent(le){(0,G._addComponent)(this._delegate,le)}_addOrOverwriteComponent(le){(0,G._addOrOverwriteComponent)(this._delegate,le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ne=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function De(){const st=function ve(st){const le={},_e={__esModule:!0,initializeApp:function be(xe,$={}){const fe=G.initializeApp(xe,$);if((0,h.r3)(le,fe.name))return le[fe.name];const $e=new st(fe,_e);return le[fe.name]=$e,$e},app:ke,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function Ce(xe){const $=xe.name,fe=$.replace("-compat","");if(G._registerComponent(xe)&&"PUBLIC"===xe.type){const $e=(Ge=ke())=>{if("function"!=typeof Ge[fe])throw Ne.create("invalid-app-argument",{appName:$});return Ge[fe]()};void 0!==xe.serviceProps&&(0,h.ZB)($e,xe.serviceProps),_e[fe]=$e,st.prototype[fe]=function(...Ge){return this._getService.bind(this,$).apply(this,xe.multipleInstances?Ge:[])}}return"PUBLIC"===xe.type?_e[fe]:null},removeApp:function Ee(xe){delete le[xe]},useAsService:function Ue(xe,$){return"serverAuth"===$?null:$},modularAPIs:G}};function ke(xe){if(!(0,h.r3)(le,xe=xe||G._DEFAULT_ENTRY_NAME))throw Ne.create("no-app",{appName:xe});return le[xe]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function ye(){return Object.keys(le).map(xe=>le[xe])}}),ke.App=st,_e}(oe);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function le(_e){(0,h.ZB)(st,_e)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),st}(),H=new se.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ze=j;!function Ie(st){(0,G.registerVersion)("@firebase/app-compat","0.2.8",st)}()},9681:(vt,Se,k)=>{k.r(Se),k.d(Se,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>zi,_DEFAULT_ENTRY_NAME:()=>Oe,_addComponent:()=>Ct,_addOrOverwriteComponent:()=>mt,_apps:()=>nt,_clearComponents:()=>$n,_components:()=>Pe,_getProvider:()=>Dt,_registerComponent:()=>en,_removeServiceInstance:()=>Zt,deleteApp:()=>_s,getApp:()=>ui,getApps:()=>bi,initializeApp:()=>ys,onLog:()=>Et,registerVersion:()=>nr,setLogLevel:()=>vs});var h=k(5861),L=k(4859),G=k(1877),se=k(2090),oe=k(8766);class ae{constructor(ge){this.container=ge}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function Ne(Fe){return"VERSION"===Fe.getComponent()?.type}(rt)){const _t=rt.getImmediate();return`${_t.library}/${_t.version}`}return null}).filter(rt=>rt).join(" ")}}const ve="@firebase/app",j=new G.Yd("@firebase/app"),Oe="[DEFAULT]",je={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},nt=new Map,Pe=new Map;function Ct(Fe,ge){try{Fe.container.addComponent(ge)}catch(rt){j.debug(`Component ${ge.name} failed to register with FirebaseApp ${Fe.name}`,rt)}}function mt(Fe,ge){Fe.container.addOrOverwriteComponent(ge)}function en(Fe){const ge=Fe.name;if(Pe.has(ge))return j.debug(`There were multiple attempts to register component ${ge}.`),!1;Pe.set(ge,Fe);for(const rt of nt.values())Ct(rt,Fe);return!0}function Dt(Fe,ge){const rt=Fe.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),Fe.container.getProvider(ge)}function Zt(Fe,ge,rt=Oe){Dt(Fe,ge).clearInstance(rt)}function $n(){Pe.clear()}const Mn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qn{constructor(ge,rt,_t){this._isDeleted=!1,this._options=Object.assign({},ge),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=_t,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ge){this._isDeleted=ge}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}const zi="9.20.0";function ys(Fe,ge={}){let rt=Fe;"object"!=typeof ge&&(ge={name:ge});const _t=Object.assign({name:Oe,automaticDataCollectionEnabled:!1},ge),zt=_t.name;if("string"!=typeof zt||!zt)throw Mn.create("bad-app-name",{appName:String(zt)});if(rt||(rt=(0,se.aH)()),!rt)throw Mn.create("no-options");const Gt=nt.get(zt);if(Gt){if((0,se.vZ)(rt,Gt.options)&&(0,se.vZ)(_t,Gt.config))return Gt;throw Mn.create("duplicate-app",{appName:zt})}const Vn=new L.H0(zt);for(const V of Pe.values())Vn.addComponent(V);const U=new Qn(rt,_t,Vn);return nt.set(zt,U),U}function ui(Fe=Oe){const ge=nt.get(Fe);if(!ge&&Fe===Oe)return ys();if(!ge)throw Mn.create("no-app",{appName:Fe});return ge}function bi(){return Array.from(nt.values())}function _s(Fe){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,h.Z)(function*(Fe){const ge=Fe.name;nt.has(ge)&&(nt.delete(ge),yield Promise.all(Fe.container.getProviders().map(rt=>rt.delete())),Fe.isDeleted=!0)})).apply(this,arguments)}function nr(Fe,ge,rt){var _t;let zt=null!==(_t=je[Fe])&&void 0!==_t?_t:Fe;rt&&(zt+=`-${rt}`);const Gt=zt.match(/\s|\//),Vn=ge.match(/\s|\//);if(Gt||Vn){const U=[`Unable to register library "${zt}" with version "${ge}":`];return Gt&&U.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Gt&&Vn&&U.push("and"),Vn&&U.push(`version name "${ge}" contains illegal characters (whitespace or "/")`),void j.warn(U.join(" "))}en(new L.wA(`${zt}-version`,()=>({library:zt,version:ge}),"VERSION"))}function Et(Fe,ge){if(null!==Fe&&"function"!=typeof Fe)throw Mn.create("invalid-log-argument");(0,G.Am)(Fe,ge)}function vs(Fe){(0,G.Ub)(Fe)}const Ci="firebase-heartbeat-database",Ln=1,jn="firebase-heartbeat-store";let Bs=null;function Tt(){return Bs||(Bs=(0,oe.X3)(Ci,Ln,{upgrade:(Fe,ge)=>{0===ge&&Fe.createObjectStore(jn)}}).catch(Fe=>{throw Mn.create("idb-open",{originalErrorMessage:Fe.message})})),Bs}function Pt(){return(Pt=(0,h.Z)(function*(Fe){try{return(yield Tt()).transaction(jn).objectStore(jn).get(xn(Fe))}catch(ge){if(ge instanceof se.ZR)j.warn(ge.message);else{const rt=Mn.create("idb-get",{originalErrorMessage:ge?.message});j.warn(rt.message)}}})).apply(this,arguments)}function $s(Fe,ge){return rr.apply(this,arguments)}function rr(){return(rr=(0,h.Z)(function*(Fe,ge){try{const _t=(yield Tt()).transaction(jn,"readwrite");return yield _t.objectStore(jn).put(ge,xn(Fe)),_t.done}catch(rt){if(rt instanceof se.ZR)j.warn(rt.message);else{const _t=Mn.create("idb-set",{originalErrorMessage:rt?.message});j.warn(_t.message)}}})).apply(this,arguments)}function xn(Fe){return`${Fe.name}!${Fe.options.appId}`}class fo{constructor(ge){this.container=ge,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new tn(rt),this._heartbeatsCachePromise=this._storage.read().then(_t=>(this._heartbeatsCache=_t,_t))}triggerHeartbeat(){var ge=this;return(0,h.Z)(function*(){const _t=ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=wn();if(null===ge._heartbeatsCache&&(ge._heartbeatsCache=yield ge._heartbeatsCachePromise),ge._heartbeatsCache.lastSentHeartbeatDate!==zt&&!ge._heartbeatsCache.heartbeats.some(Gt=>Gt.date===zt))return ge._heartbeatsCache.heartbeats.push({date:zt,agent:_t}),ge._heartbeatsCache.heartbeats=ge._heartbeatsCache.heartbeats.filter(Gt=>{const Vn=new Date(Gt.date).valueOf();return Date.now()-Vn<=2592e6}),ge._storage.overwrite(ge._heartbeatsCache)})()}getHeartbeatsHeader(){var ge=this;return(0,h.Z)(function*(){if(null===ge._heartbeatsCache&&(yield ge._heartbeatsCachePromise),null===ge._heartbeatsCache||0===ge._heartbeatsCache.heartbeats.length)return"";const rt=wn(),{heartbeatsToSend:_t,unsentEntries:zt}=function js(Fe,ge=1024){const rt=[];let _t=Fe.slice();for(const zt of Fe){const Gt=rt.find(Vn=>Vn.agent===zt.agent);if(Gt){if(Gt.dates.push(zt.date),Lr(rt)>ge){Gt.dates.pop();break}}else if(rt.push({agent:zt.agent,dates:[zt.date]}),Lr(rt)>ge){rt.pop();break}_t=_t.slice(1)}return{heartbeatsToSend:rt,unsentEntries:_t}}(ge._heartbeatsCache.heartbeats),Gt=(0,se.L)(JSON.stringify({version:2,heartbeats:_t}));return ge._heartbeatsCache.lastSentHeartbeatDate=rt,zt.length>0?(ge._heartbeatsCache.heartbeats=zt,yield ge._storage.overwrite(ge._heartbeatsCache)):(ge._heartbeatsCache.heartbeats=[],ge._storage.overwrite(ge._heartbeatsCache)),Gt})()}}function wn(){return(new Date).toISOString().substring(0,10)}class tn{constructor(ge){this.app=ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ge=this;return(0,h.Z)(function*(){return(yield ge._canUseIndexedDBPromise)&&(yield function yt(Fe){return Pt.apply(this,arguments)}(ge.app))||{heartbeats:[]}})()}overwrite(ge){var rt=this;return(0,h.Z)(function*(){var _t;if(yield rt._canUseIndexedDBPromise){const Gt=yield rt.read();return $s(rt.app,{lastSentHeartbeatDate:null!==(_t=ge.lastSentHeartbeatDate)&&void 0!==_t?_t:Gt.lastSentHeartbeatDate,heartbeats:ge.heartbeats})}})()}add(ge){var rt=this;return(0,h.Z)(function*(){var _t;if(yield rt._canUseIndexedDBPromise){const Gt=yield rt.read();return $s(rt.app,{lastSentHeartbeatDate:null!==(_t=ge.lastSentHeartbeatDate)&&void 0!==_t?_t:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...ge.heartbeats]})}})()}}function Lr(Fe){return(0,se.L)(JSON.stringify({version:2,heartbeats:Fe})).length}!function Vr(Fe){en(new L.wA("platform-logger",ge=>new ae(ge),"PRIVATE")),en(new L.wA("heartbeat",ge=>new fo(ge),"PRIVATE")),nr(ve,"0.9.8",Fe),nr(ve,"0.9.8","esm2017"),nr("fire-js","")}("")},4859:(vt,Se,k)=>{k.d(Se,{H0:()=>ve,wA:()=>G});var h=k(5861),L=k(2090);class G{constructor(j,H,Y){this.name=j,this.instanceFactory=H,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const se="[DEFAULT]";class oe{constructor(j,H){this.name=j,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const H=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(H)){const Y=new L.BH;if(this.instancesDeferred.set(H,Y),this.isInitialized(H)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:H});Be&&Y.resolve(Be)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(j){var H;const Y=this.normalizeInstanceIdentifier(j?.identifier),Be=null!==(H=j?.optional)&&void 0!==H&&H;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Ie){if(Be)return null;throw Ie}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function Ne(De){return"EAGER"===De.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[H,Y]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(H);try{const Ie=this.getOrInitializeService({instanceIdentifier:Be});Y.resolve(Ie)}catch{}}}}clearInstance(j=se){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,h.Z)(function*(){const H=Array.from(j.instances.values());yield Promise.all([...H.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...H.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=se){return this.instances.has(j)}getOptions(j=se){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:H={}}=j,Y=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:Y,options:H});for(const[Ie,ze]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Ie)&&ze.resolve(Be);return Be}onInit(j,H){var Y;const Be=this.normalizeInstanceIdentifier(H),Ie=null!==(Y=this.onInitCallbacks.get(Be))&&void 0!==Y?Y:new Set;Ie.add(j),this.onInitCallbacks.set(Be,Ie);const ze=this.instances.get(Be);return ze&&j(ze,Be),()=>{Ie.delete(j)}}invokeOnInitCallbacks(j,H){const Y=this.onInitCallbacks.get(H);if(Y)for(const Be of Y)try{Be(j,H)}catch{}}getOrInitializeService({instanceIdentifier:j,options:H={}}){let Y=this.instances.get(j);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(De=j,De===se?void 0:De),options:H}),this.instances.set(j,Y),this.instancesOptions.set(j,H),this.invokeOnInitCallbacks(Y,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Y)}catch{}var De;return Y||null}normalizeInstanceIdentifier(j=se){return this.component?this.component.multipleInstances?j:se:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const H=this.getProvider(j.name);if(H.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);H.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const H=new oe(j,this);return this.providers.set(j,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Se,k)=>{k.d(Se,{Am:()=>De,Ub:()=>ve,Yd:()=>Ne,in:()=>L});const h=[];var L=(()=>{return(j=L||(L={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",L;var j})();const G={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},se=L.INFO,oe={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ae=(j,H,...Y)=>{if(H<j.logLevel)return;const Be=(new Date).toISOString(),Ie=oe[H];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Ie](`[${Be}]  ${j.name}:`,...Y)};class Ne{constructor(H){this.name=H,this._logLevel=se,this._logHandler=ae,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in L))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?G[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...H),this._logHandler(this,L.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...H),this._logHandler(this,L.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,L.INFO,...H),this._logHandler(this,L.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,L.WARN,...H),this._logHandler(this,L.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...H),this._logHandler(this,L.ERROR,...H)}}function ve(j){h.forEach(H=>{H.setLogLevel(j)})}function De(j,H){for(const Y of h){let Be=null;H&&H.level&&(Be=G[H.level]),Y.userLogHandler=null===j?null:(Ie,ze,...st)=>{const le=st.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch{return null}}).filter(_e=>_e).join(" ");ze>=(Be??Ie.logLevel)&&j({level:L[ze].toLowerCase(),message:le,args:st,type:Ie.name})}}}},259:(vt,Se,k)=>{k.d(Se,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=k(9681);(0,h.registerVersion)("firebase","9.20.0","app")},9260:(vt,Se,k)=>{k.d(Se,{Z:()=>h.Z});var h=k(3942);h.Z.registerVersion("firebase","9.20.0","app-compat")},8766:(vt,Se,k)=>{k.d(Se,{Lj:()=>be,X3:()=>ke});var h=k(5861);const L=($,fe)=>fe.some($e=>$ instanceof $e);let G,se;const Ne=new WeakMap,ve=new WeakMap,De=new WeakMap,j=new WeakMap,H=new WeakMap;let Ie={get($,fe,$e){if($ instanceof IDBTransaction){if("done"===fe)return ve.get($);if("objectStoreNames"===fe)return $.objectStoreNames||De.get($);if("store"===fe)return $e.objectStoreNames[1]?void 0:$e.objectStore($e.objectStoreNames[0])}return _e($[fe])},set:($,fe,$e)=>($[fe]=$e,!0),has:($,fe)=>$ instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in $};function le($){return"function"==typeof $?function st($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...fe){return $.apply(Ee(this),fe),_e(Ne.get(this))}:function(...fe){return _e($.apply(Ee(this),fe))}:function(fe,...$e){const Ge=$.call(Ee(this),fe,...$e);return De.set(Ge,fe.sort?fe.sort():[fe]),_e(Ge)}}($):($ instanceof IDBTransaction&&function Be($){if(ve.has($))return;const fe=new Promise(($e,Ge)=>{const xt=()=>{$.removeEventListener("complete",Qe),$.removeEventListener("error",ne),$.removeEventListener("abort",ne)},Qe=()=>{$e(),xt()},ne=()=>{Ge($.error||new DOMException("AbortError","AbortError")),xt()};$.addEventListener("complete",Qe),$.addEventListener("error",ne),$.addEventListener("abort",ne)});ve.set($,fe)}($),L($,function oe(){return G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,Ie):$)}function _e($){if($ instanceof IDBRequest)return function Y($){const fe=new Promise(($e,Ge)=>{const xt=()=>{$.removeEventListener("success",Qe),$.removeEventListener("error",ne)},Qe=()=>{$e(_e($.result)),xt()},ne=()=>{Ge($.error),xt()};$.addEventListener("success",Qe),$.addEventListener("error",ne)});return fe.then($e=>{$e instanceof IDBCursor&&Ne.set($e,$)}).catch(()=>{}),H.set(fe,$),fe}($);if(j.has($))return j.get($);const fe=le($);return fe!==$&&(j.set($,fe),H.set(fe,$)),fe}const Ee=$=>H.get($);function ke($,fe,{blocked:$e,upgrade:Ge,blocking:xt,terminated:Qe}={}){const ne=indexedDB.open($,fe),ue=_e(ne);return Ge&&ne.addEventListener("upgradeneeded",de=>{Ge(_e(ne.result),de.oldVersion,de.newVersion,_e(ne.transaction))}),$e&&ne.addEventListener("blocked",()=>$e()),ue.then(de=>{Qe&&de.addEventListener("close",()=>Qe()),xt&&de.addEventListener("versionchange",()=>xt())}).catch(()=>{}),ue}function be($,{blocked:fe}={}){const $e=indexedDB.deleteDatabase($);return fe&&$e.addEventListener("blocked",()=>fe()),_e($e).then(()=>{})}const ye=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],Ue=new Map;function xe($,fe){if(!($ instanceof IDBDatabase)||fe in $||"string"!=typeof fe)return;if(Ue.get(fe))return Ue.get(fe);const $e=fe.replace(/FromIndex$/,""),Ge=fe!==$e,xt=Ce.includes($e);if(!($e in(Ge?IDBIndex:IDBObjectStore).prototype)||!xt&&!ye.includes($e))return;const Qe=function(){var ne=(0,h.Z)(function*(ue,...de){const Te=this.transaction(ue,xt?"readwrite":"readonly");let Oe=Te.store;return Ge&&(Oe=Oe.index(de.shift())),(yield Promise.all([Oe[$e](...de),xt&&Te.done]))[0]});return function(de){return ne.apply(this,arguments)}}();return Ue.set(fe,Qe),Qe}!function ze($){Ie=$(Ie)}($=>({...$,get:(fe,$e,Ge)=>xe(fe,$e)||$.get(fe,$e,Ge),has:(fe,$e)=>!!xe(fe,$e)||$.has(fe,$e)}))},5861:(vt,Se,k)=>{function h(G,se,oe,ae,Ne,ve,De){try{var j=G[ve](De),H=j.value}catch(Y){return void oe(Y)}j.done?se(H):Promise.resolve(H).then(ae,Ne)}function L(G){return function(){var se=this,oe=arguments;return new Promise(function(ae,Ne){var ve=G.apply(se,oe);function De(H){h(ve,ae,Ne,De,j,"next",H)}function j(H){h(ve,ae,Ne,De,j,"throw",H)}De(void 0)})}}k.d(Se,{Z:()=>L})}},vt=>{vt(vt.s=7244)}]);